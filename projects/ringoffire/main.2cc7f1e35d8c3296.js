"use strict";(self.webpackChunkringoffire=self.webpackChunkringoffire||[]).push([[179],{2011:(ht,xe,k)=>{k.d(xe,{Dh:()=>ye,GT:()=>ie,Ot:()=>_e,cc:()=>be,hO:()=>Re,on:()=>G,pX:()=>fe,xv:()=>ue});var u=k(4650),ne=k(9260),F=k(462);ht=k.hmd(ht);const se=["ngOnDestroy"],fe=(Se,Pe,Fe,ke={})=>new Proxy(Se,{get:(Ee,Te)=>Fe.runOutsideAngular(()=>{var ze;if(Se[Te])return!(null===(ze=ke?.spy)||void 0===ze)&&ze.get&&ke.spy.get(Te,Se[Te]),Se[Te];if(se.indexOf(Te)>-1)return()=>{};const Ae=Pe.toPromise().then(j=>{const we=j&&j[Te];return"function"==typeof we?we.bind(j):we&&we.then?we.then(X=>Fe.run(()=>X)):Fe.run(()=>we)});return new Proxy(()=>{},{get:(j,we)=>Ae[we],apply:(j,we,X)=>Ae.then(te=>{var ae;const oe=te&&te(...X);return!(null===(ae=ke?.spy)||void 0===ae)&&ae.apply&&ke.spy.apply(Te,X,oe),oe})})})}),ie=(Se,Pe)=>{Pe.forEach(Fe=>{Object.getOwnPropertyNames(Fe.prototype||Fe).forEach(ke=>{Object.defineProperty(Se.prototype,ke,Object.getOwnPropertyDescriptor(Fe.prototype||Fe,ke))})})};class _e{constructor(Pe){return Pe}}const ye=new u.OlP("angularfire2.app.options"),ue=new u.OlP("angularfire2.app.name");function G(Se,Pe,Fe){const Ee="object"==typeof Fe&&Fe||{};Ee.name=Ee.name||"string"==typeof Fe&&Fe||"[DEFAULT]";const ze=ne.Z.apps.filter(Ae=>Ae&&Ae.name===Ee.name)[0]||Pe.runOutsideAngular(()=>ne.Z.initializeApp(Se,Ee));try{JSON.stringify(Se)!==JSON.stringify(ze.options)&&q("error",`${ze.name} Firebase App already initialized with different options${ht.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new _e(ze)}const q=(Se,...Pe)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Se](...Pe)},J={provide:_e,useFactory:G,deps:[ye,u.R0b,[new u.FiY,ue]]};let Re=(()=>{class Se{constructor(Fe){ne.Z.registerVersion("angularfire",F.q4.full,"core"),ne.Z.registerVersion("angularfire",F.q4.full,"app-compat"),ne.Z.registerVersion("angular",u.q4F.full,Fe.toString())}static initializeApp(Fe,ke){return{ngModule:Se,providers:[{provide:ye,useValue:Fe},{provide:ue,useValue:ke}]}}}return Se.\u0275fac=function(Fe){return new(Fe||Se)(u.LFG(u.Lbi))},Se.\u0275mod=u.oAB({type:Se}),Se.\u0275inj=u.cJS({providers:[J]}),Se})();function be(Se,Pe,Fe,ke,Ee){const[,Te,ze]=globalThis.\u0275AngularfireInstanceCache.find(Ae=>Ae[0]===Se)||[];if(Te)return function We(Se,Pe){try{return Se.toString()===Pe.toString()}catch{return Se===Pe}}(Ee,ze)||(me("error",`${Pe} was already initialized on the ${Fe} Firebase App with different settings.${tt?" You may need to reload as Firebase is not HMR aware.":""}`),me("warn",{is:Ee,was:ze})),Te;{const Ae=ke();return globalThis.\u0275AngularfireInstanceCache.push([Se,Ae,Ee]),Ae}}const tt=!!ht.hot,me=(Se,...Pe)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Se](...Pe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},462:(ht,xe,k)=>{k.d(xe,{q4:()=>yl,iC:()=>qs,HU:()=>Gs,vb:()=>Cc,JM:()=>yd,nk:()=>Ec});var u=k(4650),ne=k(259),F=k(5861),se=k(9681),fe=k(2090),ie=k(4859),_e=k(1877);k(2833);const ue="@firebase/remote-config",G="0.4.0",be=new fe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ut{constructor(O,W,le,Me){this.client=O,this.storage=W,this.storageCache=le,this.logger=Me}isCachedDataFresh(O,W){if(!W)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const le=Date.now()-W,Me=le<=O;return this.logger.debug(`Config fetch cache check. Cache age millis: ${le}. Cache max age millis (minimumFetchIntervalMillis setting): ${O}. Is cache hit: ${Me}.`),Me}fetch(O){var W=this;return(0,F.Z)(function*(){const[le,Me]=yield Promise.all([W.storage.getLastSuccessfulFetchTimestampMillis(),W.storage.getLastSuccessfulFetchResponse()]);if(Me&&W.isCachedDataFresh(O.cacheMaxAgeMillis,le))return Me;O.eTag=Me&&Me.eTag;const Ke=yield W.client.fetch(O),xt=[W.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ke.status&&xt.push(W.storage.setLastSuccessfulFetchResponse(Ke)),yield Promise.all(xt),Ke})()}}function tn(P=navigator){return P.languages&&P.languages[0]||P.language}class on{constructor(O,W,le,Me,Ke,xt){this.firebaseInstallations=O,this.sdkVersion=W,this.namespace=le,this.projectId=Me,this.apiKey=Ke,this.appId=xt}fetch(O){var W=this;return(0,F.Z)(function*(){const[le,Me]=yield Promise.all([W.firebaseInstallations.getId(),W.firebaseInstallations.getToken()]),xt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${W.projectId}/namespaces/${W.namespace}:fetch?key=${W.apiKey}`,bn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":O.eTag||"*"},cn={sdk_version:W.sdkVersion,app_instance_id:le,app_instance_id_token:Me,app_id:W.appId,language_code:tn()},Tn={method:"POST",headers:bn,body:JSON.stringify(cn)},wn=fetch(xt,Tn),Wt=new Promise((hr,ao)=>{O.signal.addEventListener(()=>{const xa=new Error("The operation was aborted.");xa.name="AbortError",ao(xa)})});let zi;try{yield Promise.race([wn,Wt]),zi=yield wn}catch(hr){let ao="fetch-client-network";throw"AbortError"===hr?.name&&(ao="fetch-timeout"),be.create(ao,{originalErrorMessage:hr?.message})}let Tr=zi.status;const _s=zi.headers.get("ETag")||void 0;let Lt,ys;if(200===zi.status){let hr;try{hr=yield zi.json()}catch(ao){throw be.create("fetch-client-parse",{originalErrorMessage:ao?.message})}Lt=hr.entries,ys=hr.state}if("INSTANCE_STATE_UNSPECIFIED"===ys?Tr=500:"NO_CHANGE"===ys?Tr=304:("NO_TEMPLATE"===ys||"EMPTY_CONFIG"===ys)&&(Lt={}),304!==Tr&&200!==Tr)throw be.create("fetch-status",{httpStatus:Tr});return{status:Tr,eTag:_s,config:Lt}})()}}class At{constructor(O,W){this.client=O,this.storage=W}fetch(O){var W=this;return(0,F.Z)(function*(){const le=(yield W.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return W.attemptFetch(O,le)})()}attemptFetch(O,{throttleEndTimeMillis:W,backoffCount:le}){var Me=this;return(0,F.Z)(function*(){yield function Mt(P,O){return new Promise((W,le)=>{const Me=Math.max(O-Date.now(),0),Ke=setTimeout(W,Me);P.addEventListener(()=>{clearTimeout(Ke),le(be.create("fetch-throttle",{throttleEndTimeMillis:O}))})})}(O.signal,W);try{const Ke=yield Me.client.fetch(O);return yield Me.storage.deleteThrottleMetadata(),Ke}catch(Ke){if(!function Ht(P){if(!(P instanceof fe.ZR&&P.customData))return!1;const O=Number(P.customData.httpStatus);return 429===O||500===O||503===O||504===O}(Ke))throw Ke;const xt={throttleEndTimeMillis:Date.now()+(0,fe.$s)(le),backoffCount:le+1};return yield Me.storage.setThrottleMetadata(xt),Me.attemptFetch(O,xt)}})()}}class Zn{constructor(O,W,le,Me,Ke){this.app=O,this._client=W,this._storageCache=le,this._storage=Me,this._logger=Ke,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function st(P,O){const W=P.target.error||void 0;return be.create(O,{originalErrorMessage:W&&W?.message})}const sn="app_namespace_store";class Mn{constructor(O,W,le,Me=function _i(){return new Promise((P,O)=>{try{const W=indexedDB.open("firebase_remote_config",1);W.onerror=le=>{O(st(le,"storage-open"))},W.onsuccess=le=>{P(le.target.result)},W.onupgradeneeded=le=>{0===le.oldVersion&&le.target.result.createObjectStore(sn,{keyPath:"compositeKey"})}}catch(W){O(be.create("storage-open",{originalErrorMessage:W?.message}))}})}()){this.appId=O,this.appName=W,this.namespace=le,this.openDbPromise=Me}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(O){return this.set("last_fetch_status",O)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(O){return this.set("last_successful_fetch_timestamp_millis",O)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(O){return this.set("last_successful_fetch_response",O)}getActiveConfig(){return this.get("active_config")}setActiveConfig(O){return this.set("active_config",O)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(O){return this.set("active_config_etag",O)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(O){return this.set("throttle_metadata",O)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(O){var W=this;return(0,F.Z)(function*(){const le=yield W.openDbPromise;return new Promise((Me,Ke)=>{const bn=le.transaction([sn],"readonly").objectStore(sn),cn=W.createCompositeKey(O);try{const Tn=bn.get(cn);Tn.onerror=wn=>{Ke(st(wn,"storage-get"))},Tn.onsuccess=wn=>{const Wt=wn.target.result;Me(Wt?Wt.value:void 0)}}catch(Tn){Ke(be.create("storage-get",{originalErrorMessage:Tn?.message}))}})})()}set(O,W){var le=this;return(0,F.Z)(function*(){const Me=yield le.openDbPromise;return new Promise((Ke,xt)=>{const cn=Me.transaction([sn],"readwrite").objectStore(sn),Tn=le.createCompositeKey(O);try{const wn=cn.put({compositeKey:Tn,value:W});wn.onerror=Wt=>{xt(st(Wt,"storage-set"))},wn.onsuccess=()=>{Ke()}}catch(wn){xt(be.create("storage-set",{originalErrorMessage:wn?.message}))}})})()}delete(O){var W=this;return(0,F.Z)(function*(){const le=yield W.openDbPromise;return new Promise((Me,Ke)=>{const bn=le.transaction([sn],"readwrite").objectStore(sn),cn=W.createCompositeKey(O);try{const Tn=bn.delete(cn);Tn.onerror=wn=>{Ke(st(wn,"storage-delete"))},Tn.onsuccess=()=>{Me()}}catch(Tn){Ke(be.create("storage-delete",{originalErrorMessage:Tn?.message}))}})})()}createCompositeKey(O){return[this.appId,this.appName,this.namespace,O].join()}}class ar{constructor(O){this.storage=O}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var O=this;return(0,F.Z)(function*(){const W=O.storage.getLastFetchStatus(),le=O.storage.getLastSuccessfulFetchTimestampMillis(),Me=O.storage.getActiveConfig(),Ke=yield W;Ke&&(O.lastFetchStatus=Ke);const xt=yield le;xt&&(O.lastSuccessfulFetchTimestampMillis=xt);const bn=yield Me;bn&&(O.activeConfig=bn)})()}setLastFetchStatus(O){return this.lastFetchStatus=O,this.storage.setLastFetchStatus(O)}setLastSuccessfulFetchTimestampMillis(O){return this.lastSuccessfulFetchTimestampMillis=O,this.storage.setLastSuccessfulFetchTimestampMillis(O)}setActiveConfig(O){return this.activeConfig=O,this.storage.setActiveConfig(O)}}function lr(){return gn.apply(this,arguments)}function gn(){return(gn=(0,F.Z)(function*(){if(!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch{return!1}})).apply(this,arguments)}!function wi(){(0,se._registerComponent)(new ie.wA("remote-config",function P(O,{instanceIdentifier:W}){const le=O.getProvider("app").getImmediate(),Me=O.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw be.create("registration-window");if(!(0,fe.hl)())throw be.create("indexed-db-unavailable");const{projectId:Ke,apiKey:xt,appId:bn}=le.options;if(!Ke)throw be.create("registration-project-id");if(!xt)throw be.create("registration-api-key");if(!bn)throw be.create("registration-app-id");const cn=new Mn(bn,le.name,W=W||"firebase"),Tn=new ar(cn),wn=new _e.Yd(ue);wn.logLevel=_e.in.ERROR;const Wt=new on(Me,se.SDK_VERSION,W,Ke,xt,bn),zi=new At(Wt,cn),Tr=new ut(zi,cn,Tn,wn),_s=new Zn(le,Tr,Tn,cn,wn);return function ze(P){const O=(0,fe.m9)(P);O._initializePromise||(O._initializePromise=O._storageCache.loadFromStorage().then(()=>{O._isInitializationComplete=!0}))}(_s),_s},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(ue,G),(0,se.registerVersion)(ue,G,"esm2017")}();var Rn=k(8766);const gt="/firebase-messaging-sw.js",Ai="/firebase-cloud-messaging-push-scope",Bi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",li="google.c.a.c_id",Dr="google.c.a.c_l",Dt="google.c.a.ts",_t="google.c.a.e";var On=(()=>{return(P=On||(On={})).PUSH_RECEIVED="push-received",P.NOTIFICATION_CLICKED="notification-clicked",On;var P})();function nn(P){const O=new Uint8Array(P);return btoa(String.fromCharCode(...O)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Pn(P){const W=(P+"=".repeat((4-P.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),le=atob(W),Me=new Uint8Array(le.length);for(let Ke=0;Ke<le.length;++Ke)Me[Ke]=le.charCodeAt(Ke);return Me}const Ei="fcm_token_details_db",no="fcm_token_object_Store";function ln(P){return Mi.apply(this,arguments)}function Mi(){return Mi=(0,F.Z)(function*(P){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ke=>Ke.name).includes(Ei))return null;let O=null;return(yield(0,Rn.X3)(Ei,5,{upgrade:(le=(0,F.Z)(function*(Me,Ke,xt,bn){var cn;if(Ke<2||!Me.objectStoreNames.contains(no))return;const Tn=bn.objectStore(no),wn=yield Tn.index("fcmSenderId").get(P);if(yield Tn.clear(),wn)if(2===Ke){const Wt=wn;if(!Wt.auth||!Wt.p256dh||!Wt.endpoint)return;O={token:Wt.fcmToken,createTime:null!==(cn=Wt.createTime)&&void 0!==cn?cn:Date.now(),subscriptionOptions:{auth:Wt.auth,p256dh:Wt.p256dh,endpoint:Wt.endpoint,swScope:Wt.swScope,vapidKey:"string"==typeof Wt.vapidKey?Wt.vapidKey:nn(Wt.vapidKey)}}}else if(3===Ke){const Wt=wn;O={token:Wt.fcmToken,createTime:Wt.createTime,subscriptionOptions:{auth:nn(Wt.auth),p256dh:nn(Wt.p256dh),endpoint:Wt.endpoint,swScope:Wt.swScope,vapidKey:nn(Wt.vapidKey)}}}else if(4===Ke){const Wt=wn;O={token:Wt.fcmToken,createTime:Wt.createTime,subscriptionOptions:{auth:nn(Wt.auth),p256dh:nn(Wt.p256dh),endpoint:Wt.endpoint,swScope:Wt.swScope,vapidKey:nn(Wt.vapidKey)}}}}),function(Ke,xt,bn,cn){return le.apply(this,arguments)})})).close(),yield(0,Rn.Lj)(Ei),yield(0,Rn.Lj)("fcm_vapid_details_db"),yield(0,Rn.Lj)("undefined"),Yt(O)?O:null;var le}),Mi.apply(this,arguments)}function Yt(P){if(!P||!P.subscriptionOptions)return!1;const{subscriptionOptions:O}=P;return"number"==typeof P.createTime&&P.createTime>0&&"string"==typeof P.token&&P.token.length>0&&"string"==typeof O.auth&&O.auth.length>0&&"string"==typeof O.p256dh&&O.p256dh.length>0&&"string"==typeof O.endpoint&&O.endpoint.length>0&&"string"==typeof O.swScope&&O.swScope.length>0&&"string"==typeof O.vapidKey&&O.vapidKey.length>0}const je="firebase-messaging-store";let Ie=null;function nt(){return Ie||(Ie=(0,Rn.X3)("firebase-messaging-database",1,{upgrade:(P,O)=>{0===O&&P.createObjectStore(je)}})),Ie}function It(P){return kt.apply(this,arguments)}function kt(){return(kt=(0,F.Z)(function*(P){const O=H(P),le=yield(yield nt()).transaction(je).objectStore(je).get(O);if(le)return le;{const Me=yield ln(P.appConfig.senderId);if(Me)return yield Nt(P,Me),Me}})).apply(this,arguments)}function Nt(P,O){return z.apply(this,arguments)}function z(){return(z=(0,F.Z)(function*(P,O){const W=H(P),Me=(yield nt()).transaction(je,"readwrite");return yield Me.objectStore(je).put(O,W),yield Me.done,O})).apply(this,arguments)}function B(P){return R.apply(this,arguments)}function R(){return(R=(0,F.Z)(function*(P){const O=H(P),le=(yield nt()).transaction(je,"readwrite");yield le.objectStore(je).delete(O),yield le.done})).apply(this,arguments)}function H({appConfig:P}){return P.appId}const he=new fe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Oe(P,O){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,F.Z)(function*(P,O){const W=yield ci(P),le=Qn(O),Me={method:"POST",headers:W,body:JSON.stringify(le)};let Ke;try{Ke=yield(yield fetch(fn(P.appConfig),Me)).json()}catch(xt){throw he.create("token-subscribe-failed",{errorInfo:xt?.toString()})}if(Ke.error)throw he.create("token-subscribe-failed",{errorInfo:Ke.error.message});if(!Ke.token)throw he.create("token-subscribe-no-token");return Ke.token})).apply(this,arguments)}function lt(P,O){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,F.Z)(function*(P,O){const W=yield ci(P),le=Qn(O.subscriptionOptions),Me={method:"PATCH",headers:W,body:JSON.stringify(le)};let Ke;try{Ke=yield(yield fetch(`${fn(P.appConfig)}/${O.token}`,Me)).json()}catch(xt){throw he.create("token-update-failed",{errorInfo:xt?.toString()})}if(Ke.error)throw he.create("token-update-failed",{errorInfo:Ke.error.message});if(!Ke.token)throw he.create("token-update-no-token");return Ke.token})).apply(this,arguments)}function Ft(P,O){return ft.apply(this,arguments)}function ft(){return(ft=(0,F.Z)(function*(P,O){const le={method:"DELETE",headers:yield ci(P)};try{const Ke=yield(yield fetch(`${fn(P.appConfig)}/${O}`,le)).json();if(Ke.error)throw he.create("token-unsubscribe-failed",{errorInfo:Ke.error.message})}catch(Me){throw he.create("token-unsubscribe-failed",{errorInfo:Me?.toString()})}})).apply(this,arguments)}function fn({projectId:P}){return`https://fcmregistrations.googleapis.com/v1/projects/${P}/registrations`}function ci(P){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,F.Z)(function*({appConfig:P,installations:O}){const W=yield O.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":P.apiKey,"x-goog-firebase-installations-auth":`FIS ${W}`})})).apply(this,arguments)}function Qn({p256dh:P,auth:O,endpoint:W,vapidKey:le}){const Me={web:{endpoint:W,auth:O,p256dh:P}};return le!==Bi&&(Me.web.applicationPubKey=le),Me}const Us=6048e5;function $o(P){return hs.apply(this,arguments)}function hs(){return(hs=(0,F.Z)(function*(P){const O=yield Sn(P.swRegistration,P.vapidKey),W={vapidKey:P.vapidKey,swScope:P.swRegistration.scope,endpoint:O.endpoint,auth:nn(O.getKey("auth")),p256dh:nn(O.getKey("p256dh"))},le=yield It(P.firebaseDependencies);if(le){if(pn(le.subscriptionOptions,W))return Date.now()>=le.createTime+Us?Q(P,{token:le.token,createTime:Date.now(),subscriptionOptions:W}):le.token;try{yield Ft(P.firebaseDependencies,le.token)}catch(Me){console.warn(Me)}return Ue(P.firebaseDependencies,W)}return Ue(P.firebaseDependencies,W)})).apply(this,arguments)}function js(P){return fs.apply(this,arguments)}function fs(){return(fs=(0,F.Z)(function*(P){const O=yield It(P.firebaseDependencies);O&&(yield Ft(P.firebaseDependencies,O.token),yield B(P.firebaseDependencies));const W=yield P.swRegistration.pushManager.getSubscription();return!W||W.unsubscribe()})).apply(this,arguments)}function Q(P,O){return ve.apply(this,arguments)}function ve(){return(ve=(0,F.Z)(function*(P,O){try{const W=yield lt(P.firebaseDependencies,O),le=Object.assign(Object.assign({},O),{token:W,createTime:Date.now()});return yield Nt(P.firebaseDependencies,le),W}catch(W){throw yield js(P),W}})).apply(this,arguments)}function Ue(P,O){return vt.apply(this,arguments)}function vt(){return(vt=(0,F.Z)(function*(P,O){const le={token:yield Oe(P,O),createTime:Date.now(),subscriptionOptions:O};return yield Nt(P,le),le.token})).apply(this,arguments)}function Sn(P,O){return pt.apply(this,arguments)}function pt(){return(pt=(0,F.Z)(function*(P,O){return(yield P.pushManager.getSubscription())||P.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Pn(O)})})).apply(this,arguments)}function pn(P,O){return O.vapidKey===P.vapidKey&&O.endpoint===P.endpoint&&O.auth===P.auth&&O.p256dh===P.p256dh}function an(P){const O={from:P.from,collapseKey:P.collapse_key,messageId:P.fcmMessageId};return function Ui(P,O){if(!O.notification)return;P.notification={};const W=O.notification.title;W&&(P.notification.title=W);const le=O.notification.body;le&&(P.notification.body=le);const Me=O.notification.image;Me&&(P.notification.image=Me);const Ke=O.notification.icon;Ke&&(P.notification.icon=Ke)}(O,P),function Dn(P,O){!O.data||(P.data=O.data)}(O,P),function cr(P,O){var W,le,Me,Ke,xt;if(!(O.fcmOptions||null!==(W=O.notification)&&void 0!==W&&W.click_action))return;P.fcmOptions={};const bn=null!==(Me=null===(le=O.fcmOptions)||void 0===le?void 0:le.link)&&void 0!==Me?Me:null===(Ke=O.notification)||void 0===Ke?void 0:Ke.click_action;bn&&(P.fcmOptions.link=bn);const cn=null===(xt=O.fcmOptions)||void 0===xt?void 0:xt.analytics_label;cn&&(P.fcmOptions.analyticsLabel=cn)}(O,P),O}function rt(P){return"object"==typeof P&&!!P&&li in P}function zt(P,O){const W=[];for(let le=0;le<P.length;le++)W.push(P.charAt(le)),le<O.length&&W.push(O.charAt(le));return W.join("")}function er(P){return he.create("missing-app-config-values",{valueName:P})}zt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),zt("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class jr{constructor(O,W,le){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Me=function kn(P){if(!P||!P.options)throw er("App Configuration Object");if(!P.name)throw er("App Name");const O=["projectId","apiKey","appId","messagingSenderId"],{options:W}=P;for(const le of O)if(!W[le])throw er(le);return{appName:P.name,projectId:W.projectId,apiKey:W.apiKey,appId:W.appId,senderId:W.messagingSenderId}}(O);this.firebaseDependencies={app:O,appConfig:Me,installations:W,analyticsProvider:le}}_delete(){return Promise.resolve()}}function zn(P){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,F.Z)(function*(P){try{P.swRegistration=yield navigator.serviceWorker.register(gt,{scope:Ai}),P.swRegistration.update().catch(()=>{})}catch(O){throw he.create("failed-service-worker-registration",{browserErrorMessage:O?.message})}})).apply(this,arguments)}function Fn(P,O){return Io.apply(this,arguments)}function Io(){return(Io=(0,F.Z)(function*(P,O){if(!O&&!P.swRegistration&&(yield zn(P)),O||!P.swRegistration){if(!(O instanceof ServiceWorkerRegistration))throw he.create("invalid-sw-registration");P.swRegistration=O}})).apply(this,arguments)}function Hs(P,O){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,F.Z)(function*(P,O){O?P.vapidKey=O:P.vapidKey||(P.vapidKey=Bi)})).apply(this,arguments)}function $r(){return($r=(0,F.Z)(function*(P,O){if(!navigator)throw he.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw he.create("permission-blocked");return yield Hs(P,O?.vapidKey),yield Fn(P,O?.serviceWorkerRegistration),$o(P)})).apply(this,arguments)}function wc(P,O,W){return io.apply(this,arguments)}function io(){return(io=(0,F.Z)(function*(P,O,W){const le=yi(O);(yield P.firebaseDependencies.analyticsProvider.get()).logEvent(le,{message_id:W[li],message_name:W[Dr],message_time:W[Dt],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function yi(P){switch(P){case On.NOTIFICATION_CLICKED:return"notification_open";case On.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ro(){return(ro=(0,F.Z)(function*(P,O){const W=O.data;if(!W.isFirebaseMessaging)return;P.onMessageHandler&&W.messageType===On.PUSH_RECEIVED&&("function"==typeof P.onMessageHandler?P.onMessageHandler(an(W)):P.onMessageHandler.next(an(W)));const le=W.data;rt(le)&&"1"===le[_t]&&(yield wc(P,W.messageType,le))})).apply(this,arguments)}const ji="@firebase/messaging",Xn=P=>{const O=new jr(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),P.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",W=>function Go(P,O){return ro.apply(this,arguments)}(O,W)),O},In=P=>{const O=P.getProvider("messaging").getImmediate();return{getToken:le=>function zo(P,O){return $r.apply(this,arguments)}(O,le)}};function tr(){return va.apply(this,arguments)}function va(){return(va=(0,F.Z)(function*(){try{yield(0,fe.eu)()}catch{return!1}return typeof window<"u"&&(0,fe.hl)()&&(0,fe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Pf(){(0,se._registerComponent)(new ie.wA("messaging",Xn,"PUBLIC")),(0,se._registerComponent)(new ie.wA("messaging-internal",In,"PRIVATE")),(0,se.registerVersion)(ji,"0.12.0"),(0,se.registerVersion)(ji,"0.12.0","esm2017")}();var Ir=k(5132),wa=k(4408),$s=k(7565);const _l=new class fg extends $s.v{}(class xr extends wa.o{constructor(O,W){super(O,W),this.scheduler=O,this.work=W}schedule(O,W=0){return W>0?super.schedule(O,W):(this.delay=W,this.state=O,this.scheduler.flush(this),this)}execute(O,W){return W>0||this.closed?super.execute(O,W):this._execute(O,W)}requestAsyncId(O,W,le=0){return null!=le&&le>0||null==le&&this.delay>0?super.requestAsyncId(O,W,le):(O.flush(this),0)}});var gs=k(4986),zs=k(8505),md=k(9468),gd=k(5363);const yl=new u.GfV("7.5.0"),Ea="__angularfire_symbol__analyticsIsSupportedValue",qo="__angularfire_symbol__analyticsIsSupported",_d="__angularfire_symbol__remoteConfigIsSupportedValue",Wo="__angularfire_symbol__remoteConfigIsSupported",Ca="__angularfire_symbol__messagingIsSupportedValue",vl="__angularfire_symbol__messagingIsSupported";globalThis[qo]||(globalThis[qo]=(0,Ir.Gb)().then(P=>globalThis[Ea]=P).catch(()=>globalThis[Ea]=!1)),globalThis[vl]||(globalThis[vl]=tr().then(P=>globalThis[Ca]=P).catch(()=>globalThis[Ca]=!1)),globalThis[Wo]||(globalThis[Wo]=lr().then(P=>globalThis[_d]=P).catch(()=>globalThis[_d]=!1));const Ec={async:()=>globalThis[qo],sync:()=>{const P=globalThis[Ea];if(void 0===P)throw new Error((P=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${P} in the constructor, first ensure that ${P} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${P})\`.`)("Analytics"));return P}};function yd(P,O,W){if(O){if(1===O.length)return O[0];const Ke=O.filter(xt=>xt.app===W);if(1===Ke.length)return Ke[0]}return W.container.getProvider(P).getImmediate({optional:!0})}const Cc=(P,O)=>{const W=O?[O]:(0,ne.C6)(),le=[];return W.forEach(Me=>{Me.container.getProvider(P).instances.forEach(xt=>{le.includes(xt)||le.push(xt)})}),le};function dr(){}class wl{constructor(O,W=_l){this.zone=O,this.delegate=W}now(){return this.delegate.now()}schedule(O,W,le){const Me=this.zone;return this.delegate.schedule(function(xt){Me.runGuarded(()=>{O.apply(this,[xt])})},W,le)}}class El{constructor(O){this.zone=O,this.task=null}call(O,W){const le=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",dr,{},dr,dr)),W.pipe((0,zs.b)({next:le,complete:le,error:le})).subscribe(O).add(le)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Gs=(()=>{class P{constructor(W){this.ngZone=W,this.outsideAngular=W.runOutsideAngular(()=>new wl(Zone.current)),this.insideAngular=W.run(()=>new wl(Zone.current,gs.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return P.\u0275fac=function(W){return new(W||P)(u.LFG(u.R0b))},P.\u0275prov=u.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();function so(){const P=globalThis.\u0275AngularFireScheduler;if(!P)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return P}function qs(P){return so(),function xc(P){return function(W){return(W=W.lift(new El(P.ngZone))).pipe((0,md.R)(P.outsideAngular),(0,gd.Q)(P.insideAngular))}}(so())(P)}},2090:(ht,xe,k)=>{k.d(xe,{$s:()=>nt,BH:()=>on,G6:()=>Te,L:()=>ye,LL:()=>un,Pz:()=>tn,Sg:()=>Mt,UG:()=>We,US:()=>ie,ZB:()=>q,ZR:()=>At,aH:()=>ut,b$:()=>Se,eu:()=>Ae,hl:()=>ze,jU:()=>tt,m9:()=>Nt,ne:()=>Dr,pd:()=>hn,r3:()=>wi,ru:()=>me,tV:()=>ue,uI:()=>be,vZ:()=>gn,w1:()=>Fe,xO:()=>Ai,xb:()=>$n,z$:()=>Re,zI:()=>j,zd:()=>Bi});const se=function(z){const B=[];let R=0;for(let H=0;H<z.length;H++){let V=z.charCodeAt(H);V<128?B[R++]=V:V<2048?(B[R++]=V>>6|192,B[R++]=63&V|128):55296==(64512&V)&&H+1<z.length&&56320==(64512&z.charCodeAt(H+1))?(V=65536+((1023&V)<<10)+(1023&z.charCodeAt(++H)),B[R++]=V>>18|240,B[R++]=V>>12&63|128,B[R++]=V>>6&63|128,B[R++]=63&V|128):(B[R++]=V>>12|224,B[R++]=V>>6&63|128,B[R++]=63&V|128)}return B},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(z,B){if(!Array.isArray(z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const R=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,H=[];for(let V=0;V<z.length;V+=3){const he=z[V],Oe=V+1<z.length,Ze=Oe?z[V+1]:0,lt=V+2<z.length,Ye=lt?z[V+2]:0;let fn=(15&Ze)<<2|Ye>>6,ci=63&Ye;lt||(ci=64,Oe||(fn=64)),H.push(R[he>>2],R[(3&he)<<4|Ze>>4],R[fn],R[ci])}return H.join("")},encodeString(z,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(z):this.encodeByteArray(se(z),B)},decodeString(z,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(z):function(z){const B=[];let R=0,H=0;for(;R<z.length;){const V=z[R++];if(V<128)B[H++]=String.fromCharCode(V);else if(V>191&&V<224){const he=z[R++];B[H++]=String.fromCharCode((31&V)<<6|63&he)}else if(V>239&&V<365){const lt=((7&V)<<18|(63&z[R++])<<12|(63&z[R++])<<6|63&z[R++])-65536;B[H++]=String.fromCharCode(55296+(lt>>10)),B[H++]=String.fromCharCode(56320+(1023&lt))}else{const he=z[R++],Oe=z[R++];B[H++]=String.fromCharCode((15&V)<<12|(63&he)<<6|63&Oe)}}return B.join("")}(this.decodeStringToByteArray(z,B))},decodeStringToByteArray(z,B){this.init_();const R=B?this.charToByteMapWebSafe_:this.charToByteMap_,H=[];for(let V=0;V<z.length;){const he=R[z.charAt(V++)],Ze=V<z.length?R[z.charAt(V)]:0;++V;const Ye=V<z.length?R[z.charAt(V)]:64;++V;const ft=V<z.length?R[z.charAt(V)]:64;if(++V,null==he||null==Ze||null==Ye||null==ft)throw Error();H.push(he<<2|Ze>>4),64!==Ye&&(H.push(Ze<<4&240|Ye>>2),64!==ft&&H.push(Ye<<6&192|ft))}return H},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let z=0;z<this.ENCODED_VALS.length;z++)this.byteToCharMap_[z]=this.ENCODED_VALS.charAt(z),this.charToByteMap_[this.byteToCharMap_[z]]=z,this.byteToCharMapWebSafe_[z]=this.ENCODED_VALS_WEBSAFE.charAt(z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[z]]=z,z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(z)]=z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(z)]=z)}}},ye=function(z){return function(z){const B=se(z);return ie.encodeByteArray(B,!0)}(z).replace(/\./g,"")},ue=function(z){try{return ie.decodeString(z,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function q(z,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===z&&(z={});break;case Array:z=[];break;default:return B}for(const R in B)!B.hasOwnProperty(R)||!J(R)||(z[R]=q(z[R],B[R]));return z}function J(z){return"__proto__"!==z}function Re(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function be(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Re())}function We(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function tt(){return"object"==typeof self&&self.self===self}function me(){const z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof z&&void 0!==z.id}function Se(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Fe(){const z=Re();return z.indexOf("MSIE ")>=0||z.indexOf("Trident/")>=0}function Te(){return!We()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ze(){try{return"object"==typeof indexedDB}catch{return!1}}function Ae(){return new Promise((z,B)=>{try{let R=!0;const H="validate-browser-context-for-indexeddb-analytics-module",V=self.indexedDB.open(H);V.onsuccess=()=>{V.result.close(),R||self.indexedDB.deleteDatabase(H),z(!0)},V.onupgradeneeded=()=>{R=!1},V.onerror=()=>{var he;B((null===(he=V.error)||void 0===he?void 0:he.message)||"")}}catch(R){B(R)}})}function j(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const oe=()=>{try{return function we(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const z=process.env.__FIREBASE_DEFAULTS__;return z?JSON.parse(z):void 0})()||(()=>{if(typeof document>"u")return;let z;try{z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const B=z&&ue(z[1]);return B&&JSON.parse(B)})()}catch(z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${z}`)}},ut=()=>{var z;return null===(z=oe())||void 0===z?void 0:z.config},tn=z=>{var B;return null===(B=oe())||void 0===B?void 0:B[`_${z}`]};class on{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,R)=>{this.resolve=B,this.reject=R})}wrapCallback(B){return(R,H)=>{R?this.reject(R):this.resolve(H),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(R):B(R,H))}}}function Mt(z,B){if(z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const H=B||"demo-project",V=z.iat||0,he=z.sub||z.user_id;if(!he)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Oe=Object.assign({iss:`https://securetoken.google.com/${H}`,aud:H,iat:V,exp:V+3600,auth_time:V,sub:he,user_id:he,firebase:{sign_in_provider:"custom",identities:{}}},z);return[ye(JSON.stringify({alg:"none",type:"JWT"})),ye(JSON.stringify(Oe)),""].join(".")}class At extends Error{constructor(B,R,H){super(R),this.code=B,this.customData=H,this.name="FirebaseError",Object.setPrototypeOf(this,At.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,un.prototype.create)}}class un{constructor(B,R,H){this.service=B,this.serviceName=R,this.errors=H}create(B,...R){const H=R[0]||{},V=`${this.service}/${B}`,he=this.errors[B],Oe=he?function ei(z,B){return z.replace(Zn,(R,H)=>{const V=B[H];return null!=V?String(V):`<${H}?>`})}(he,H):"Error";return new At(V,`${this.serviceName}: ${Oe} (${V}).`,H)}}const Zn=/\{\$([^}]+)}/g;function wi(z,B){return Object.prototype.hasOwnProperty.call(z,B)}function $n(z){for(const B in z)if(Object.prototype.hasOwnProperty.call(z,B))return!1;return!0}function gn(z,B){if(z===B)return!0;const R=Object.keys(z),H=Object.keys(B);for(const V of R){if(!H.includes(V))return!1;const he=z[V],Oe=B[V];if(Rn(he)&&Rn(Oe)){if(!gn(he,Oe))return!1}else if(he!==Oe)return!1}for(const V of H)if(!R.includes(V))return!1;return!0}function Rn(z){return null!==z&&"object"==typeof z}function Ai(z){const B=[];for(const[R,H]of Object.entries(z))Array.isArray(H)?H.forEach(V=>{B.push(encodeURIComponent(R)+"="+encodeURIComponent(V))}):B.push(encodeURIComponent(R)+"="+encodeURIComponent(H));return B.length?"&"+B.join("&"):""}function Bi(z){const B={};return z.replace(/^\?/,"").split("&").forEach(H=>{if(H){const[V,he]=H.split("=");B[decodeURIComponent(V)]=decodeURIComponent(he)}}),B}function hn(z){const B=z.indexOf("?");if(!B)return"";const R=z.indexOf("#",B);return z.substring(B,R>0?R:void 0)}function Dr(z,B){const R=new Dt(z,B);return R.subscribe.bind(R)}class Dt{constructor(B,R){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=R,this.task.then(()=>{B(this)}).catch(H=>{this.error(H)})}next(B){this.forEachObserver(R=>{R.next(B)})}error(B){this.forEachObserver(R=>{R.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,R,H){let V;if(void 0===B&&void 0===R&&void 0===H)throw new Error("Missing Observer.");V=function Et(z,B){if("object"!=typeof z||null===z)return!1;for(const R of B)if(R in z&&"function"==typeof z[R])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:R,complete:H},void 0===V.next&&(V.next=On),void 0===V.error&&(V.error=On),void 0===V.complete&&(V.complete=On);const he=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?V.error(this.finalError):V.complete()}catch{}}),this.observers.push(V),he}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let R=0;R<this.observers.length;R++)this.sendOne(R,B)}sendOne(B,R){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{R(this.observers[B])}catch(H){typeof console<"u"&&console.error&&console.error(H)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function On(){}function nt(z,B=1e3,R=2){const H=B*Math.pow(R,z),V=Math.round(.5*H*(Math.random()-.5)*2);return Math.min(144e5,H+V)}function Nt(z){return z&&z._delegate?z._delegate:z}},5600:(ht,xe,k)=>{var u=k(4650);let ne=null;function F(){return ne}class fe{}const ie=new u.OlP("DocumentToken");let _e=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function ye(){return(0,u.LFG)(G)}()},providedIn:"platform"}),n})();const ue=new u.OlP("Location Initialized");let G=(()=>{class n extends _e{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(t){const i=F().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=F().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){q()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){q()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function J(){return new G((0,u.LFG)(ie))}()},providedIn:"platform"}),n})();function q(){return!!window.history.pushState}function Re(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function be(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function We(n){return n&&"?"!==n[0]?"?"+n:n}let tt=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Se)},providedIn:"root"}),n})();const me=new u.OlP("appBaseHref");let Se=(()=>{class n extends tt{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Re(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+We(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,a){const c=this.prepareExternalUrl(r+We(a));this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,a){const c=this.prepareExternalUrl(r+We(a));this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(_e),u.LFG(me,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Pe=(()=>{class n extends tt{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Re(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,a){let c=this.prepareExternalUrl(r+We(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,a){let c=this.prepareExternalUrl(r+We(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(_e),u.LFG(me,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Fe=(()=>{class n{constructor(t){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function ze(n){if(/^(https?:)?\/\//.test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(be(Te(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+We(i))}normalize(t){return n.stripTrailingSlash(function Ee(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._basePath,Te(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+We(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+We(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=We,n.joinWithSlash=Re,n.stripTrailingSlash=be,n.\u0275fac=function(t){return new(t||n)(u.LFG(tt))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function ke(){return new Fe((0,u.LFG)(tt))}()},providedIn:"root"}),n})();function Te(n){return n.replace(/\/index.html$/,"")}class er{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let jr=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,a,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new er(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===a?void 0:a);else if(null!==a){const f=i.get(a);i.move(f,c),zn(f,r)}});for(let r=0,a=i.length;r<a;r++){const f=i.get(r).context;f.index=r,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{zn(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function zn(n,e){n.context.$implicit=e.item}let Fn=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Io,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Hs("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Hs("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Io{constructor(){this.$implicit=null,this.ngIf=null}}function Hs(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}class Ut{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let zo=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),$r=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new Ut(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(zo,9))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),ro=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,a]=t.split("."),c=-1===r.indexOf("-")?void 0:u.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,a?`${i}${a}`:i,c):this._renderer.removeStyle(this._ngEl.nativeElement,r,c)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.aQg),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),ji=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:a,ngTemplateOutletInjector:c}=this;this._viewRef=i.createEmbeddedView(r,a,c?{injector:c}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[u.TTD]}),n})(),Wo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const Ca="browser";function bl(n){return n===Ca}function Ec(n){return"server"===n}let wl=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new El((0,u.LFG)(ie),window)}),n})();class El{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function so(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const c=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Gs(this.window.history)||Gs(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Gs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class wg extends fe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class bs extends wg{static makeCurrent(){!function se(n){ne||(ne=n)}(new bs)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Oc(){return To=To||document.querySelector("base"),To?To.getAttribute("href"):null}();return null==t?null:function wd(n){Ko=Ko||document.createElement("a"),Ko.setAttribute("href",n);const e=Ko.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){To=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Dn(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,a]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let Ko,To=null;const Gf=new u.OlP("TRANSITION_ID"),Il=[{provide:u.ip1,useFactory:function Aa(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const i=F(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[Gf,ie,u.zs3],multi:!0}];let Ed=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const xl=new u.OlP("EventManagerPlugins");let Ao=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const c=r[a];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(xl),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class qf{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=F().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let Wf=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),ws=(()=>{class n extends Wf{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(a=>{const c=this._doc.createElement("style");c.textContent=a,r.push(i.appendChild(c))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(Eg),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Eg))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Eg(n){F().remove(n)}const Gn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},kc=/%COMP%/g;function Ra(n,e){return e.flat(100).map(t=>t.replace(kc,n))}function Zs(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ys=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Qs(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case u.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Cd(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case u.ifc.ShadowDom:return new Vc(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Ra(i.id,i.styles);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ao),u.LFG(ws),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Qs{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Gn[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(qr(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(qr(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const a=Gn[r];a?e.setAttributeNS(a,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Gn[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,i,r&u.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Zs(i)):this.eventManager.addEventListener(e,t,Zs(i))}}function qr(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Cd extends Qs{constructor(e,t,i,r){super(e),this.component=i;const a=Ra(r+"-"+i.id,i.styles);t.addStyles(a),this.contentAttr=function Nc(n){return"_ngcontent-%COMP%".replace(kc,n)}(r+"-"+i.id),this.hostAttr=function Zf(n){return"_nghost-%COMP%".replace(kc,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class Vc extends Qs{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Ra(r.id,r.styles);for(let c=0;c<a.length;c++){const f=document.createElement("style");f.textContent=a[c],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Tl=(()=>{class n extends qf{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Bc=["alt","control","meta","shift"],Dd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Id={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Yv=(()=>{class n extends qf{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const a=n.parseEventName(i),c=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(t,a.domEventName,c))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let c="",f=i.indexOf("code");if(f>-1&&(i.splice(f,1),c="code."),Bc.forEach(w=>{const D=i.indexOf(w);D>-1&&(i.splice(D,1),c+=w+".")}),c+=a,0!=i.length||0===a.length)return null;const _={};return _.domEventName=r,_.fullKey=c,_}static matchEventFullKeyCode(t,i){let r=Dd[t.key]||t.key,a="";return i.indexOf("code.")>-1&&(r=t.code,a="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Bc.forEach(c=>{c!==r&&(0,Id[c])(t)&&(a+=c+".")}),a+=r,a===i)}static eventCallback(t,i,r){return a=>{n.matchEventFullKeyCode(a,t)&&r.runGuarded(()=>i(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Jf=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:Ca},{provide:u.g9A,useValue:function Uc(){bs.makeCurrent()},multi:!0},{provide:ie,useFactory:function Xf(){return(0,u.RDi)(document),document},deps:[]}]),Mo=new u.OlP(""),ep=[{provide:u.rWj,useClass:class Zv{addToWindow(e){u.dqk.getAngularTestability=(i,r=!0)=>{const a=e.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(i=>{const r=u.dqk.getAllAngularTestabilities();let a=r.length,c=!1;const f=function(_){c=c||_,a--,0==a&&i(c)};r.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?F().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],Td=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Es(){return new u.qLn},deps:[]},{provide:xl,useClass:Tl,multi:!0,deps:[ie,u.R0b,u.Lbi]},{provide:xl,useClass:Yv,multi:!0,deps:[ie]},{provide:Ys,useClass:Ys,deps:[Ao,ws,u.AFp]},{provide:u.FYo,useExisting:Ys},{provide:Wf,useExisting:ws},{provide:ws,useClass:ws,deps:[ie]},{provide:Ao,useClass:Ao,deps:[xl,u.R0b]},{provide:class Sr{},useClass:Ed,deps:[]},[]];let jc=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:Gf,useExisting:u.AFp},Il]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Mo,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...Td,...ep],imports:[Wo,u.hGG]}),n})(),Cs=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Oa(){return new Cs((0,u.LFG)(ie))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Rl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):u.LFG(Gc),i},providedIn:"root"}),n})(),Gc=(()=>{class n extends Rl{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case u.q3G.NONE:return i;case u.q3G.HTML:return(0,u.qzn)(i,"HTML")?(0,u.z3N)(i):(0,u.EiD)(this._doc,String(i)).toString();case u.q3G.STYLE:return(0,u.qzn)(i,"Style")?(0,u.z3N)(i):i;case u.q3G.SCRIPT:if((0,u.qzn)(i,"Script"))return(0,u.z3N)(i);throw new Error("unsafe value used in a script context");case u.q3G.URL:return(0,u.qzn)(i,"URL")?(0,u.z3N)(i):(0,u.mCW)(String(i));case u.q3G.RESOURCE_URL:if((0,u.qzn)(i,"ResourceURL"))return(0,u.z3N)(i);throw new Error(`unsafe value used in a resource URL context (see ${u.JZr})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${u.JZr})`)}}bypassSecurityTrustHtml(t){return(0,u.JVY)(t)}bypassSecurityTrustStyle(t){return(0,u.L6k)(t)}bypassSecurityTrustScript(t){return(0,u.eBb)(t)}bypassSecurityTrustUrl(t){return(0,u.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,u.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Xv(n){return new Gc(n.get(ie))}(u.LFG(u.zs3)),i},providedIn:"root"}),n})();var en=k(8996),Oo=k(3269);function Xe(...n){const e=(0,Oo.yG)(n);return(0,en.D)(n,e)}var dn=k(7579);class Mr extends dn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const Pa=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Oi=k(9751);const{isArray:kd}=Array,{getPrototypeOf:Ag,prototype:Pd,keys:qc}=Object;function Na(n){if(1===n.length){const e=n[0];if(kd(e))return{args:e,keys:null};if(function Nd(n){return n&&"object"==typeof n&&Ag(n)===Pd}(e)){const t=qc(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var Yo=k(4671),ct=k(4004);const{isArray:Ol}=Array;function Fa(n){return(0,ct.U)(e=>function Mg(n,e){return Ol(e)?n(...e):n(e)}(n,e))}function La(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var Ln=k(5403),Wc=k(9672);function Fd(...n){const e=(0,Oo.yG)(n),t=(0,Oo.jO)(n),{args:i,keys:r}=Na(n);if(0===i.length)return(0,en.D)([],e);const a=new Oi.y(function Ld(n,e,t=Yo.y){return i=>{ko(e,()=>{const{length:r}=n,a=new Array(r);let c=r,f=r;for(let _=0;_<r;_++)ko(e,()=>{const w=(0,en.D)(n[_],e);let D=!1;w.subscribe((0,Ln.x)(i,S=>{a[_]=S,D||(D=!0,f--),f||i.next(t(a.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,e,r?c=>La(r,c):Yo.y));return t?a.pipe(Fa(t)):a}function ko(n,e,t){n?(0,Wc.f)(t,n,e):e()}var uo=k(8189);function kl(...n){return function up(){return(0,uo.J)(1)}()((0,en.D)(n,(0,Oo.yG)(n)))}var Qo=k(8421);function Pl(n){return new Oi.y(e=>{(0,Qo.Xf)(n()).subscribe(e)})}var Rg=k(9635),ho=k(576);function Va(n,e){const t=(0,ho.m)(n)?n:()=>n,i=r=>r.error(t());return new Oi.y(e?r=>e.schedule(i,0,r):i)}var Po=k(515),fo=k(727),ui=k(4482);function Vd(){return(0,ui.e)((n,e)=>{let t=null;n._refCount++;const i=(0,Ln.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,a=t;t=null,r&&(!a||r===a)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Bd extends Oi.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ui.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new fo.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Ln.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=fo.w0.EMPTY)}return e}refCount(){return Vd()(this)}}function qn(n,e){return(0,ui.e)((t,i)=>{let r=null,a=0,c=!1;const f=()=>c&&!r&&i.complete();t.subscribe((0,Ln.x)(i,_=>{r?.unsubscribe();let w=0;const D=a++;(0,Qo.Xf)(n(_,D)).subscribe(r=(0,Ln.x)(i,S=>i.next(e?e(_,S,D,w++):S),()=>{r=null,f()}))},()=>{c=!0,f()}))})}function Rr(n){return n<=0?()=>Po.E:(0,ui.e)((e,t)=>{let i=0;e.subscribe((0,Ln.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Xs(...n){const e=(0,Oo.yG)(n);return(0,ui.e)((t,i)=>{(e?kl(n,t,e):kl(n,t)).subscribe(i)})}function ii(n,e){return(0,ui.e)((t,i)=>{let r=0;t.subscribe((0,Ln.x)(i,a=>n.call(e,a,r++)&&i.next(a)))})}var ki=k(5577);function Xo(n){return(0,ui.e)((e,t)=>{let i=!1;e.subscribe((0,Ln.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Og(n=Jv){return(0,ui.e)((e,t)=>{let i=!1;e.subscribe((0,Ln.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function Jv(){return new Pa}function po(n,e){const t=arguments.length>=2;return i=>i.pipe(n?ii((r,a)=>n(r,a,i)):Yo.y,Rr(1),t?Xo(e):Og(()=>new Pa))}function Js(n,e){return(0,ho.m)(e)?(0,ki.z)(n,e,1):(0,ki.z)(n,1)}var Ci=k(8505);function Is(n){return(0,ui.e)((e,t)=>{let a,i=null,r=!1;i=e.subscribe((0,Ln.x)(t,void 0,void 0,c=>{a=(0,Qo.Xf)(n(c,Is(n)(e))),i?(i.unsubscribe(),i=null,a.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(t))})}function eb(n,e,t,i,r){return(a,c)=>{let f=t,_=e,w=0;a.subscribe((0,Ln.x)(c,D=>{const S=w++;_=f?n(_,D,S):(f=!0,D),i&&c.next(_)},r&&(()=>{f&&c.next(_),c.complete()})))}}function Kc(n,e){return(0,ui.e)(eb(n,e,arguments.length>=2,!0))}function Nl(n){return n<=0?()=>Po.E:(0,ui.e)((e,t)=>{let i=[];e.subscribe((0,Ln.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Ud(n,e){const t=arguments.length>=2;return i=>i.pipe(n?ii((r,a)=>n(r,a,i)):Yo.y,Nl(1),t?Xo(e):Og(()=>new Pa))}function Fl(n){return(0,ui.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Jt="primary",nr=Symbol("RouteTitle");class kg{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ba(n){return new kg(n)}function Pg(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const c=i[a],f=n[a];if(c.startsWith(":"))r[c.substring(1)]=f;else if(c!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function fr(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let a=0;a<t.length;a++)if(r=t[a],!fp(n[r],e[r]))return!1;return!0}function fp(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,a)=>i[a]===r)}return n===e}function Zc(n){return Array.prototype.concat.apply([],n)}function pp(n){return n.length>0?n[n.length-1]:null}function Pi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function No(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,en.D)(Promise.resolve(n)):Xe(n)}const Ni=!1,Yc={exact:function Ua(n,e,t){if(!Jo(n.segments,e.segments)||!Ll(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Ua(n.children[i],e.children[i],t))return!1;return!0},subset:Hd},Qc={exact:function qi(n,e){return fr(n,e)},subset:function gp(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>fp(n[t],e[t]))},ignored:()=>!0};function Xc(n,e,t){return Yc[t.paths](n.root,e.root,t.matrixParams)&&Qc[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Hd(n,e,t){return $d(n,e,e.segments,t)}function $d(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Jo(r,t)||e.hasChildren()||!Ll(r,t,i))}if(n.segments.length===t.length){if(!Jo(n.segments,t)||!Ll(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!Hd(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Jo(n.segments,r)&&Ll(n.segments,r,i)&&n.children[Jt])&&$d(n.children[Jt],e,a,i)}}function Ll(n,e,t){return e.every((i,r)=>Qc[t](n[r].parameters,i.parameters))}class ja{constructor(e=new Gt([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ba(this.queryParams)),this._queryParamMap}toString(){return Fg.serialize(this)}}class Gt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Pi(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fo(this)}}class Vl{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ba(this.parameters)),this._parameterMap}toString(){return Gd(this)}}function Jo(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let es=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new Bl},providedIn:"root"}),n})();class Bl{parse(e){const t=new Hl(e);return new ja(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ul(e.root,!0)}`,i=function jl(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${xs(t)}=${xs(r)}`).join("&"):`${xs(t)}=${xs(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function zd(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Fg=new Bl;function Fo(n){return n.segments.map(e=>Gd(e)).join("/")}function Ul(n,e){if(!n.hasChildren())return Fo(n);if(e){const t=n.children[Jt]?Ul(n.children[Jt],!1):"",i=[];return Pi(n.children,(r,a)=>{a!==Jt&&i.push(`${a}:${Ul(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function Ng(n,e){let t=[];return Pi(n.children,(i,r)=>{r===Jt&&(t=t.concat(e(i,r)))}),Pi(n.children,(i,r)=>{r!==Jt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Jt?[Ul(n.children[Jt],!1)]:[`${r}:${Ul(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Jt]?`${Fo(n)}/${t[0]}`:`${Fo(n)}/(${t.join("//")})`}}function yp(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xs(n){return yp(n).replace(/%3B/gi,";")}function Jc(n){return yp(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ts(n){return decodeURIComponent(n)}function eu(n){return ts(n.replace(/\+/g,"%20"))}function Gd(n){return`${Jc(n.path)}${function vp(n){return Object.keys(n).map(e=>`;${Jc(e)}=${Jc(n[e])}`).join("")}(n.parameters)}`}const Lg=/^[^\/()?;=#]+/;function tu(n){const e=n.match(Lg);return e?e[0]:""}const qd=/^[^=?&#]+/,Vg=/^[^&#]+/;class Hl{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Gt([],{}):new Gt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Jt]=new Gt(e,t)),i}parseSegment(){const e=tu(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.vHH(4009,Ni);return this.capture(e),new Vl(ts(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=tu(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=tu(this.remaining);r&&(i=r,this.capture(i))}e[ts(t)]=ts(i)}parseQueryParam(e){const t=function Wd(n){const e=n.match(qd);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const c=function Bg(n){const e=n.match(Vg);return e?e[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=eu(t),a=eu(i);if(e.hasOwnProperty(r)){let c=e[r];Array.isArray(c)||(c=[c],e[r]=c),c.push(a)}else e[r]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=tu(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new u.vHH(4010,Ni);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Jt);const c=this.parseChildren();t[a]=1===Object.keys(c).length?c[Jt]:new Gt([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.vHH(4011,Ni)}}function $l(n){return n.segments.length>0?new Gt([],{[Jt]:n}):n}function zl(n){const e={};for(const i of Object.keys(n.children)){const a=zl(n.children[i]);(a.segments.length>0||a.hasChildren())&&(e[i]=a)}return function Kd(n){if(1===n.numberOfChildren&&n.children[Jt]){const e=n.children[Jt];return new Gt(n.segments.concat(e.segments),e.children)}return n}(new Gt(n.segments,e))}function Ss(n){return n instanceof ja}function Ha(n,e,t,i,r){if(0===t.length)return Gl(e.root,e.root,e.root,i,r);const a=function Yd(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new wp(!0,0,n);let e=0,t=!1;const i=n.reduce((r,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return Pi(a.outlets,(_,w)=>{f[w]="string"==typeof _?_.split("/"):_}),[...r,{outlets:f}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===c?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&r.push(f))}),r):[...r,a]},[]);return new wp(t,e,i)}(t);return a.toRoot()?Gl(e.root,e.root,new Gt([],{}),i,r):function c(_){const w=function Wl(n,e,t,i){if(n.isAbsolute)return new Ts(e.root,!0,0);if(-1===i)return new Ts(t,t===e.root,0);return function iu(n,e,t){let i=n,r=e,a=t;for(;a>r;){if(a-=r,i=i.parent,!i)throw new u.vHH(4005,!1);r=i.segments.length}return new Ts(i,!1,r-a)}(t,i+($a(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,_),D=w.processChildren?Ga(w.segmentGroup,w.index,a.commands):As(w.segmentGroup,w.index,a.commands);return Gl(e.root,w.segmentGroup,D,i,r)}(n.snapshot?._lastPathIndex)}function $a(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function za(n){return"object"==typeof n&&null!=n&&n.outlets}function Gl(n,e,t,i,r){let c,a={};i&&Pi(i,(_,w)=>{a[w]=Array.isArray(_)?_.map(D=>`${D}`):`${_}`}),c=n===e?t:ql(n,e,t);const f=$l(zl(c));return new ja(f,a,r)}function ql(n,e,t){const i={};return Pi(n.children,(r,a)=>{i[a]=r===e?t:ql(r,e,t)}),new Gt(n.segments,i)}class wp{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&$a(i[0]))throw new u.vHH(4003,!1);const r=i.find(za);if(r&&r!==pp(i))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ts{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function As(n,e,t){if(n||(n=new Gt([],{})),0===n.segments.length&&n.hasChildren())return Ga(n,e,t);const i=function ir(n,e,t){let i=0,r=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return a;const c=n.segments[r],f=t[i];if(za(f))break;const _=`${f}`,w=i<t.length-1?t[i+1]:null;if(r>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!su(_,w,c))return a;i+=2}else{if(!su(_,{},c))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new Gt(n.segments.slice(0,i.pathIndex),{});return a.children[Jt]=new Gt(n.segments.slice(i.pathIndex),n.children),Ga(a,0,r)}return i.match&&0===r.length?new Gt(n.segments,{}):i.match&&!n.hasChildren()?ns(n,e,t):i.match?Ga(n,0,r):ns(n,e,t)}function Ga(n,e,t){if(0===t.length)return new Gt(n.segments,{});{const i=function ru(n){return za(n[0])?n[0].outlets:{[Jt]:n}}(t),r={};return Pi(i,(a,c)=>{"string"==typeof a&&(a=[a]),null!==a&&(r[c]=As(n.children[c],e,a))}),Pi(n.children,(a,c)=>{void 0===i[c]&&(r[c]=a)}),new Gt(n.segments,r)}}function ns(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const a=t[r];if(za(a)){const _=ou(a.outlets);return new Gt(i,_)}if(0===r&&$a(t[0])){i.push(new Vl(n.segments[e].path,qa(t[0]))),r++;continue}const c=za(a)?a.outlets[Jt]:`${a}`,f=r<t.length-1?t[r+1]:null;c&&f&&$a(f)?(i.push(new Vl(c,qa(f))),r+=2):(i.push(new Vl(c,{})),r++)}return new Gt(i,{})}function ou(n){const e={};return Pi(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=ns(new Gt([],{}),0,t))}),e}function qa(n){const e={};return Pi(n,(t,i)=>e[i]=`${t}`),e}function su(n,e,t){return n==t.path&&fr(e,t.parameters)}class Wr{constructor(e,t){this.id=e,this.url=t}}class Qd extends Wr{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ms extends Wr{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class au extends Wr{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Lo extends Wr{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Xd extends Wr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lu extends Wr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jd extends Wr{constructor(e,t,i,r,a){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ta extends Wr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ep extends Wr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pr{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Cp{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class eh{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class th{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class is{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class na{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wa{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class nh{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Ka(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=Ka(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=uu(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return uu(e,this._root).map(t=>t.value)}}function Ka(n,e){if(n===e.value)return e;for(const t of e.children){const i=Ka(n,t);if(i)return i}return null}function uu(n,e){if(n===e.value)return[e];for(const t of e.children){const i=uu(n,t);if(i.length)return i.unshift(e),i}return[]}class rr{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Za(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Dp extends nh{constructor(e,t){super(e),this.snapshot=t,ge(this,e)}toString(){return this.snapshot.toString()}}function y(n,e){const t=function p(n,e){const c=new M([],{},{},"",{},Jt,e,null,n.root,-1,{});return new Y("",new rr(c,[]))}(n,e),i=new Mr([new Vl("",{})]),r=new Mr({}),a=new Mr({}),c=new Mr({}),f=new Mr(""),_=new g(i,r,c,f,a,Jt,e,t.root);return _.snapshot=t.root,new Dp(new rr(_,[]),t)}class g{constructor(e,t,i,r,a,c,f,_){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=c,this.component=f,this.title=this.data?.pipe((0,ct.U)(w=>w[nr]))??Xe(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ct.U)(e=>Ba(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ct.U)(e=>Ba(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function b(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],a=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function x(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class M{constructor(e,t,i,r,a,c,f,_,w,D,S){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=c,this.component=f,this.routeConfig=_,this._urlSegment=w,this._lastPathIndex=D,this._resolve=S}get title(){return this.data?.[nr]}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ba(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ba(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Y extends nh{constructor(e,t){super(t),this.url=e,ge(this,t)}toString(){return qe(this._root)}}function ge(n,e){e.value._routerState=n,e.children.forEach(t=>ge(n,t))}function qe(n){const e=n.children.length>0?` { ${n.children.map(qe).join(", ")} } `:"";return`${n.value}${e}`}function ot(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,fr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),fr(e.params,t.params)||n.params.next(t.params),function hp(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!fr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),fr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Rt(n,e){const t=fr(n.params,e.params)&&function _p(n,e){return Jo(n,e)&&n.every((t,i)=>fr(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Rt(n.parent,e.parent))}function Wn(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function mo(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Wn(n,i,r);return Wn(n,i)})}(n,e,t);return new rr(i,r)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(f=>Wn(n,f)),c}}const i=function du(n){return new g(new Mr(n.url),new Mr(n.params),new Mr(n.queryParams),new Mr(n.fragment),new Mr(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(a=>Wn(n,a));return new rr(i,r)}}const hu="ngNavigationCancelingError";function ia(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Ss(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=go(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function go(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[hu]=!0,i.cancellationCode=e,t&&(i.url=t),i}function ra(n){return Kl(n)&&Ss(n.url)}function Kl(n){return n&&n[hu]}class ih{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new oa,this.attachRef=null}}let oa=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new ih,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Zl=!1;let rh=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Jt,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.parentContexts=(0,u.f3M)(oa),this.location=(0,u.f3M)(u.s_b),this.changeDetector=(0,u.f3M)(u.sBO),this.environmentInjector=(0,u.f3M)(u.lqb)}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,Zl);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,Zl);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,Zl);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new u.vHH(4013,Zl);this._activatedRoute=t;const r=this.location,c=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,_=new tb(t,f,r.injector);if(i&&function Yl(n){return!!n.resolveComponentFactory}(i)){const w=i.resolveComponentFactory(c);this.activated=r.createComponent(w,r.length,_)}else this.activated=r.createComponent(c,{index:r.length,injector:_,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[u.TTD]}),n})();class tb{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===g?this.route:e===oa?this.childContexts:this.parent.get(e,t)}}let Ya=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(t,i){1&t&&u._UZ(0,"router-outlet")},dependencies:[rh],encapsulation:2}),n})();function wD(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function xp(n){const e=n.children&&n.children.map(xp),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Jt&&(t.component=Ya),t}function Kr(n){return n.outlet||Jt}function ib(n,e){const t=n.filter(i=>Kr(i)===e);return t.push(...n.filter(i=>Kr(i)!==e)),t}function Kn(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class ID{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),ot(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Za(t);e.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,r[c],i),delete r[c]}),Pi(r,(a,c)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(r===a)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,i);else a&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=Za(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],r);if(i&&i.outlet){const c=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=Za(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Za(t);e.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new na(a.value.snapshot))}),e.children.length&&this.forwardEvent(new th(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(ot(r),r===a)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(f.contexts),c.attachRef=f.componentRef,c.route=f.route.value,c.outlet&&c.outlet.attach(f.componentRef,f.route.value),ot(f.route.value),this.activateChildRoutes(e,null,c.children)}else{const f=Kn(r.snapshot),_=f?.get(u._Vd)??null;c.attachRef=null,c.route=r,c.resolver=_,c.injector=f,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,i)}}class Sp{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class oh{constructor(e,t){this.component=e,this.route=t}}function xD(n,e,t){const i=n._root;return sh(i,e?e._root:null,t,[i.value])}function fu(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,u.Z0I)(n)?e.get(n):n:i}function sh(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=Za(e);return n.children.forEach(c=>{(function rb(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,c=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const _=function IO(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Jo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Jo(n.url,e.url)||!fr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rt(n,e)||!fr(n.queryParams,e.queryParams);default:return!Rt(n,e)}}(c,a,a.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new Sp(i)):(a.data=c.data,a._resolvedData=c._resolvedData),sh(n,e,a.component?f?f.children:null:t,i,r),_&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new oh(f.outlet.component,c))}else c&&Tp(e,f,r),r.canActivateChecks.push(new Sp(i)),sh(n,null,a.component?f?f.children:null:t,i,r)})(c,a[c.value.outlet],t,i.concat([c.value]),r),delete a[c.value.outlet]}),Pi(a,(c,f)=>Tp(c,t.getContext(f),r)),r}function Tp(n,e,t){const i=Za(n),r=n.value;Pi(i,(a,c)=>{Tp(a,r.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new oh(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function sa(n){return"function"==typeof n}function ah(n){return n instanceof Pa||"EmptyError"===n?.name}const $g=Symbol("INITIAL_VALUE");function Qa(){return qn(n=>Fd(n.map(e=>e.pipe(Rr(1),Xs($g)))).pipe((0,ct.U)(e=>{for(const t of e)if(!0!==t){if(t===$g)return $g;if(!1===t||t instanceof ja)return t}return!0}),ii(e=>e!==$g),Rr(1)))}function Mp(n){return(0,Rg.z)((0,Ci.b)(e=>{if(Ss(e))throw ia(0,e)}),(0,ct.U)(e=>!0===e))}const aa={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qg(n,e,t,i,r){const a=lh(n,e,t);return a.matched?function Rp(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?Xe(r.map(c=>{const f=fu(c,n);return No(function TD(n){return n&&sa(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(Qa(),Mp()):Xe(!0)}(i=wD(e,i),e,t).pipe((0,ct.U)(c=>!0===c?a:{...aa})):Xe(a)}function lh(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...aa}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||Pg)(t,n,e);if(!r)return{...aa};const a={};Pi(r.posParams,(f,_)=>{a[_]=f.path});const c=r.consumed.length>0?{...a,...r.consumed[r.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function Op(n,e,t,i){if(t.length>0&&function pu(n,e,t){return t.some(i=>kp(n,e,i)&&Kr(i)!==Jt)}(n,t,i)){const a=new Gt(e,function db(n,e,t,i){const r={};r[Jt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Kr(a)!==Jt){const c=new Gt([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,r[Kr(a)]=c}return r}(n,e,i,new Gt(t,n.children)));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function PD(n,e,t){return t.some(i=>kp(n,e,i))}(n,t,i)){const a=new Gt(n.segments,function kD(n,e,t,i,r){const a={};for(const c of i)if(kp(n,t,c)&&!r[Kr(c)]){const f=new Gt([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,a[Kr(c)]=f}return{...r,...a}}(n,e,t,i,n.children));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const r=new Gt(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:t}}function kp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function hb(n,e,t,i){return!!(Kr(n)===i||i!==Jt&&kp(e,t,n))&&("**"===n.path||lh(e,n,t).matched)}function Pp(n,e,t){return 0===e.length&&!n.children[t]}const Np=!1;class ch{constructor(e){this.segmentGroup=e||null}}class fb{constructor(e){this.urlTree=e}}function mu(n){return Va(new ch(n))}function ND(n){return Va(new fb(n))}class gu{constructor(e,t,i,r,a){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0}apply(){const e=Op(this.urlTree.root,[],[],this.config).segmentGroup,t=new Gt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Jt).pipe((0,ct.U)(a=>this.createUrlTree(zl(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Is(a=>{if(a instanceof fb)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof ch?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Jt).pipe((0,ct.U)(r=>this.createUrlTree(zl(r),e.queryParams,e.fragment))).pipe(Is(r=>{throw r instanceof ch?this.noMatchError(r):r}))}noMatchError(e){return new u.vHH(4002,Np)}createUrlTree(e,t,i){const r=$l(e);return new ja(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,ct.U)(a=>new Gt([],a))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,en.D)(r).pipe(Js(a=>{const c=i.children[a],f=ib(t,a);return this.expandSegmentGroup(e,f,c,a).pipe((0,ct.U)(_=>({segment:_,outlet:a})))}),Kc((a,c)=>(a[c.outlet]=c.segment,a),{}),Ud())}expandSegment(e,t,i,r,a,c){return(0,en.D)(i).pipe(Js(f=>this.expandSegmentAgainstRoute(e,t,i,f,r,a,c).pipe(Is(w=>{if(w instanceof ch)return Xe(null);throw w}))),po(f=>!!f),Is((f,_)=>{if(ah(f))return Pp(t,r,a)?Xe(new Gt([],{})):mu(t);throw f}))}expandSegmentAgainstRoute(e,t,i,r,a,c,f){return hb(r,t,a,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,a,c):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,c):mu(t):mu(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?ND(a):this.lineralizeSegments(i,a).pipe((0,ki.z)(c=>{const f=new Gt(c,{});return this.expandSegment(e,f,t,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,c){const{matched:f,consumedSegments:_,remainingSegments:w,positionalParamSegments:D}=lh(t,r,a);if(!f)return mu(t);const S=this.applyRedirectCommands(_,r.redirectTo,D);return r.redirectTo.startsWith("/")?ND(S):this.lineralizeSegments(r,S).pipe((0,ki.z)(N=>this.expandSegment(e,t,i,N.concat(w),c,!1)))}matchSegmentAgainstRoute(e,t,i,r,a){return"**"===i.path?(e=wD(i,e),i.loadChildren?(i._loadedRoutes?Xe({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,ct.U)(f=>(i._loadedRoutes=f.routes,i._loadedInjector=f.injector,new Gt(r,{})))):Xe(new Gt(r,{}))):qg(t,i,r,e).pipe(qn(({matched:c,consumedSegments:f,remainingSegments:_})=>c?this.getChildConfig(e=i._injector??e,i,r).pipe((0,ki.z)(D=>{const S=D.injector??e,N=D.routes,{segmentGroup:U,slicedSegments:$}=Op(t,f,_,N),ee=new Gt(U.segments,U.children);if(0===$.length&&ee.hasChildren())return this.expandChildren(S,N,ee).pipe((0,ct.U)(bt=>new Gt(f,bt)));if(0===N.length&&0===$.length)return Xe(new Gt(f,{}));const de=Kr(i)===a;return this.expandSegment(S,ee,N,$,de?Jt:a,!0).pipe((0,ct.U)(at=>new Gt(f.concat(at.segments),at.children)))})):mu(t)))}getChildConfig(e,t,i){return t.children?Xe({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Xe({routes:t._loadedRoutes,injector:t._loadedInjector}):function OD(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?Xe(!0):Xe(r.map(c=>{const f=fu(c,n);return No(function ob(n){return n&&sa(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(Qa(),Mp())}(e,t,i).pipe((0,ki.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,Ci.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function uh(n){return Va(go(Np,3))}())):Xe({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Xe(i);if(r.numberOfChildren>1||!r.children[Jt])return Va(new u.vHH(4e3,Np));r=r.children[Jt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const a=this.createSegmentGroup(e,t.root,i,r);return new ja(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Pi(e,(r,a)=>{if("string"==typeof r&&r.startsWith(":")){const f=r.substring(1);i[a]=t[f]}else i[a]=r}),i}createSegmentGroup(e,t,i,r){const a=this.createSegments(e,t.segments,i,r);let c={};return Pi(t.children,(f,_)=>{c[_]=this.createSegmentGroup(e,f,i,r)}),new Gt(a,c)}createSegments(e,t,i,r){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,r):this.findOrReturn(a,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new u.vHH(4001,Np);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class mb{}class UD{constructor(e,t,i,r,a,c,f){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=c,this.urlSerializer=f}recognize(){const e=Op(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Jt).pipe((0,ct.U)(t=>{if(null===t)return null;const i=new M([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Jt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new rr(i,t),a=new Y(this.url,r);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,i=b(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,en.D)(Object.keys(i.children)).pipe(Js(r=>{const a=i.children[r],c=ib(t,r);return this.processSegmentGroup(e,c,a,r)}),Kc((r,a)=>r&&a?(r.push(...a),r):null),function jd(n,e=!1){return(0,ui.e)((t,i)=>{let r=0;t.subscribe((0,Ln.x)(i,a=>{const c=n(a,r++);(c||e)&&i.next(a),!c&&i.complete()}))})}(r=>null!==r),Xo(null),Ud(),(0,ct.U)(r=>{if(null===r)return null;const a=Fp(r);return function gb(n){n.sort((e,t)=>e.value.outlet===Jt?-1:t.value.outlet===Jt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,i,r,a){return(0,en.D)(t).pipe(Js(c=>this.processSegmentAgainstRoute(c._injector??e,c,i,r,a)),po(c=>!!c),Is(c=>{if(ah(c))return Pp(i,r,a)?Xe([]):Xe(null);throw c}))}processSegmentAgainstRoute(e,t,i,r,a){if(t.redirectTo||!hb(t,i,r,a))return Xe(null);let c;if("**"===t.path){const f=r.length>0?pp(r).parameters:{},_=_u(i)+r.length;c=Xe({snapshot:new M(r,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,yb(t),Kr(t),t.component??t._loadedComponent??null,t,Lp(i),_,vb(t)),consumedSegments:[],remainingSegments:[]})}else c=qg(i,t,r,e).pipe((0,ct.U)(({matched:f,consumedSegments:_,remainingSegments:w,parameters:D})=>{if(!f)return null;const S=_u(i)+_.length;return{snapshot:new M(_,D,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,yb(t),Kr(t),t.component??t._loadedComponent??null,t,Lp(i),S,vb(t)),consumedSegments:_,remainingSegments:w}}));return c.pipe(qn(f=>{if(null===f)return Xe(null);const{snapshot:_,consumedSegments:w,remainingSegments:D}=f;e=t._injector??e;const S=t._loadedInjector??e,N=function _b(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:U,slicedSegments:$}=Op(i,w,D,N.filter(de=>void 0===de.redirectTo));if(0===$.length&&U.hasChildren())return this.processChildren(S,N,U).pipe((0,ct.U)(de=>null===de?null:[new rr(_,de)]));if(0===N.length&&0===$.length)return Xe([new rr(_,[])]);const ee=Kr(t)===a;return this.processSegment(S,N,U,$,ee?Jt:a).pipe((0,ct.U)(de=>null===de?null:[new rr(_,de)]))}))}}function Wg(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Fp(n){const e=[],t=new Set;for(const i of n){if(!Wg(i)){e.push(i);continue}const r=e.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=Fp(i.children);e.push(new rr(i.value,r))}return e.filter(i=>!t.has(i))}function Lp(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function _u(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function yb(n){return n.data||{}}function vb(n){return n.resolve||{}}function bb(n){return"string"==typeof n.title||null===n.title}function Kg(n){return qn(e=>{const t=n(e);return t?(0,en.D)(t).pipe((0,ct.U)(()=>e)):Xe(e)})}const Xl=new u.OlP("ROUTES");let wb=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Xe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=No(t.loadComponent()).pipe((0,ct.U)(Zg),(0,Ci.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),Fl(()=>{this.componentLoaders.delete(t)})),r=new Bd(i,()=>new dn.x).pipe(Vd());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Xe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const a=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,ct.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(i);let _,w,D=!1;Array.isArray(f)?w=f:(_=f.create(t).injector,w=Zc(_.get(Xl,[],u.XFs.Self|u.XFs.Optional)));return{routes:w.map(xp),injector:_}}),Fl(()=>{this.childrenLoaders.delete(i)})),c=new Bd(a,()=>new dn.x).pipe(Vd());return this.childrenLoaders.set(i,c),c}loadModuleFactoryOrRoutes(t){return No(t()).pipe((0,ct.U)(Zg),(0,ki.z)(r=>r instanceof u.YKP||Array.isArray(r)?Xe(r):(0,en.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3),u.LFG(u.Sil))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Zg(n){return function Eb(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Vp=(()=>{class n{constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new dn.x,this.configLoader=(0,u.f3M)(wb),this.environmentInjector=(0,u.f3M)(u.lqb),this.urlSerializer=(0,u.f3M)(es),this.rootContexts=(0,u.f3M)(oa),this.navigationId=0,this.configLoader.onLoadEndListener=r=>this.events.next(new Cp(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new pr(r))}get hasRequestedNavigation(){return 0!==this.navigationId}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new Mr({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ii(i=>0!==i.id),(0,ct.U)(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),qn(i=>{let r=!1,a=!1;return Xe(i).pipe((0,Ci.b)(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),qn(c=>{const f=t.browserUrlTree.toString(),_=!t.navigated||c.extractedUrl.toString()!==f||f!==t.currentUrlTree.toString();if(("reload"===t.onSameUrlNavigation||_)&&t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Db(c.source)&&(t.browserUrlTree=c.extractedUrl),Xe(c).pipe(qn(D=>{const S=this.transitions?.getValue();return this.events.next(new Qd(D.id,this.urlSerializer.serialize(D.extractedUrl),D.source,D.restoredState)),S!==this.transitions?.getValue()?Po.E:Promise.resolve(D)}),function dh(n,e,t,i){return qn(r=>function LD(n,e,t,i,r){return new gu(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,ct.U)(a=>({...r,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,Ci.b)(D=>{this.currentNavigation={...this.currentNavigation,finalUrl:D.urlAfterRedirects},i.urlAfterRedirects=D.urlAfterRedirects}),function HD(n,e,t,i,r){return(0,ki.z)(a=>function BD(n,e,t,i,r,a,c="emptyOnly"){return new UD(n,e,t,i,r,c,a).recognize().pipe(qn(f=>null===f?function VD(n){return new Oi.y(e=>e.error(n))}(new mb):Xe(f)))}(n,e,t,a.urlAfterRedirects,i.serialize(a.urlAfterRedirects),i,r).pipe((0,ct.U)(c=>({...a,targetSnapshot:c}))))}(this.environmentInjector,t.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Ci.b)(D=>{if(i.targetSnapshot=D.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!D.extras.skipLocationChange){const N=t.urlHandlingStrategy.merge(D.urlAfterRedirects,D.rawUrl);t.setBrowserUrl(N,D)}t.browserUrlTree=D.urlAfterRedirects}const S=new Xd(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects),D.targetSnapshot);this.events.next(S)}));if(_&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:S,extractedUrl:N,source:U,restoredState:$,extras:ee}=c,de=new Qd(S,this.urlSerializer.serialize(N),U,$);this.events.next(de);const Qe=y(N,t.rootComponentType).snapshot;return Xe(i={...c,targetSnapshot:Qe,urlAfterRedirects:N,extras:{...ee,skipLocationChange:!1,replaceUrl:!1}})}return t.rawUrlTree=c.rawUrl,c.resolve(null),Po.E}),(0,Ci.b)(c=>{const f=new lu(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(f)}),(0,ct.U)(c=>i={...c,guards:xD(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function MD(n,e){return(0,ki.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:c}}=t;return 0===c.length&&0===a.length?Xe({...t,guardsResult:!0}):function zg(n,e,t,i){return(0,en.D)(n).pipe((0,ki.z)(r=>function Ap(n,e,t,i,r){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?Xe(a.map(f=>{const _=Kn(e)??r,w=fu(f,_);return No(function xO(n){return n&&sa(n.canDeactivate)}(w)?w.canDeactivate(n,e,t,i):_.runInContext(()=>w(n,e,t,i))).pipe(po())})).pipe(Qa()):Xe(!0)}(r.component,r.route,t,e,i)),po(r=>!0!==r,!0))}(c,i,r,n).pipe((0,ki.z)(f=>f&&function Hg(n){return"boolean"==typeof n}(f)?function cb(n,e,t,i){return(0,en.D)(e).pipe(Js(r=>kl(function Ql(n,e){return null!==n&&e&&e(new eh(n)),Xe(!0)}(r.route.parent,i),function ub(n,e){return null!==n&&e&&e(new is(n)),Xe(!0)}(r.route,i),function Gg(n,e,t){const i=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(c=>function SD(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Pl(()=>Xe(c.guards.map(_=>{const w=Kn(c.node)??t,D=fu(_,w);return No(function ab(n){return n&&sa(n.canActivateChild)}(D)?D.canActivateChild(i,n):w.runInContext(()=>D(i,n))).pipe(po())})).pipe(Qa())));return Xe(a).pipe(Qa())}(n,r.path,t),function RD(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Xe(!0);const r=i.map(a=>Pl(()=>{const c=Kn(e)??t,f=fu(a,c);return No(function sb(n){return n&&sa(n.canActivate)}(f)?f.canActivate(e,n):c.runInContext(()=>f(e,n))).pipe(po())}));return Xe(r).pipe(Qa())}(n,r.route,t))),po(r=>!0!==r,!0))}(i,a,n,e):Xe(f)),(0,ct.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,c=>this.events.next(c)),(0,Ci.b)(c=>{if(i.guardsResult=c.guardsResult,Ss(c.guardsResult))throw ia(0,c.guardsResult);const f=new Jd(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(f)}),ii(c=>!!c.guardsResult||(t.restoreHistory(c),this.cancelNavigationTransition(c,"",3,t),!1)),Kg(c=>{if(c.guards.canActivateChecks.length)return Xe(c).pipe((0,Ci.b)(f=>{const _=new ta(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}),qn(f=>{let _=!1;return Xe(f).pipe(function $D(n,e){return(0,ki.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return Xe(t);let a=0;return(0,en.D)(r).pipe(Js(c=>function zD(n,e,t,i){const r=n.routeConfig,a=n._resolve;return void 0!==r?.title&&!bb(r)&&(a[nr]=r.title),function GD(n,e,t,i){const r=function yu(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Xe({});const a={};return(0,en.D)(r).pipe((0,ki.z)(c=>function la(n,e,t,i){const r=Kn(e)??i,a=fu(n,r);return No(a.resolve?a.resolve(e,t):r.runInContext(()=>a(e,t)))}(n[c],e,t,i).pipe(po(),(0,Ci.b)(f=>{a[c]=f}))),Nl(1),function dp(n){return(0,ct.U)(()=>n)}(a),Is(c=>ah(c)?Po.E:Va(c)))}(a,n,e,i).pipe((0,ct.U)(c=>(n._resolvedData=c,n.data=b(n,t).resolve,r&&bb(r)&&(n.data[nr]=r.title),null)))}(c.route,i,n,e)),(0,Ci.b)(()=>a++),Nl(1),(0,ki.z)(c=>a===r.length?Xe(t):Po.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Ci.b)({next:()=>_=!0,complete:()=>{_||(t.restoreHistory(f),this.cancelNavigationTransition(f,"",2,t))}}))}),(0,Ci.b)(f=>{const _=new Ep(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}))}),Kg(c=>{const f=_=>{const w=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&w.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,Ci.b)(D=>{_.component=D}),(0,ct.U)(()=>{})));for(const D of _.children)w.push(...f(D));return w};return Fd(f(c.targetSnapshot.root)).pipe(Xo(),Rr(1))}),Kg(()=>t.afterPreactivation()),(0,ct.U)(c=>{const f=function St(n,e,t){const i=Wn(n,e._root,t?t._root:void 0);return new Dp(i,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return i={...c,targetRouterState:f}}),(0,Ci.b)(c=>{t.currentUrlTree=c.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),t.routerState=c.targetRouterState,"deferred"===t.urlUpdateStrategy&&(c.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,c),t.browserUrlTree=c.urlAfterRedirects)}),((n,e,t)=>(0,ct.U)(i=>(new ID(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c)),(0,Ci.b)({next:c=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Ms(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{r=!0}}),Fl(()=>{r||a||this.cancelNavigationTransition(i,"",1,t),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Is(c=>{if(a=!0,Kl(c)){ra(c)||(t.navigated=!0,t.restoreHistory(i,!0));const f=new au(i.id,this.urlSerializer.serialize(i.extractedUrl),c.message,c.cancellationCode);if(this.events.next(f),ra(c)){const _=t.urlHandlingStrategy.merge(c.url,t.rawUrlTree),w={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||Db(i.source)};t.scheduleNavigation(_,"imperative",null,w,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const f=new Lo(i.id,this.urlSerializer.serialize(i.extractedUrl),c,i.targetSnapshot??void 0);this.events.next(f);try{i.resolve(t.errorHandler(c))}catch(_){i.reject(_)}}return Po.E}))}))}cancelNavigationTransition(t,i,r,a){const c=new au(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(c),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Db(n){return"imperative"!==n}let Ib=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(a=>a.outlet===Jt);return i}getResolvedTitleForRoute(t){return t.data[nr]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(rs)},providedIn:"root"}),n})(),rs=(()=>{class n extends Ib{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Cs))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(KD)},providedIn:"root"}),n})();class xb{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let KD=(()=>{class n extends xb{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=u.n5z(n)))(i||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Bp=new u.OlP("",{providedIn:"root",factory:()=>({})});let YD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Sb)},providedIn:"root"}),n})(),Sb=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function QD(n){throw n}function XD(n,e,t){return e.parse("/")}const Kt={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ab={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let mr=(()=>{class n{constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,u.f3M)(u.c2e),this.isNgZoneEnabled=!1,this.options=(0,u.f3M)(Bp,{optional:!0})||{},this.errorHandler=this.options.errorHandler||QD,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||XD,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Xe(void 0),this.urlHandlingStrategy=(0,u.f3M)(YD),this.routeReuseStrategy=(0,u.f3M)(WD),this.titleStrategy=(0,u.f3M)(Ib),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Zc((0,u.f3M)(Xl,{optional:!0})??[]),this.navigationTransitions=(0,u.f3M)(Vp),this.urlSerializer=(0,u.f3M)(es),this.location=(0,u.f3M)(Fe),this.rootComponentType=null,this.isNgZoneEnabled=(0,u.f3M)(u.R0b)instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ja,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=y(this.currentUrlTree,this.rootComponentType),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(t.state){const f={...t.state};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(r.state=f)}const c=this.parseUrl(t.url);this.scheduleNavigation(c,i,a,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(xp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:a,fragment:c,queryParamsHandling:f,preserveFragment:_}=i,w=r||this.routerState.root,D=_?this.currentUrlTree.fragment:c;let S=null;switch(f){case"merge":S={...this.currentUrlTree.queryParams,...a};break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=a||null}return null!==S&&(S=this.removeEmptyProps(S)),Ha(w,this.currentUrlTree,t,S,D??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Ss(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function Mb(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new u.vHH(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...Kt}:!1===i?{...Ab}:i,Ss(t))return Xc(this.currentUrlTree,t,r);const a=this.parseUrl(t);return Xc(this.currentUrlTree,a,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const a=t[r];return null!=a&&(i[r]=a),i},{})}scheduleNavigation(t,i,r,a,c){if(this.disposed)return Promise.resolve(!1);let f,_,w,D;return c?(f=c.resolve,_=c.reject,w=c.promise):w=new Promise((S,N)=>{f=S,_=N}),"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),D=r&&r.\u0275routerPageId?r.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):D=0,this.navigationTransitions.handleNavigationRequest({targetPageId:D,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:a,resolve:f,reject:_,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(S=>Promise.reject(S))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),a={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",a):this.location.go(r,"",a)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Ob{}let tI=(()=>{class n{constructor(t,i,r,a,c){this.router=t,this.injector=r,this.preloadingStrategy=a,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(ii(t=>t instanceof Ms),Js(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const a of i){a.providers&&!a._injector&&(a._injector=(0,u.MMx)(a.providers,t,`Route: ${a.path}`));const c=a._injector??t,f=a._loadedInjector??c;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?r.push(this.preloadConfig(c,a)):(a.children||a._loadedRoutes)&&r.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,en.D)(r).pipe((0,uo.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):Xe(null);const a=r.pipe((0,ki.z)(c=>null===c?Xe(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(i.loadComponent&&!i._loadedComponent){const c=this.loader.loadComponent(i);return(0,en.D)([a,c]).pipe((0,uo.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(mr),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(Ob),u.LFG(wb))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kb=new u.OlP("");let Qg=(()=>{class n{constructor(t,i,r,a,c={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=a,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Qd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ms&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Wa&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Wa(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Xa(n,e){return{\u0275kind:n,\u0275providers:e}}function iI(){const n=(0,u.f3M)(u.zs3);return e=>{const t=n.get(u.z2F);if(e!==t.components[0])return;const i=n.get(mr),r=n.get(Nb);1===n.get(Up)&&i.initialNavigation(),n.get(Fb,null,u.XFs.Optional)?.setUpPreloading(),n.get(kb,null,u.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const Nb=new u.OlP("",{factory:()=>new dn.x}),Up=new u.OlP("",{providedIn:"root",factory:()=>1});const Fb=new u.OlP("");function Lb(n){return Xa(0,[{provide:Fb,useExisting:tI},{provide:Ob,useExisting:n}])}const Vb=new u.OlP("ROUTER_FORROOT_GUARD"),sI=[Fe,{provide:es,useClass:Bl},mr,oa,{provide:g,useFactory:function Pb(n){return n.routerState.root},deps:[mr]},wb,[]];function aI(){return new u.PXZ("Router",mr)}let Bb=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[sI,[],{provide:Xl,multi:!0,useValue:t},{provide:Vb,useFactory:jb,deps:[[mr,new u.FiY,new u.tp0]]},{provide:Bp,useValue:i||{}},i?.useHash?{provide:tt,useClass:Pe}:{provide:tt,useClass:Se},{provide:kb,useFactory:()=>{const n=(0,u.f3M)(wl),e=(0,u.f3M)(u.R0b),t=(0,u.f3M)(Bp),i=(0,u.f3M)(Vp),r=(0,u.f3M)(es);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Qg(r,i,n,e,t)}},i?.preloadingStrategy?Lb(i.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:aI},i?.initialNavigation?Hb(i):[],[{provide:jp,useFactory:iI},{provide:u.tb,multi:!0,useExisting:jp}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Xl,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Vb,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Ya]}),n})();function jb(n){return"guarded"}function Hb(n){return["disabled"===n.initialNavigation?Xa(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const e=(0,u.f3M)(mr);return()=>{e.setUpLocationChangeListener()}}},{provide:Up,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Xa(2,[{provide:Up,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:e=>{const t=e.get(ue,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const a=e.get(mr),c=e.get(Nb);(function i(r){e.get(mr).events.pipe(ii(c=>c instanceof Ms||c instanceof au||c instanceof Lo),(0,ct.U)(c=>c instanceof Ms||c instanceof au&&(0===c.code||1===c.code)&&null),ii(c=>null!==c),Rr(1)).subscribe(()=>{r()})})(()=>{r(!0)}),a.afterPreactivation=()=>(r(!0),c.closed?Xe(void 0):c),a.initialNavigation()}))}}]).\u0275providers:[]]}const jp=new u.OlP("");class Jg{constructor(){this.players=[],this.stack=[],this.playerCard=[],this.currentPlayer=0,this.pickCardAnimation=!1,this.currentCard="";for(let e=1;e<14;e++)this.stack.push("ace_"+e),this.stack.push("hearts_"+e),this.stack.push("clubs_"+e),this.stack.push("diamonds_"+e);!function OO(n){let t,e=n.length;for(;0!=e;)t=Math.floor(Math.random()*e),e--,[n[e],n[t]]=[n[t],n[e]]}(this.stack)}toJson(){return{players:this.players,stack:this.stack,playerCard:this.playerCard,currentPlayer:this.currentPlayer,pickCardAnimation:this.pickCardAnimation,currentCard:this.currentCard}}}function Zr(n){return null!=n&&"false"!=`${n}`}function Hp(n,e=0){return function uI(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function ph(n){return Array.isArray(n)?n:[n]}function Di(n){return null==n?"":"string"==typeof n?n:`${n}px`}function ca(n){return n instanceof u.SBq?n.nativeElement:n}var wu=k(1144);const t_=["addListener","removeListener"],mh=["addEventListener","removeEventListener"],n_=["on","off"];function Eu(n,e,t,i){if((0,ho.m)(t)&&(i=t,t=void 0),i)return Eu(n,e,t).pipe(Fa(i));const[r,a]=function s_(n){return(0,ho.m)(n.addEventListener)&&(0,ho.m)(n.removeEventListener)}(n)?mh.map(c=>f=>n[c](e,f,t)):function r_(n){return(0,ho.m)(n.addListener)&&(0,ho.m)(n.removeListener)}(n)?t_.map(i_(n,e)):function o_(n){return(0,ho.m)(n.on)&&(0,ho.m)(n.off)}(n)?n_.map(i_(n,e)):[];if(!r&&(0,wu.z)(n))return(0,ki.z)(c=>Eu(c,e,t))((0,Qo.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Oi.y(c=>{const f=(..._)=>c.next(1<_.length?_:_[0]);return r(f),()=>a(f)})}function i_(n,e){return t=>i=>n[t](e,i)}var a_=k(4408);const ec={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=ec;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(a=>{t=void 0,n(a)});return new fo.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=ec;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=ec;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var zb=k(7565);new class Gb extends zb.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class dI extends a_.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=ec.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==t&&(ec.cancelAnimationFrame(t),e._scheduled=void 0)}});let l_,qb=1;const $p={};function Yr(n){return n in $p&&(delete $p[n],!0)}const Wb={setImmediate(n){const e=qb++;return $p[e]=!0,l_||(l_=Promise.resolve()),l_.then(()=>Yr(e)&&n()),e},clearImmediate(n){Yr(n)}},{setImmediate:PO,clearImmediate:c_}=Wb,gh={setImmediate(...n){const{delegate:e}=gh;return(e?.setImmediate||PO)(...n)},clearImmediate(n){const{delegate:e}=gh;return(e?.clearImmediate||c_)(n)},delegate:void 0};new class mI extends zb.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class pI extends a_.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=gh.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==t&&(gh.clearImmediate(t),e._scheduled=void 0)}});var zp=k(4986),u_=k(3532);function Kb(n,e=zp.z){return function yI(n){return(0,ui.e)((e,t)=>{let i=!1,r=null,a=null,c=!1;const f=()=>{if(a?.unsubscribe(),a=null,i){i=!1;const w=r;r=null,t.next(w)}c&&t.complete()},_=()=>{a=null,c&&t.complete()};e.subscribe((0,Ln.x)(t,w=>{i=!0,r=w,a||(0,Qo.Xf)(n(w)).subscribe(a=(0,Ln.x)(t,f,_))},()=>{c=!0,(!i||!a||a.closed)&&t.complete()}))})}(()=>function bI(n=0,e,t=zp.P){let i=-1;return null!=e&&((0,u_.K)(e)?t=e:i=e),new Oi.y(r=>{let a=function vI(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let c=0;return t.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},a)})}(n,e))}let d_;try{d_=typeof Intl<"u"&&Intl.v8BreakIterator}catch{d_=!1}let Ja,gr=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?bl(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!d_)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Zb=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Yb(){if(Ja)return Ja;if("object"!=typeof document||!document)return Ja=new Set(Zb),Ja;let n=document.createElement("input");return Ja=new Set(Zb.filter(e=>(n.setAttribute("type",e),n.type===e))),Ja}let Cu,da,Du;function _h(n){return function wI(){if(null==Cu&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Cu=!0}))}finally{Cu=Cu||!1}return Cu}()?n:!!n.capture}function EI(){if(null==da){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return da=!1,da;if("scrollBehavior"in document.documentElement.style)da=!0;else{const n=Element.prototype.scrollTo;da=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return da}function Qb(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Rs(n){return n.composedPath?n.composedPath()[0]:n.target}function Xb(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const Jb=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function e0(){return(0,u.f3M)(ie)}}),t0=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Iu=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new u.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function n0(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?t0.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Jb,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),yh=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new dn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Oi.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(Kb(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Xe()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(ii(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,t)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=ca(i),a=t.getElementRef().nativeElement;do{if(r==a)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Eu(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(gr),u.LFG(ie,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),r0=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new dn.x,this._changeListener=a=>{this._change.next(a)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,a=r.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-a.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Kb(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(gr),u.LFG(u.R0b),u.LFG(ie,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Kp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),s0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[tl,Kp,tl,Kp]}),n})();class Zp{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Yp extends Zp{constructor(e,t,i,r,a){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=a}}class a0 extends Zp{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class JO extends Zp{constructor(e){super(),this.element=e instanceof u.SBq?e.nativeElement:e}}class Qp{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Yp?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof a0?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof JO?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class tc extends Qp{constructor(e,t,i,r,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const f=c.element,_=this._document.createComment("dom-portal");f.parentNode.insertBefore(_,f),this.outletElement.appendChild(f),this._attachedPortal=c,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(f,_)})},this._document=a}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||u.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let m_=(()=>{class n extends Qp{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new u.vpe,this.attachDomPortal=a=>{const c=a.element,f=this._document.createComment("dom-portal");a.setAttachedHost(this),c.parentNode.insertBefore(f,c),this._getRootNode().appendChild(c),this._attachedPortal=a,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(c,f)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,a=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),c=i.createComponent(a,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=t,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u._Vd),u.Y36(u.s_b),u.Y36(ie))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[u.qOj]}),n})(),Jp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();var nl=k(6451),_r=k(5032);function Vo(n){return(0,ui.e)((e,t)=>{(0,Qo.Xf)(n).subscribe((0,Ln.x)(t,()=>t.complete(),_r.Z)),!t.closed&&e.subscribe(t)})}const vh=EI();class Bo{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Di(-this._previousScrollPosition.left),e.style.top=Di(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,a=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),vh&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),vh&&(i.scrollBehavior=a,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class xu{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class nc{enable(){}disable(){}attach(){}}function il(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function ic(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class Su{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();il(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Tu=(()=>{class n{constructor(t,i,r,a){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new nc,this.close=c=>new xu(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new Bo(this._viewportRuler,this._document),this.reposition=c=>new Su(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(yh),u.LFG(r0),u.LFG(u.R0b),u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class rc{constructor(e){if(this.scrollStrategy=new nc,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class u0{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let g_=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),d0=(()=>{class n extends g_{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const a=this._attachedOverlays;for(let c=a.length-1;c>-1;c--)if(a[c]._keydownEvents.observers.length>0){const f=a[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(r)):f.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ie),u.LFG(u.R0b,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),h0=(()=>{class n extends g_{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=Rs(a)},this._clickListener=a=>{const c=Rs(a),f="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let w=_.length-1;w>-1;w--){const D=_[w];if(D._outsidePointerEvents.observers.length<1||!D.hasAttached())continue;if(D.overlayElement.contains(c)||D.overlayElement.contains(f))break;const S=D._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>S.next(a)):S.next(a)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ie),u.LFG(gr),u.LFG(u.R0b,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Eh=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Xb()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<r.length;a++)r[a].remove()}const i=this._document.createElement("div");i.classList.add(t),Xb()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ie),u.LFG(gr))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Au{constructor(e,t,i,r,a,c,f,_,w,D=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=a,this._keyboardDispatcher=c,this._document=f,this._location=_,this._outsideClickDispatcher=w,this._animationsDisabled=D,this._backdropElement=null,this._backdropClick=new dn.x,this._attachments=new dn.x,this._detachments=new dn.x,this._locationChanges=fo.w0.EMPTY,this._backdropClickHandler=S=>this._backdropClick.next(S),this._backdropTransitionendHandler=S=>{this._disposeBackdrop(S.target)},this._keydownEvents=new dn.x,this._outsidePointerEvents=new dn.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Rr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Di(this._config.width),e.height=Di(this._config.height),e.minWidth=Di(this._config.minWidth),e.minHeight=Di(this._config.minHeight),e.maxWidth=Di(this._config.maxWidth),e.maxHeight=Di(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=ph(t||[]).filter(a=>!!a);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Vo((0,nl.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const __="cdk-overlay-connected-position-bounding-box",AI=/([A-Za-z%]+)$/;class MI{constructor(e,t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new dn.x,this._resizeSubscription=fo.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(__),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,a=[];let c;for(let f of this._preferredPositions){let _=this._getOriginPoint(e,r,f),w=this._getOverlayPoint(_,t,f),D=this._getOverlayFit(w,t,i,f);if(D.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,_);this._canFitWithFlexibleDimensions(D,w,i)?a.push({position:f,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,f)}):(!c||c.overlayFit.visibleArea<D.visibleArea)&&(c={overlayFit:D,overlayPoint:w,originPoint:_,position:f,overlayRect:t})}if(a.length){let f=null,_=-1;for(const w of a){const D=w.boundingBoxRect.width*w.boundingBoxRect.height*(w.position.weight||1);D>_&&(_=D,f=w)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&rl(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(__),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,a;if("center"==i.originX)r=e.left+e.width/2;else{const c=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;r="start"==i.originX?c:f}return t.left<0&&(r-=t.left),a="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:r,y:a}}_getOverlayPoint(e,t,i){let r,a;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+a}}_getOverlayFit(e,t,i,r){const a=y_(t);let{x:c,y:f}=e,_=this._getOffset(r,"x"),w=this._getOffset(r,"y");_&&(c+=_),w&&(f+=w);let N=0-f,U=f+a.height-i.height,$=this._subtractOverflows(a.width,0-c,c+a.width-i.width),ee=this._subtractOverflows(a.height,N,U),de=$*ee;return{visibleArea:de,isCompletelyWithinViewport:a.width*a.height===de,fitsInViewportVertically:ee===a.height,fitsInViewportHorizontally:$==a.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,a=i.right-t.x,c=f0(this._overlayRef.getConfig().minHeight),f=f0(this._overlayRef.getConfig().minWidth),w=e.fitsInViewportHorizontally||null!=f&&f<=a;return(e.fitsInViewportVertically||null!=c&&c<=r)&&w}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=y_(t),a=this._viewportRect,c=Math.max(e.x+r.width-a.width,0),f=Math.max(e.y+r.height-a.height,0),_=Math.max(a.top-i.top-e.y,0),w=Math.max(a.left-i.left-e.x,0);let D=0,S=0;return D=r.width<=a.width?w||-c:e.x<this._viewportMargin?a.left-i.left-e.x:0,S=r.height<=a.height?_||-f:e.y<this._viewportMargin?a.top-i.top-e.y:0,this._previousPushAmount={x:D,y:S},{x:e.x+D,y:e.y+S}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new u0(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let a,c,f,D,S,N;if("top"===t.overlayY)c=e.y,a=i.height-c+this._viewportMargin;else if("bottom"===t.overlayY)f=i.height-e.y+2*this._viewportMargin,a=i.height-f+this._viewportMargin;else{const U=Math.min(i.bottom-e.y+i.top,e.y),$=this._lastBoundingBoxSize.height;a=2*U,c=e.y-U,a>$&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.y-$/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)N=i.width-e.x+this._viewportMargin,D=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)S=e.x,D=i.right-e.x;else{const U=Math.min(i.right-e.x+i.left,e.x),$=this._lastBoundingBoxSize.width;D=2*U,S=e.x-U,D>$&&!this._isInitialRender&&!this._growAfterOpen&&(S=e.x-$/2)}return{top:c,left:S,bottom:f,right:N,width:D,height:a}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=Di(i.height),r.top=Di(i.top),r.bottom=Di(i.bottom),r.width=Di(i.width),r.left=Di(i.left),r.right=Di(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(r.maxHeight=Di(a)),c&&(r.maxWidth=Di(c))}this._lastBoundingBoxSize=i,rl(this._boundingBox.style,r)}_resetBoundingBoxStyles(){rl(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){rl(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),a=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const D=this._viewportRuler.getViewportScrollPosition();rl(i,this._getExactOverlayY(t,e,D)),rl(i,this._getExactOverlayX(t,e,D))}else i.position="static";let f="",_=this._getOffset(t,"x"),w=this._getOffset(t,"y");_&&(f+=`translateX(${_}px) `),w&&(f+=`translateY(${w}px)`),i.transform=f.trim(),c.maxHeight&&(r?i.maxHeight=Di(c.maxHeight):a&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=Di(c.maxWidth):a&&(i.maxWidth="")),rl(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":r.top=Di(a.y),r}_getExactOverlayX(e,t,i){let c,r={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),c=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":r.left=Di(a.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ic(e,i),isOriginOutsideView:il(e,i),isOverlayClipped:ic(t,i),isOverlayOutsideView:il(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&ph(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof u.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function rl(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function f0(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(AI);return t&&"px"!==t?null:parseFloat(e)}return n||null}function y_(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const g0="cdk-global-overlay-wrapper";class em{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(g0),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:a,maxWidth:c,maxHeight:f}=i,_=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),w=!("100%"!==a&&"100vh"!==a||f&&"100%"!==f&&"100vh"!==f),D=this._xPosition,S=this._xOffset,N="rtl"===this._overlayRef.getConfig().direction;let U="",$="",ee="";_?ee="flex-start":"center"===D?(ee="center",N?$=S:U=S):N?"left"===D||"end"===D?(ee="flex-end",U=S):("right"===D||"start"===D)&&(ee="flex-start",$=S):"left"===D||"start"===D?(ee="flex-start",U=S):("right"===D||"end"===D)&&(ee="flex-end",$=S),e.position=this._cssPosition,e.marginLeft=_?"0":U,e.marginTop=w?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=_?"0":$,t.justifyContent=ee,t.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(g0),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let tm=(()=>{class n{constructor(t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a}global(){return new em}flexibleConnectedTo(t){return new MI(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(r0),u.LFG(ie),u.LFG(gr),u.LFG(Eh))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),v_=0,Mu=(()=>{class n{constructor(t,i,r,a,c,f,_,w,D,S,N,U){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=a,this._keyboardDispatcher=c,this._injector=f,this._ngZone=_,this._document=w,this._directionality=D,this._location=S,this._outsideClickDispatcher=N,this._animationsModuleType=U}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),a=this._createPortalOutlet(r),c=new rc(t);return c.direction=c.direction||this._directionality.value,new Au(a,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+v_++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(u.z2F)),new tc(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Tu),u.LFG(Eh),u.LFG(u._Vd),u.LFG(tm),u.LFG(d0),u.LFG(u.zs3),u.LFG(u.R0b),u.LFG(ie),u.LFG(Iu),u.LFG(Fe),u.LFG(h0),u.LFG(u.QbO,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const y0={provide:new u.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Mu],useFactory:function w_(n){return()=>n.scrollStrategies.reposition()}};let E_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Mu,y0],imports:[tl,Jp,s0,s0]}),n})();function xx(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function S_(n){return ii((e,t)=>n<=t)}function nm(n,e=Yo.y){return n=n??$k,(0,ui.e)((t,i)=>{let r,a=!0;t.subscribe((0,Ln.x)(i,c=>{const f=e(c);(a||!n(r,f))&&(a=!1,r=f,i.next(c))}))})}function $k(n,e){return n===e}function Pt(n,e=zp.z){return(0,ui.e)((t,i)=>{let r=null,a=null,c=null;const f=()=>{if(r){r.unsubscribe(),r=null;const w=a;a=null,i.next(w)}};function _(){const w=c+n,D=e.now();if(D<w)return r=this.schedule(void 0,w-D),void i.add(r);f()}t.subscribe((0,Ln.x)(i,w=>{a=w,c=e.now(),r||(r=e.schedule(_,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{a=r=null}))})}let M0=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sx=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=ca(t);return new Oi.y(r=>{const c=this._observeElement(i).subscribe(r);return()=>{c.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new dn.x,r=this._mutationObserverFactory.create(a=>i.next(a));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(M0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tx=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new u.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Zr(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Hp(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Pt(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Sx),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),sc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[M0]}),n})();const Sh=new Set;let ma,di=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):R0}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Gk(n){if(!Sh.has(n))try{ma||(ma=document.createElement("style"),ma.setAttribute("type","text/css"),document.head.appendChild(ma)),ma.sheet&&(ma.sheet.insertRule(`@media ${n} {body{ }}`,0),Sh.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(gr))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function R0(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let O0=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new dn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return k0(ph(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let a=Fd(k0(ph(t)).map(c=>this._registerQuery(c).observable));return a=kl(a.pipe(Rr(1)),a.pipe(S_(1),Pt(0))),a.pipe((0,ct.U)(c=>{const f={matches:!1,breakpoints:{}};return c.forEach(({matches:_,query:w})=>{f.matches=f.matches||_,f.breakpoints[w]=_}),f}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),a={observable:new Oi.y(c=>{const f=_=>this._zone.run(()=>c.next(_));return i.addListener(f),()=>{i.removeListener(f)}}).pipe(Xs(i),(0,ct.U)(({matches:c})=>({query:t,matches:c})),Vo(this._destroySubject)),mql:i};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(di),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function k0(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let ol=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function Lx(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function Th(n){try{return n.frameElement}catch{return null}}(function Yk(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===M_(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),a=M_(t);return t.hasAttribute("contenteditable")?-1!==a:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function Ux(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==a:"video"===r?-1!==a&&(null!==a||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function jx(n){return!function Bx(n){return function F0(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Vx(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function N0(n){return function L0(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||V0(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(gr))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function V0(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function M_(n){if(!V0(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Qk{constructor(e,t,i,r,a=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Rr(1)).subscribe(e)}}let B0=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new Qk(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ol),u.LFG(u.R0b),u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function U0(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function O_(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Ah=new u.OlP("cdk-input-modality-detector-options"),$x={ignoreKeys:[18,17,224,91,16]},ku=_h({passive:!0,capture:!0});let zx=(()=>{class n{constructor(t,i,r,a){this._platform=t,this._mostRecentTarget=null,this._modality=new Mr(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(f=>f===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Rs(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(U0(c)?"keyboard":"mouse"),this._mostRecentTarget=Rs(c))},this._onTouchstart=c=>{O_(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Rs(c))},this._options={...$x,...a},this.modalityDetected=this._modality.pipe(S_(1)),this.modalityChanged=this.modalityDetected.pipe(nm()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,ku),r.addEventListener("mousedown",this._onMousedown,ku),r.addEventListener("touchstart",this._onTouchstart,ku)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ku),document.removeEventListener("mousedown",this._onMousedown,ku),document.removeEventListener("touchstart",this._onTouchstart,ku))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(gr),u.LFG(u.R0b),u.LFG(ie),u.LFG(Ah,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $0=new u.OlP("cdk-focus-monitor-default-options"),om=_h({passive:!0,capture:!0});let Mh=(()=>{class n{constructor(t,i,r,a,c){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new dn.x,this._rootNodeFocusAndBlurListener=f=>{for(let w=Rs(f);w;w=w.parentElement)"focus"===f.type?this._onFocus(f,w):this._onBlur(f,w)},this._document=a,this._detectionMode=c?.detectionMode||0}monitor(t,i=!1){const r=ca(t);if(!this._platform.isBrowser||1!==r.nodeType)return Xe(null);const a=function qp(n){if(function h_(){if(null==Du){const n=typeof document<"u"?document.head:null;Du=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Du}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return i&&(c.checkChildren=!0),c.subject;const f={checkChildren:i,subject:new dn.x,rootNode:a};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const i=ca(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const a=ca(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,_])=>this._originChanged(f,i,_)):(this._setOrigin(i),"function"==typeof a.focus&&a.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),a=Rs(t);!r||!r.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,om),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,om)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Vo(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,om),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,om),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,a)=>{(a===t||r.checkChildren&&a.contains(t))&&i.push([a,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const a=t.labels;if(a)for(let c=0;c<a.length;c++)if(a[c].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(gr),u.LFG(zx),u.LFG(ie,8),u.LFG($0,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const k_="cdk-high-contrast-black-on-white",z0="cdk-high-contrast-white-on-black",Rh="cdk-high-contrast-active";let G0=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,u.f3M)(O0).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Rh,k_,z0),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(Rh,k_):2===i&&t.add(Rh,z0)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(gr),u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),q0=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(G0))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[sc]}),n})();var sl_OPEN="mdc-dialog--open",W0_DIALOG_ANIMATION_CLOSE_TIME_MS=(["textarea",".mdc-menu .mdc-list-item",".mdc-menu .mdc-deprecated-list-item"].join(", "),75);function Gx(n,e){}class Pu{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let P_=(()=>{class n extends Qp{constructor(t,i,r,a,c,f,_,w){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=a,this._interactivityChecker=c,this._ngZone=f,this._overlayRef=_,this._focusMonitor=w,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=D=>{this._portalOutlet.hasAttached();const S=this._portalOutlet.attachDomPortal(D);return this._contentAttached(),S},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=Qb(),a=this._elementRef.nativeElement;(!r||r===this._document.body||r===a||a.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=Qb();return t===i||t.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Qb())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(B0),u.Y36(ie,8),u.Y36(Pu),u.Y36(ol),u.Y36(u.R0b),u.Y36(Au),u.Y36(Mh))},n.\u0275cmp=u.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,i){if(1&t&&u.Gf(m_,7),2&t){let r;u.iGM(r=u.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,i){2&t&&u.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[u.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&u.YNc(0,Gx,0,0,"ng-template",0)},dependencies:[m_],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class N_{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new dn.x,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!xx(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(e,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const K0=new u.OlP("DialogScrollStrategy"),qx=new u.OlP("DialogData"),Wx=new u.OlP("DefaultDialogConfig"),Zx={provide:K0,deps:[Mu],useFactory:function Kx(n){return()=>n.scrollStrategies.block()}};let Yx=0,Z0=(()=>{class n{constructor(t,i,r,a,c,f){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=a,this._overlayContainer=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new dn.x,this._afterOpenedAtThisLevel=new dn.x,this._ariaHiddenElements=new Map,this.afterAllClosed=Pl(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Xs(void 0))),this._scrollStrategy=f}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(t,i){(i={...this._defaultOptions||new Pu,...i}).id=i.id||"cdk-dialog-"+Yx++,i.id&&this.getDialogById(i.id);const a=this._getOverlayConfig(i),c=this._overlay.create(a),f=new N_(c,i),_=this._attachContainer(c,f,i);return f.containerInstance=_,this._attachDialogContent(t,f,_,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(f),f.closed.subscribe(()=>this._removeOpenDialog(f,!0)),this.afterOpened.next(f),f}closeAll(){sm(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){sm(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),sm(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new rc({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){const a=r.injector||r.viewContainerRef?.injector,c=[{provide:Pu,useValue:r},{provide:N_,useValue:i},{provide:Au,useValue:t}];let f;r.container?"function"==typeof r.container?f=r.container:(f=r.container.type,c.push(...r.container.providers(r))):f=P_;const _=new Yp(f,r.viewContainerRef,u.zs3.create({parent:a||this._injector,providers:c}),r.componentFactoryResolver);return t.attach(_).instance}_attachDialogContent(t,i,r,a){if(t instanceof u.Rgc){const c=this._createInjector(a,i,r,void 0);let f={$implicit:a.data,dialogRef:i};a.templateContext&&(f={...f,..."function"==typeof a.templateContext?a.templateContext():a.templateContext}),r.attachTemplatePortal(new a0(t,null,f,c))}else{const c=this._createInjector(a,i,r,this._injector),f=r.attachComponentPortal(new Yp(t,a.viewContainerRef,c,a.componentFactoryResolver));i.componentInstance=f.instance}}_createInjector(t,i,r,a){const c=t.injector||t.viewContainerRef?.injector,f=[{provide:qx,useValue:t.data},{provide:N_,useValue:i}];return t.providers&&("function"==typeof t.providers?f.push(...t.providers(i,t,r)):f.push(...t.providers)),t.direction&&(!c||!c.get(Iu,null,{optional:!0}))&&f.push({provide:Iu,useValue:{value:t.direction,change:Xe()}}),u.zs3.create({parent:c||a,providers:f})}_removeOpenDialog(t,i){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,c)=>{a?c.setAttribute("aria-hidden",a):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){const a=i[r];a!==t&&"SCRIPT"!==a.nodeName&&"STYLE"!==a.nodeName&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Mu),u.LFG(u.zs3),u.LFG(Wx,8),u.LFG(n,12),u.LFG(Eh),u.LFG(K0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function sm(n,e){let t=n.length;for(;t--;)e(n[t])}let Y0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Z0,Zx],imports:[E_,Jp,q0,Jp]}),n})();const L_=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function Xx(){return!0}});let Qr=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!Xb()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(G0),u.LFG(L_,8),u.LFG(ie))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[tl,tl]}),n})();function tS(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Zr(e)}}}function nS(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function tw(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Zr(e)}}}function iS(n){return class extends n{constructor(...e){super(...e),this.errorState=!1}updateErrorState(){const e=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==e&&(this.errorState=a,this.stateChanges.next())}}}let sw=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class y1{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const aw=_h({passive:!0,capture:!0});class cS{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Rs(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(a=>a.handleEvent(e))})}}addHandler(e,t,i,r){const a=this._events.get(t);if(a){const c=a.get(i);c?c.add(r):a.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,aw)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const a=r.get(t);!a||(a.delete(i),0===a.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,aw)))}}const V_={enterDuration:225,exitDuration:150},cw=_h({passive:!0,capture:!0}),uw=["mousedown","touchstart"],dw=["mouseup","mouseleave","touchend","touchcancel"];class Ph{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=ca(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...V_,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const c=i.radius||function uS(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),f=e-r.left,_=t-r.top,w=a.enterDuration,D=document.createElement("div");D.classList.add("mat-ripple-element"),D.style.left=f-c+"px",D.style.top=_-c+"px",D.style.height=2*c+"px",D.style.width=2*c+"px",null!=i.color&&(D.style.backgroundColor=i.color),D.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(D);const S=window.getComputedStyle(D),U=S.transitionDuration,$="none"===S.transitionProperty||"0s"===U||"0s, 0s"===U||0===r.width&&0===r.height,ee=new y1(this,D,i,$);D.style.transform="scale3d(1, 1, 1)",ee.state=0,i.persistent||(this._mostRecentTransientRipple=ee);let de=null;return!$&&(w||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Qe=()=>this._finishRippleTransition(ee),at=()=>this._destroyRipple(ee);D.addEventListener("transitionend",Qe),D.addEventListener("transitioncancel",at),de={onTransitionEnd:Qe,onTransitionCancel:at}}),this._activeRipples.set(ee,de),($||!w)&&this._finishRippleTransition(ee),ee}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...V_,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=ca(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,uw.forEach(i=>{Ph._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{dw.forEach(t=>{this._triggerElement.addEventListener(t,this,cw)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=U0(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!O_(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(uw.forEach(t=>Ph._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&dw.forEach(t=>e.removeEventListener(t,this,cw)))}}Ph._eventManager=new cS;const dS=new u.OlP("mat-ripple-global-options");let B_=(()=>{class n{constructor(t,i,r,a,c){this._elementRef=t,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new Ph(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(gr),u.Y36(dS,8),u.Y36(u.QbO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&u.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),hS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Qr,Qr]}),n})();class hw{}class U_{}const Ki="*";function fw(n,e){return{type:7,name:n,definitions:e,options:{}}}function Nh(n,e=null){return{type:4,styles:e,timings:n}}function pw(n,e=null){return{type:2,steps:n,options:e}}function al(n){return{type:6,styles:n,offset:null}}function j_(n,e,t){return{type:0,name:n,styles:e,options:t}}function Fu(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function z_(n){Promise.resolve().then(n)}class ac{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){z_(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class cm{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const a=this.players.length;0==a?z_(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==a&&this._onFinish()}),c.onDestroy(()=>{++i==a&&this._onDestroy()}),c.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((c,f)=>Math.max(c,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function G_(n,e){}class Lu{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}let vS=(()=>{class n extends P_{constructor(t,i,r,a,c,f,_,w){super(t,i,r,a,c,f,_,w),this._animationStateChanged=new u.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(B0),u.Y36(ie,8),u.Y36(Lu),u.Y36(ol),u.Y36(u.R0b),u.Y36(Au),u.Y36(Mh))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],features:[u.qOj],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})();const _w="--mat-dialog-transition-duration";function yw(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?Hp(n.substring(0,n.length-2)):n.endsWith("s")?1e3*Hp(n.substring(0,n.length-1)):"0"===n?0:null}let bS=(()=>{class n extends vS{constructor(t,i,r,a,c,f,_,w,D){super(t,i,r,a,c,f,_,D),this._animationMode=w,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?yw(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?yw(this._config.exitAnimationDuration)??W0_DIALOG_ANIMATION_CLOSE_TIME_MS:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(_w,`${this._openAnimationDuration}ms`),this._hostElement.classList.add("mdc-dialog--opening"),this._hostElement.classList.add(sl_OPEN),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(sl_OPEN),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(sl_OPEN),this._animationsEnabled?(this._hostElement.style.setProperty(_w,`${this._openAnimationDuration}ms`),this._hostElement.classList.add("mdc-dialog--closing"),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove("mdc-dialog--opening"),this._hostElement.classList.remove("mdc-dialog--closing")}_waitForAnimationToComplete(t,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(B0),u.Y36(ie,8),u.Y36(Lu),u.Y36(ol),u.Y36(u.R0b),u.Y36(Au),u.Y36(u.QbO,8),u.Y36(Mh))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(t,i){2&t&&(u.Ikx("id",i._config.id),u.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),u.ekj("_mat-animation-noopable",!i._animationsEnabled))},features:[u.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"div",1),u.YNc(2,G_,0,0,"ng-template",2),u.qZA()())},dependencies:[m_],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title,.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__actions,.mat-mdc-dialog-container.mdc-dialog--scrollable.mdc-dialog-scroll-divider-footer .mdc-dialog__actions{border-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title{border-bottom-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, "Arial");line-height:var(--mdc-dialog-subhead-line-height, 14px);font-size:var(--mdc-dialog-subhead-size, 14px);font-weight:var(--mdc-dialog-subhead-weight, 500);letter-spacing:var(--mdc-dialog-subhead-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, black)}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, "Arial");line-height:var(--mdc-dialog-supporting-text-line-height, 14px);font-size:var(--mdc-dialog-supporting-text-size, 14px);font-weight:var(--mdc-dialog-supporting-text-weight, 500);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, black)}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),n})();class Fh{constructor(e,t,i){this._ref=e,this._containerInstance=i,this._afterOpened=new dn.x,this._beforeClosed=new dn.x,this._state=0,this.disableClose=t.disableClose,this.id=e.id,i._animationStateChanged.pipe(ii(r=>"opened"===r.state),Rr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(ii(r=>"closed"===r.state),Rr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,nl.T)(this.backdropClick(),this.keydownEvents().pipe(ii(r=>27===r.keyCode&&!this.disableClose&&!xx(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),dm(this,"keydown"===r.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(ii(t=>"closing"===t.state),Rr(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function dm(n,e,t){return n._closeInteractionType=e,n.close(t)}const vw=new u.OlP("MatMdcDialogData"),bw=new u.OlP("mat-mdc-dialog-default-options"),q_=new u.OlP("mat-mdc-dialog-scroll-strategy"),wS={provide:q_,deps:[Mu],useFactory:function ww(n){return()=>n.scrollStrategies.block()}};let Ew=0,CS=(()=>{class n{constructor(t,i,r,a,c,f,_,w,D,S){this._overlay=t,this._defaultOptions=r,this._parentDialog=a,this._dialogRefConstructor=_,this._dialogContainerType=w,this._dialogDataToken=D,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new dn.x,this._afterOpenedAtThisLevel=new dn.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=Lu,this.afterAllClosed=Pl(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Xs(void 0))),this._scrollStrategy=f,this._dialog=i.get(Z0)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,i){let r;(i={...this._defaultOptions||new Lu,...i}).id=i.id||`${this._idPrefix}${Ew++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const a=this._dialog.open(t,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:Pu,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(c,f,_)=>(r=new this._dialogRefConstructor(c,i,_),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:_},{provide:this._dialogDataToken,useValue:f.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=a.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const c=this.openDialogs.indexOf(r);c>-1&&(this.openDialogs.splice(c,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Lh=(()=>{class n extends CS{constructor(t,i,r,a,c,f,_,w){super(t,i,a,f,_,c,Fh,bS,vw,w),this._idPrefix="mat-mdc-dialog-"}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Mu),u.LFG(u.zs3),u.LFG(Fe,8),u.LFG(bw,8),u.LFG(q_),u.LFG(n,12),u.LFG(Eh),u.LFG(u.QbO,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Cw=0,Or=(()=>{class n{constructor(t,i,r){this.dialogRef=t,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=xS(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const i=t._matDialogClose||t._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(t){dm(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Fh,8),u.Y36(u.SBq),u.Y36(Lh))},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,i){1&t&&u.NdJ("click",function(a){return i._onButtonClick(a)}),2&t&&u.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[u.TTD]}),n})(),Vu=(()=>{class n{constructor(t,i,r){this._dialogRef=t,this._elementRef=i,this._dialog=r,this.id="mat-mdc-dialog-title-"+Cw++}ngOnInit(){this._dialogRef||(this._dialogRef=xS(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Fh,8),u.Y36(u.SBq),u.Y36(Lh))},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(t,i){2&t&&u.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),DS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]}),n})(),IS=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(t,i){2&t&&u.ekj("mat-mdc-dialog-actions-align-center","center"===i.align)("mat-mdc-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"}}),n})();function xS(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-mdc-dialog-container");)t=t.parentElement;return t?e.find(i=>i.id===t.id):null}let S1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Lh,wS],imports:[Y0,E_,Jp,Qr,Qr]}),n})();const Vh=["mat-button",""],Dw=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],hm=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],AS=["mat-fab",""],R1=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Sw=nS(tS(tw(class{constructor(n){this._elementRef=n}})));let Tw=(()=>{class n extends Sw{constructor(t,i,r,a){super(t),this._platform=i,this._ngZone=r,this._animationMode=a,this._focusMonitor=(0,u.f3M)(Mh),this._isFab=!1;const c=t.nativeElement.classList;for(const f of R1)this._hasHostAttributes(f.selector)&&f.mdcClasses.forEach(_=>{c.add(_)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(t){u.$Z()},n.\u0275dir=u.lG2({type:n,viewQuery:function(t,i){if(1&t&&u.Gf(B_,5),2&t){let r;u.iGM(r=u.CRH())&&(i.ripple=r.first)}},features:[u.qOj]}),n})(),Mw=(()=>{class n extends Tw{constructor(t,i,r,a){super(t,i,r,a)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(gr),u.Y36(u.R0b),u.Y36(u.QbO,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(u.uIk("disabled",i.disabled||null),u.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[u.qOj],attrs:Vh,ngContentSelectors:hm,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(u.F$t(Dw),u._UZ(0,"span",0),u.Hsn(1),u.TgZ(2,"span",1),u.Hsn(3,1),u.qZA(),u.Hsn(4,2),u._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(u.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),u.xp6(6),u.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[B_],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})();const k1=new u.OlP("mat-mdc-fab-default-options",{providedIn:"root",factory:Ow});function Ow(){return{color:"accent"}}const OS=Ow();let kS=(()=>{class n extends Tw{constructor(t,i,r,a,c){super(t,i,r,a),this._options=c,this._isFab=!0,this._options=this._options||OS,this.color=this.defaultColor=this._options.color||OS.color}get extended(){return this._extended}set extended(t){this._extended=Zr(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(gr),u.Y36(u.R0b),u.Y36(u.QbO,8),u.Y36(k1,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["button","mat-fab",""]],hostVars:11,hostBindings:function(t,i){2&t&&(u.uIk("disabled",i.disabled||null),u.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0)("mdc-fab--extended",i.extended)("mat-mdc-extended-fab",i.extended))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",extended:"extended"},exportAs:["matButton"],features:[u.qOj],attrs:AS,ngContentSelectors:hm,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(u.F$t(Dw),u._UZ(0,"span",0),u.Hsn(1),u.TgZ(2,"span",1),u.Hsn(3,1),u.qZA(),u.Hsn(4,2),u._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(u.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),u.xp6(6),u.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[B_],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:50%}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);background-color:var(--mdc-fab-container-color, transparent);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color, inherit)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:24px}.mat-mdc-extended-fab .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0}),n})(),kw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Qr,hS,Qr]}),n})();const LS=["matFormFieldNotchedOutline",""],VS=["*"],Pw=["textField"],BS=["iconPrefixContainer"],Nw=["textPrefixContainer"];function Fw(n,e){1&n&&u._UZ(0,"span",19)}function Lw(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"label",17),u.NdJ("cdkObserveContent",function(){u.CHM(t);const r=u.oxw(2);return u.KtG(r._refreshOutlineNotchWidth())}),u.Hsn(1,1),u.YNc(2,Fw,1,0,"span",18),u.qZA()}if(2&n){const t=u.oxw(2);u.Q6J("floating",t._shouldLabelFloat())("cdkObserveContentDisabled",!t._hasOutline())("id",t._labelId),u.uIk("for",t._control.id)("aria-owns",t._control.id),u.xp6(2),u.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required)}}function Vw(n,e){if(1&n&&u.YNc(0,Lw,3,6,"label",16),2&n){const t=u.oxw();u.Q6J("ngIf",t._hasFloatingLabel())}}function US(n,e){1&n&&u._UZ(0,"div",20)}function jS(n,e){}function L1(n,e){if(1&n&&u.YNc(0,jS,0,0,"ng-template",22),2&n){u.oxw(2);const t=u.MAs(1);u.Q6J("ngTemplateOutlet",t)}}function Bw(n,e){if(1&n&&(u.TgZ(0,"div",21),u.YNc(1,L1,1,1,"ng-template",9),u.qZA()),2&n){const t=u.oxw();u.Q6J("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",t._labelWidth),u.xp6(1),u.Q6J("ngIf",!t._forceDisplayInfixLabel())}}function V1(n,e){1&n&&(u.TgZ(0,"div",23,24),u.Hsn(2,2),u.qZA())}function B1(n,e){1&n&&(u.TgZ(0,"div",25,26),u.Hsn(2,3),u.qZA())}function U1(n,e){}function j1(n,e){if(1&n&&u.YNc(0,U1,0,0,"ng-template",22),2&n){u.oxw();const t=u.MAs(1);u.Q6J("ngTemplateOutlet",t)}}function H1(n,e){1&n&&(u.TgZ(0,"div",27),u.Hsn(1,4),u.qZA())}function $1(n,e){1&n&&(u.TgZ(0,"div",28),u.Hsn(1,5),u.qZA())}function z1(n,e){1&n&&u._UZ(0,"div",29)}function G1(n,e){if(1&n&&(u.TgZ(0,"div",30),u.Hsn(1,6),u.qZA()),2&n){const t=u.oxw();u.Q6J("@transitionMessages",t._subscriptAnimationState)}}function fm(n,e){if(1&n&&(u.TgZ(0,"mat-hint",34),u._uU(1),u.qZA()),2&n){const t=u.oxw(2);u.Q6J("id",t._hintLabelId),u.xp6(1),u.Oqu(t.hintLabel)}}function q1(n,e){if(1&n&&(u.TgZ(0,"div",31),u.YNc(1,fm,2,2,"mat-hint",32),u.Hsn(2,7),u._UZ(3,"div",33),u.Hsn(4,8),u.qZA()),2&n){const t=u.oxw();u.Q6J("@transitionMessages",t._subscriptAnimationState),u.xp6(1),u.Q6J("ngIf",t.hintLabel)}}const Uw=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],pm=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let mm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-label"]]}),n})();const W1=new u.OlP("MatError");let Hw=0,$w=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+Hw++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(t,i){2&t&&(u.Ikx("id",i.id),u.uIk("align",null),u.ekj("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),n})();const zw=new u.OlP("MatPrefix"),$S=new u.OlP("MatSuffix");let Gw=(()=>{class n{constructor(t){this._elementRef=t,this.floating=!1}getWidth(){return function gm(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(t,i){2&t&&u.ekj("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating"}}),n})();const qw="mdc-line-ripple--active",Z_="mdc-line-ripple--deactivating";let zS=(()=>{class n{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=r=>{const a=this._elementRef.nativeElement.classList,c=a.contains(Z_);"opacity"===r.propertyName&&c&&a.remove(qw,Z_)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(Z_),t.add(qw)}deactivate(){this._elementRef.nativeElement.classList.add(Z_)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275dir=u.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),GS=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(t,i){2&t&&u.ekj("mdc-notched-outline--notched",i.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:LS,ngContentSelectors:VS,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(t,i){1&t&&(u.F$t(),u._UZ(0,"div",0),u.TgZ(1,"div",1),u.Hsn(2),u.qZA(),u._UZ(3,"div",2)),2&t&&(u.xp6(1),u.Udp("width",i._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const qS={transitionMessages:fw("transitionMessages",[j_("enter",al({opacity:1,transform:"translateY(0%)"})),Fu("void => enter",[al({opacity:0,transform:"translateY(-5px)"}),Nh("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Ww=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n}),n})();const Y_=new u.OlP("MatFormField"),Kw=new u.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let WS=0,Q1=(()=>{class n{constructor(t,i,r,a,c,f,_,w){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=a,this._platform=c,this._defaults=f,this._animationMode=_,this._document=w,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+WS++,this._hintLabelId="mat-mdc-hint-"+WS++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new dn.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,f&&(f.appearance&&(this.appearance=f.appearance),this._hideRequiredMarker=Boolean(f?.hideRequiredMarker),f.color&&(this.color=f.color))}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Zr(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Vo(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,nl.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Vo(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Vo(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,r=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,a=i?.getBoundingClientRect().width??0,c=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${a+c}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(u.R0b),u.Y36(Iu),u.Y36(gr),u.Y36(Kw,8),u.Y36(u.QbO,8),u.Y36(ie))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(u.Suo(r,mm,5),u.Suo(r,mm,7),u.Suo(r,Ww,5),u.Suo(r,zw,5),u.Suo(r,$S,5),u.Suo(r,W1,5),u.Suo(r,$w,5)),2&t){let a;u.iGM(a=u.CRH())&&(i._labelChildNonStatic=a.first),u.iGM(a=u.CRH())&&(i._labelChildStatic=a.first),u.iGM(a=u.CRH())&&(i._formFieldControl=a.first),u.iGM(a=u.CRH())&&(i._prefixChildren=a),u.iGM(a=u.CRH())&&(i._suffixChildren=a),u.iGM(a=u.CRH())&&(i._errorChildren=a),u.iGM(a=u.CRH())&&(i._hintChildren=a)}},viewQuery:function(t,i){if(1&t&&(u.Gf(Pw,5),u.Gf(BS,5),u.Gf(Nw,5),u.Gf(Gw,5),u.Gf(GS,5),u.Gf(zS,5)),2&t){let r;u.iGM(r=u.CRH())&&(i._textField=r.first),u.iGM(r=u.CRH())&&(i._iconPrefixContainer=r.first),u.iGM(r=u.CRH())&&(i._textPrefixContainer=r.first),u.iGM(r=u.CRH())&&(i._floatingLabel=r.first),u.iGM(r=u.CRH())&&(i._notchedOutline=r.first),u.iGM(r=u.CRH())&&(i._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(t,i){2&t&&u.ekj("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[u._Bn([{provide:Y_,useExisting:n}])],ngContentSelectors:pm,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(t,i){1&t&&(u.F$t(Uw),u.YNc(0,Vw,1,1,"ng-template",null,0,u.W1O),u.TgZ(2,"div",1,2),u.NdJ("click",function(a){return i._control.onContainerClick&&i._control.onContainerClick(a)}),u.YNc(4,US,1,0,"div",3),u.TgZ(5,"div",4),u.YNc(6,Bw,2,3,"div",5),u.YNc(7,V1,3,0,"div",6),u.YNc(8,B1,3,0,"div",7),u.TgZ(9,"div",8),u.YNc(10,j1,1,1,"ng-template",9),u.Hsn(11),u.qZA(),u.YNc(12,H1,2,0,"div",10),u.YNc(13,$1,2,0,"div",11),u.qZA(),u.YNc(14,z1,1,0,"div",12),u.qZA(),u.TgZ(15,"div",13),u.YNc(16,G1,2,1,"div",14),u.YNc(17,q1,5,2,"div",15),u.qZA()),2&t&&(u.xp6(2),u.ekj("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),u.xp6(2),u.Q6J("ngIf",!i._hasOutline()&&!i._control.disabled),u.xp6(2),u.Q6J("ngIf",i._hasOutline()),u.xp6(1),u.Q6J("ngIf",i._hasIconPrefix),u.xp6(1),u.Q6J("ngIf",i._hasTextPrefix),u.xp6(2),u.Q6J("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),u.xp6(2),u.Q6J("ngIf",i._hasTextSuffix),u.xp6(1),u.Q6J("ngIf",i._hasIconSuffix),u.xp6(1),u.Q6J("ngIf",!i._hasOutline()),u.xp6(1),u.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),u.Q6J("ngSwitch",i._getDisplayedMessages()),u.xp6(1),u.Q6J("ngSwitchCase","error"),u.xp6(1),u.Q6J("ngSwitchCase","hint"))},dependencies:[Fn,ji,zo,$r,Tx,$w,Gw,GS,zS],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required::after,.mdc-floating-label--required[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[qS.transitionMessages]},changeDetection:0}),n})(),Xr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Qr,Wo,sc,Qr]}),n})();function Zw(...n){const e=(0,Oo.jO)(n),{args:t,keys:i}=Na(n),r=new Oi.y(a=>{const{length:c}=t;if(!c)return void a.complete();const f=new Array(c);let _=c,w=c;for(let D=0;D<c;D++){let S=!1;(0,Qo.Xf)(t[D]).subscribe((0,Ln.x)(a,N=>{S||(S=!0,w--),f[D]=N},()=>_--,void 0,()=>{(!_||!S)&&(w||a.next(i?La(i,f):f),a.complete())}))}});return e?r.pipe(Fa(e)):r}let ym=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),lc=(()=>{class n extends ym{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const Ps=new u.OlP("NgValueAccessor"),Yw={provide:Ps,useExisting:(0,u.Gpc)(()=>Uh),multi:!0},Qw=new u.OlP("CompositionEventMode");let Uh=(()=>{class n extends ym{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function YS(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(Qw,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&u.NdJ("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[u._Bn([Yw]),u.qOj]}),n})();function ga(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Xw(n){return null!=n&&"number"==typeof n.length}const Zi=new u.OlP("NgValidators"),kr=new u.OlP("NgAsyncValidators"),Jw=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class J_{static min(e){return function Ns(n){return e=>{if(ga(e.value)||ga(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function eE(n){return e=>{if(ga(e.value)||ga(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function XS(n){return ga(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function tE(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function nE(n){return ga(n.value)||Jw.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function iE(n){return e=>ga(e.value)||!Xw(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function rE(n){return e=>Xw(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function ey(n){if(!n)return ty;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(ga(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return sy(e)}static composeAsync(e){return ay(e)}}function ty(n){return null}function ny(n){return null!=n}function oE(n){return(0,u.QGY)(n)?(0,en.D)(n):n}function iy(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function JS(n,e){return e.map(t=>t(n))}function oy(n){return n.map(e=>function ry(n){return!n.validate}(e)?e:t=>e.validate(t))}function sy(n){if(!n)return null;const e=n.filter(ny);return 0==e.length?null:function(t){return iy(JS(t,e))}}function vm(n){return null!=n?sy(oy(n)):null}function ay(n){if(!n)return null;const e=n.filter(ny);return 0==e.length?null:function(t){return Zw(JS(t,e).map(oE)).pipe((0,ct.U)(iy))}}function bm(n){return null!=n?ay(oy(n)):null}function jh(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Hh(n){return n._rawValidators}function ly(n){return n._rawAsyncValidators}function cy(n){return n?Array.isArray(n)?n:[n]:[]}function wm(n,e){return Array.isArray(n)?n.includes(e):n===e}function eT(n,e){const t=cy(e);return cy(n).forEach(r=>{wm(t,r)||t.push(r)}),t}function tT(n,e){return cy(e).filter(t=>!wm(n,t))}class nT{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=vm(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=bm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class yr extends nT{get formDirective(){return null}get path(){return null}}class _a extends nT{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class sE{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let iT=(()=>{class n extends sE{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(_a,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&u.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[u.qOj]}),n})();const Dm="VALID",$h="INVALID",ju="PENDING",zh="DISABLED";function hy(n){return(Gh(n)?n.validators:n)||null}function Im(n,e){return(Gh(e)?e.asyncValidators:n)||null}function Gh(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class fy{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Dm}get invalid(){return this.status===$h}get pending(){return this.status==ju}get disabled(){return this.status===zh}get enabled(){return this.status!==zh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(eT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(eT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(tT(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(tT(e,this._rawAsyncValidators))}hasValidator(e){return wm(this._rawValidators,e)}hasAsyncValidator(e){return wm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ju,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=zh,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Dm,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Dm||this.status===ju)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zh:Dm}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ju,this._hasOwnPendingAsyncValidator=!0;const t=oE(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?zh:this.errors?$h:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ju)?ju:this._anyControlsHaveStatus($h)?$h:Dm}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Gh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function lT(n){return Array.isArray(n)?vm(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function dE(n){return Array.isArray(n)?bm(n):n||null}(this._rawAsyncValidators)}}class qh extends fy{constructor(e,t,i){super(hy(t),Im(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function fE(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new u.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function hE(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new u.vHH(1e3,"");if(!i[t])throw new u.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,a)=>{i=t(i,r,a)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Wh=new u.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>pE}),pE="always";function Kh(n,e,t=pE){mE(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function sP(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&gE(n,e)})}(n,e),function lP(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function aP(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&gE(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function oP(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function xm(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),gy(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Sm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function mE(n,e){const t=Hh(n);null!==e.validator?n.setValidators(jh(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=ly(n);null!==e.asyncValidator?n.setAsyncValidators(jh(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Sm(e._rawValidators,r),Sm(e._rawAsyncValidators,r)}function gy(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=Hh(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(c=>c!==e.validator);a.length!==r.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const r=ly(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(c=>c!==e.asyncValidator);a.length!==r.length&&(t=!0,n.setAsyncValidators(a))}}}const i=()=>{};return Sm(e._rawValidators,i),Sm(e._rawAsyncValidators,i),t}function gE(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function uT(n,e){mE(n,e)}function h(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const C={provide:yr,useExisting:(0,u.Gpc)(()=>T)},I=(()=>Promise.resolve())();let T=(()=>{class n extends yr{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new qh({},vm(t),bm(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){I.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Kh(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){I.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){I.then(()=>{const i=this._findContainer(t.path),r=new qh({});uT(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){I.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){I.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,h(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Zi,10),u.Y36(kr,10),u.Y36(Wh,8))},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&u.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([C]),u.qOj]}),n})();function L(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function K(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const re=class extends fy{constructor(e=null,t,i){super(hy(t),Im(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Gh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=K(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){L(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){L(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){K(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},dP={provide:_a,useExisting:(0,u.Gpc)(()=>dT)},hP=(()=>Promise.resolve())();let dT=(()=>{class n extends _a{constructor(t,i,r,a,c,f){super(),this._changeDetectorRef=c,this.callSetDisabledState=f,this.control=new re,this._registered=!1,this.update=new u.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function m(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(a=>{a.constructor===Uh?t=a:function d(n){return Object.getPrototypeOf(n.constructor)===lc}(a)?i=a:r=a}),r||i||t||null}(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function l(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Kh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){hP.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,u.D6c)(i);hP.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function my(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(yr,9),u.Y36(Zi,10),u.Y36(kr,10),u.Y36(Ps,10),u.Y36(u.sBO,8),u.Y36(Wh,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([dP]),u.qOj,u.TTD]}),n})(),pP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const $U={provide:yr,useExisting:(0,u.Gpc)(()=>yE)};let yE=(()=>{class n extends yr{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(gy(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return Kh(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){xm(t.control||null,t,!1),function v(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,h(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(xm(i||null,t),(n=>n instanceof re)(r)&&(Kh(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);uT(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function cP(n,e){return gy(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){mE(this.form,this),this._oldForm&&gy(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Zi,10),u.Y36(kr,10),u.Y36(Wh,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&u.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([$U]),u.qOj,u.TTD]}),n})(),aj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pP]}),n})(),lj=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Wh,useValue:t.callSetDisabledState??pE}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[aj]}),n})();const OP=_h({passive:!0});let uj=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Po.E;const i=ca(t),r=this._monitoredElements.get(i);if(r)return r.subject;const a=new dn.x,c="cdk-text-field-autofilled",f=_=>{"cdk-text-field-autofill-start"!==_.animationName||i.classList.contains(c)?"cdk-text-field-autofill-end"===_.animationName&&i.classList.contains(c)&&(i.classList.remove(c),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!1}))):(i.classList.add(c),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",f,OP),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:a,unlisten:()=>{i.removeEventListener("animationstart",f,OP)}}),a}stopMonitoring(t){const i=ca(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(gr),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const hj=new u.OlP("MAT_INPUT_VALUE_ACCESSOR"),fj=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let pj=0;const mj=iS(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new dn.x}});let gj=(()=>{class n extends mj{constructor(t,i,r,a,c,f,_,w,D,S){super(f,a,c,r),this._elementRef=t,this._platform=i,this._autofillMonitor=w,this._formField=S,this._uid="mat-input-"+pj++,this.focused=!1,this.stateChanges=new dn.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter($=>Yb().has($)),this._iOSKeyupListener=$=>{const ee=$.target;!ee.value&&0===ee.selectionStart&&0===ee.selectionEnd&&(ee.setSelectionRange(1,1),ee.setSelectionRange(0,0))};const N=this._elementRef.nativeElement,U=N.nodeName.toLowerCase();this._inputValueAccessor=_||N,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&D.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===U,this._isTextarea="textarea"===U,this._isInFormField=!!S,this._isNativeSelect&&(this.controlType=N.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this._disabled}set disabled(t){this._disabled=Zr(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(J_.required)??!1}set required(t){this._required=Zr(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Yb().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Zr(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){fj.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(gr),u.Y36(_a,10),u.Y36(T,8),u.Y36(yE,8),u.Y36(sw),u.Y36(hj,10),u.Y36(uj),u.Y36(u.R0b),u.Y36(Y_,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(t,i){1&t&&u.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(u.Ikx("id",i.id)("disabled",i.disabled)("required",i.required),u.uIk("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),u.ekj("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[u._Bn([{provide:Ww,useExisting:n}]),u.qOj,u.TTD]}),n})(),_j=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Qr,Xr,Xr,dj,Qr]}),n})();class _y{constructor(e){this.dialogRef=e,this.name=""}onNoClick(){this.dialogRef.close()}}_y.\u0275fac=function(e){return new(e||_y)(u.Y36(Fh))},_y.\u0275cmp=u.Xpm({type:_y,selectors:[["app-dialog-add-player"]],decls:14,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["matInput","",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"disabled","mat-dialog-close"]],template:function(e,t){1&e&&(u.TgZ(0,"h1",0),u._uU(1,"Add new Player"),u.qZA(),u.TgZ(2,"div",1)(3,"p"),u._uU(4,"Name new player."),u.qZA(),u.TgZ(5,"mat-form-field")(6,"mat-label"),u._uU(7,"Name:"),u.qZA(),u.TgZ(8,"input",2),u.NdJ("ngModelChange",function(r){return t.name=r}),u.qZA()()(),u.TgZ(9,"div",3)(10,"button",4),u.NdJ("click",function(){return t.onNoClick()}),u._uU(11,"No Thanks"),u.qZA(),u.TgZ(12,"button",5),u._uU(13,"Ok"),u.qZA()()),2&e&&(u.xp6(8),u.Q6J("ngModel",t.name),u.xp6(4),u.Q6J("disabled",0==t.name.length)("mat-dialog-close",t.name))},dependencies:[Mw,Or,Vu,DS,IS,Q1,mm,Uh,iT,dT,gj]});var ri=k(462);function vE(){return(0,ui.e)((n,e)=>{let t,i=!1;n.subscribe((0,Ln.x)(e,r=>{const a=t;t=r,i&&e.next([a,r]),i=!0}))})}var Tt,_o=k(2011),yj=(k(9169),k(3942)),De=k(5861),Yh=k(9681),bE=k(4859),Hu=k(1877),An=k(2090),vj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},cc={},_T=_T||{},Qt=vj||self;function wE(){}function EE(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function yy(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var yT="closure_uid_"+(1e9*Math.random()>>>0),wj=0;function Ej(n,e,t){return n.call.apply(n.bind,arguments)}function Cj(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Jr(n,e,t){return(Jr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ej:Cj).apply(null,arguments)}function CE(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Pr(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(i,r,a){for(var c=Array(arguments.length-2),f=2;f<arguments.length;f++)c[f-2]=arguments[f];return e.prototype[r].apply(i,c)}}function $u(){this.s=this.s,this.o=this.o}$u.prototype.s=!1,$u.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function bj(n){Object.prototype.hasOwnProperty.call(n,yT)&&n[yT]||(n[yT]=++wj)}(this)},$u.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const kP=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function vT(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function PP(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(EE(i)){const r=n.length||0,a=i.length||0;n.length=r+a;for(let c=0;c<a;c++)n[r+c]=i[c]}else n.push(i)}}function eo(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}eo.prototype.h=function(){this.defaultPrevented=!0};var Ij=function(){if(!Qt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Qt.addEventListener("test",wE,e),Qt.removeEventListener("test",wE,e)}catch{}return n}();function DE(n){return/^[\s\xa0]*$/.test(n)}var NP=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function bT(n,e){return n<e?-1:n>e?1:0}function IE(){var n=Qt.navigator;return n&&(n=n.userAgent)?n:""}function ll(n){return-1!=IE().indexOf(n)}function wT(n){return wT[" "](n),n}wT[" "]=wE;var xE,n,Sj=ll("Opera"),Tm=ll("Trident")||ll("MSIE"),FP=ll("Edge"),ET=FP||Tm,LP=ll("Gecko")&&!(-1!=IE().toLowerCase().indexOf("webkit")&&!ll("Edge"))&&!(ll("Trident")||ll("MSIE"))&&!ll("Edge"),Tj=-1!=IE().toLowerCase().indexOf("webkit")&&!ll("Edge");function VP(){var n=Qt.document;return n?n.documentMode:void 0}e:{var CT="",DT=(n=IE(),LP?/rv:([^\);]+)(\)|;)/.exec(n):FP?/Edge\/([\d\.]+)/.exec(n):Tm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Tj?/WebKit\/(\S+)/.exec(n):Sj?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(DT&&(CT=DT?DT[1]:""),Tm){var IT=VP();if(null!=IT&&IT>parseFloat(CT)){xE=String(IT);break e}}xE=CT}var Aj={};var Rj=Qt.document&&Tm&&(VP()||parseInt(xE,10))||void 0;function vy(n,e){if(eo.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(LP){e:{try{wT(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Oj[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&vy.X.h.call(this)}}Pr(vy,eo);var Oj={2:"touch",3:"pen",4:"mouse"};vy.prototype.h=function(){vy.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var by="closure_listenable_"+(1e6*Math.random()|0),kj=0;function Pj(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ha=r,this.key=++kj,this.ba=this.ea=!1}function SE(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function ST(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function UP(n){const e={};for(const t in n)e[t]=n[t];return e}const jP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function HP(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let a=0;a<jP.length;a++)t=jP[a],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function TE(n){this.src=n,this.g={},this.h=0}function TT(n,e){var t=e.type;if(t in n.g){var a,i=n.g[t],r=kP(i,e);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(SE(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function AT(n,e,t,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==i)return r}return-1}TE.prototype.add=function(n,e,t,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=AT(n,e,i,r);return-1<c?(e=n[c],t||(e.ea=!1)):((e=new Pj(e,this.src,a,!!i,r)).ea=t,n.push(e)),e};var MT="closure_lm_"+(1e6*Math.random()|0),RT={};function $P(n,e,t,i,r){if(i&&i.once)return GP(n,e,t,i,r);if(Array.isArray(e)){for(var a=0;a<e.length;a++)$P(n,e[a],t,i,r);return null}return t=NT(t),n&&n[by]?n.N(e,t,yy(i)?!!i.capture:!!i,r):zP(n,e,t,!1,i,r)}function zP(n,e,t,i,r,a){if(!e)throw Error("Invalid event type");var c=yy(r)?!!r.capture:!!r,f=kT(n);if(f||(n[MT]=f=new TE(n)),(t=f.add(e,t,i,c,a)).proxy)return t;if(i=function Nj(){const e=Fj;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)Ij||(r=c),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(WP(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function GP(n,e,t,i,r){if(Array.isArray(e)){for(var a=0;a<e.length;a++)GP(n,e[a],t,i,r);return null}return t=NT(t),n&&n[by]?n.O(e,t,yy(i)?!!i.capture:!!i,r):zP(n,e,t,!0,i,r)}function qP(n,e,t,i,r){if(Array.isArray(e))for(var a=0;a<e.length;a++)qP(n,e[a],t,i,r);else i=yy(i)?!!i.capture:!!i,t=NT(t),n&&n[by]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=AT(a=n.g[e],t,i,r))&&(SE(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=kT(n))&&(e=n.g[e.toString()],n=-1,e&&(n=AT(e,t,i,r)),(t=-1<n?e[n]:null)&&OT(t))}function OT(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[by])TT(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(WP(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=kT(e))?(TT(t,n),0==t.h&&(t.src=null,e[MT]=null)):SE(n)}}}function WP(n){return n in RT?RT[n]:RT[n]="on"+n}function Fj(n,e){if(n.ba)n=!0;else{e=new vy(e,this);var t=n.listener,i=n.ha||n.src;n.ea&&OT(n),n=t.call(i,e)}return n}function kT(n){return(n=n[MT])instanceof TE?n:null}var PT="__closure_events_fn_"+(1e9*Math.random()>>>0);function NT(n){return"function"==typeof n?n:(n[PT]||(n[PT]=function(e){return n.handleEvent(e)}),n[PT])}function vr(){$u.call(this),this.i=new TE(this),this.P=this,this.I=null}function Nr(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new eo(e,n);else if(e instanceof eo)e.target=e.target||n;else{var r=e;HP(e=new eo(i,n),r)}if(r=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];r=AE(c,i,!0,e)&&r}if(r=AE(c=e.g=n,i,!0,e)&&r,r=AE(c,i,!1,e)&&r,t)for(a=0;a<t.length;a++)r=AE(c=e.g=t[a],i,!1,e)&&r}function AE(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.ba&&c.capture==t){var f=c.listener,_=c.ha||c.src;c.ea&&TT(n.i,c),r=!1!==f.call(_,i)&&r}}return r&&!i.defaultPrevented}Pr(vr,$u),vr.prototype[by]=!0,vr.prototype.removeEventListener=function(n,e,t,i){qP(this,n,e,t,i)},vr.prototype.M=function(){if(vr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)SE(t[i]);delete n.g[e],n.h--}}this.I=null},vr.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},vr.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var FT=Qt.JSON.stringify;function Lj(){var n=YP;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var LT,KP=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Bj,n=>n.reset());class Bj{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Uj(n){Qt.setTimeout(()=>{throw n},0)}function ZP(n,e){LT||function jj(){var n=Qt.Promise.resolve(void 0);LT=function(){n.then(Hj)}}(),VT||(LT(),VT=!0),YP.add(n,e)}var VT=!1,YP=new class Vj{constructor(){this.h=this.g=null}add(e,t){const i=KP.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function Hj(){for(var n;n=Lj();){try{n.h.call(n.g)}catch(t){Uj(t)}var e=KP;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}VT=!1}function ME(n,e){vr.call(this),this.h=n||1,this.g=e||Qt,this.j=Jr(this.lb,this),this.l=Date.now()}function BT(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function UT(n,e,t){if("function"==typeof n)t&&(n=Jr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Jr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Qt.setTimeout(n,e||0)}function QP(n){n.g=UT(()=>{n.g=null,n.i&&(n.i=!1,QP(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Pr(ME,vr),(Tt=ME.prototype).ca=!1,Tt.R=null,Tt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Nr(this,"tick"),this.ca&&(BT(this),this.start()))}},Tt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Tt.M=function(){ME.X.M.call(this),BT(this),delete this.g};class $j extends $u{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:QP(this)}M(){super.M(),this.g&&(Qt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wy(n){$u.call(this),this.h=n,this.g={}}Pr(wy,$u);var XP=[];function JP(n,e,t,i){Array.isArray(t)||(t&&(XP[0]=t.toString()),t=XP);for(var r=0;r<t.length;r++){var a=$P(e,t[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function eN(n){ST(n.g,function(e,t){this.g.hasOwnProperty(t)&&OT(e)},n),n.g={}}function RE(){this.g=!0}function Am(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Wj(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<r.length;c++)r[c]=""}}}return FT(t)}catch{return e}}(n,t)+(i?" "+i:"")})}wy.prototype.M=function(){wy.X.M.call(this),eN(this)},wy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},RE.prototype.Aa=function(){this.g=!1},RE.prototype.info=function(){};var Qh={},tN=null;function OE(){return tN=tN||new vr}function nN(n){eo.call(this,Qh.Pa,n)}function Ey(n){const e=OE();Nr(e,new nN(e))}function iN(n,e){eo.call(this,Qh.STAT_EVENT,n),this.stat=e}function yo(n){const e=OE();Nr(e,new iN(e,n))}function rN(n,e){eo.call(this,Qh.Qa,n),this.size=e}function Cy(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Qt.setTimeout(function(){n()},e)}Qh.Pa="serverreachability",Pr(nN,eo),Qh.STAT_EVENT="statevent",Pr(iN,eo),Qh.Qa="timingevent",Pr(rN,eo);var kE={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},oN={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function jT(){}function aN(){}jT.prototype.h=null;var zT,Dy={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function HT(){eo.call(this,"d")}function $T(){eo.call(this,"c")}function PE(){}function Iy(n,e,t,i){this.l=n,this.j=e,this.m=t,this.U=i||1,this.S=new wy(this),this.O=Kj,this.T=new ME(n=ET?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new lN}function lN(){this.i=null,this.g="",this.h=!1}Pr(HT,eo),Pr($T,eo),Pr(PE,jT),PE.prototype.g=function(){return new XMLHttpRequest},PE.prototype.i=function(){return{}},zT=new PE;var Kj=45e3,GT={},NE={};function qT(n,e,t){n.K=1,n.v=BE(uc(e)),n.s=t,n.P=!0,cN(n,null)}function cN(n,e){n.F=Date.now(),xy(n),n.A=uc(n.v);var t=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),vN(t.i,"t",i),n.C=0,t=n.l.H,n.h=new lN,n.g=$N(n.l,t?e:null,!n.s),0<n.N&&(n.L=new $j(Jr(n.La,n,n.g),n.N)),JP(n.S,n.g,"readystatechange",n.ib),e=n.H?UP(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Ey(),function zj(n,e,t,i,r,a){n.info(function(){if(n.g)if(a)for(var c="",f=a.split("&"),_=0;_<f.length;_++){var w=f[_].split("=");if(1<w.length){var D=w[0];w=w[1];var S=D.split("_");c=2<=S.length&&"type"==S[1]?c+(D+"=")+w+"&":c+(D+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function uN(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function dN(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=Zj(n,t),r==NE){4==e&&(n.o=4,yo(14),i=!1),Am(n.j,n.m,null,"[Incomplete Response]");break}if(r==GT){n.o=4,yo(15),Am(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Am(n.j,n.m,r,null),WT(n,r)}uN(n)&&r!=NE&&r!=GT&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,yo(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),tA(e),e.K=!0,yo(11))):(Am(n.j,n.m,t,"[Invalid Chunked Response]"),Xh(n),Sy(n))}function Zj(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?NE:(t=Number(e.substring(t,i)),isNaN(t)?GT:(i+=1)+t>e.length?NE:(e=e.substr(i,t),n.C=i+t,e))}function xy(n){n.V=Date.now()+n.O,hN(n,n.O)}function hN(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Cy(Jr(n.gb,n),e)}function FE(n){n.B&&(Qt.clearTimeout(n.B),n.B=null)}function Sy(n){0==n.l.G||n.I||BN(n.l,n)}function Xh(n){FE(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,BT(n.T),eN(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function WT(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||KT(t.h,n)))if(!n.J&&KT(t.h,n)&&3==t.G){try{var i=t.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;GE(t),$E(t)}eA(t),yo(18)}}else t.Ba=r[1],0<t.Ba-t.T&&37500>r[2]&&t.L&&0==t.A&&!t.v&&(t.v=Cy(Jr(t.cb,t),6e3));if(1>=EN(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else ef(t,11)}else if((n.J||t.g==n)&&GE(t),!DE(e))for(r=t.Fa.g.parse(e),e=0;e<r.length;e++){let w=r[e];if(t.T=w[0],w=w[1],2==t.G)if("c"==w[0]){t.I=w[1],t.ka=w[2];const D=w[3];null!=D&&(t.ma=D,t.j.info("VER="+t.ma));const S=w[4];null!=S&&(t.Ca=S,t.j.info("SVER="+t.Ca));const N=w[5];null!=N&&"number"==typeof N&&0<N&&(t.J=i=1.5*N,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const U=n.g;if(U){const $=U.g?U.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($){var a=i.h;a.g||-1==$.indexOf("spdy")&&-1==$.indexOf("quic")&&-1==$.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(ZT(a,a.h),a.h=null))}if(i.D){const ee=U.g?U.g.getResponseHeader("X-HTTP-Session-Id"):null;ee&&(i.za=ee,fi(i.F,i.D,ee))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var c=n;if((i=t).sa=HN(i,i.H?i.ka:null,i.V),c.J){CN(i.h,c);var f=c,_=i.J;_&&f.setTimeout(_),f.B&&(FE(f),xy(f)),i.g=c}else LN(i);0<t.i.length&&zE(t)}else"stop"!=w[0]&&"close"!=w[0]||ef(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?ef(t,7):JT(t):"noop"!=w[0]&&t.l&&t.l.wa(w),t.A=0)}Ey()}catch{}}function fN(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(EE(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Qj(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(EE(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function Yj(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(EE(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,a=0;a<r;a++)e.call(void 0,i[a],t&&t[a],n)}(Tt=Iy.prototype).setTimeout=function(n){this.O=n},Tt.ib=function(n){n=n.target;const e=this.L;e&&3==dc(n)?e.l():this.La(n)},Tt.La=function(n){try{if(n==this.g)e:{const D=dc(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>D)&&(3!=D||ET||this.g&&(this.h.h||this.g.fa()||RN(this.g)))){this.I||4!=D||7==e||Ey(),FE(this);var t=this.g.aa();this.Y=t;t:if(uN(this)){var i=RN(this.g);n="";var r=i.length,a=4==dc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Xh(this),Sy(this);var c="";break t}this.h.i=new Qt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:a&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==t,function Gj(n,e,t,i,r,a,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.U,D,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!DE(f)){var w=f;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,yo(12),Xh(this),Sy(this);break e}Am(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,WT(this,t)}this.P?(dN(this,D,c),ET&&this.i&&3==D&&(JP(this.S,this.T,"tick",this.hb),this.T.start())):(Am(this.j,this.m,c,null),WT(this,c)),4==D&&Xh(this),this.i&&!this.I&&(4==D?BN(this.l,this):(this.i=!1,xy(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,yo(12)):(this.o=0,yo(13)),Xh(this),Sy(this)}}}catch{}},Tt.hb=function(){if(this.g){var n=dc(this.g),e=this.g.fa();this.C<e.length&&(FE(this),dN(this,n,e),this.i&&4!=n&&xy(this))}},Tt.cancel=function(){this.I=!0,Xh(this)},Tt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function qj(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ey(),yo(17)),Xh(this),this.o=2,Sy(this)):hN(this,this.V-n)};var pN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jh(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Jh){this.h=void 0!==e?e:n.h,LE(this,n.j),this.s=n.s,this.g=n.g,VE(this,n.m),this.l=n.l,e=n.i;var t=new My;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),mN(this,t),this.o=n.o}else n&&(t=String(n).match(pN))?(this.h=!!e,LE(this,t[1]||"",!0),this.s=Ty(t[2]||""),this.g=Ty(t[3]||"",!0),VE(this,t[4]),this.l=Ty(t[5]||"",!0),mN(this,t[6]||"",!0),this.o=Ty(t[7]||"")):(this.h=!!e,this.i=new My(null,this.h))}function uc(n){return new Jh(n)}function LE(n,e,t){n.j=t?Ty(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function VE(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function mN(n,e,t){e instanceof My?(n.i=e,function rH(n,e){e&&!n.j&&(zu(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(_N(this,i),vN(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Ay(e,nH)),n.i=new My(e,n.h))}function fi(n,e,t){n.i.set(e,t)}function BE(n){return fi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ty(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ay(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Jj),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Jj(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Jh.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Ay(e,gN,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Ay(e,gN,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Ay(t,"/"==t.charAt(0)?tH:eH,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Ay(t,iH)),n.join("")};var gN=/[#\/\?@]/g,eH=/[#\?:]/g,tH=/[#\?]/g,nH=/[#\?@]/g,iH=/#/g;function My(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function zu(n){n.g||(n.g=new Map,n.h=0,n.i&&function Xj(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var a=n[t].substring(0,i);r=n[t].substring(i+1)}else a=n[t];e(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function _N(n,e){zu(n),e=Mm(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function yN(n,e){return zu(n),e=Mm(n,e),n.g.has(e)}function vN(n,e,t){_N(n,e),0<t.length&&(n.i=null,n.g.set(Mm(n,e),vT(t)),n.h+=t.length)}function Mm(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function bN(n){this.l=n||sH,n=Qt.PerformanceNavigationTiming?0<(n=Qt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Qt.g&&Qt.g.Ga&&Qt.g.Ga()&&Qt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Tt=My.prototype).add=function(n,e){zu(this),this.i=null,n=Mm(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Tt.forEach=function(n,e){zu(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},Tt.oa=function(){zu(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let a=0;a<r.length;a++)t.push(e[i])}return t},Tt.W=function(n){zu(this);let e=[];if("string"==typeof n)yN(this,n)&&(e=e.concat(this.g.get(Mm(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Tt.set=function(n,e){return zu(this),this.i=null,yN(this,n=Mm(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Tt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},Tt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const a=encodeURIComponent(String(i)),c=this.W(i);for(i=0;i<c.length;i++){var r=a;""!==c[i]&&(r+="="+encodeURIComponent(String(c[i]))),n.push(r)}}return this.i=n.join("&")};var sH=10;function wN(n){return!!n.h||!!n.g&&n.g.size>=n.j}function EN(n){return n.h?1:n.g?n.g.size:0}function KT(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function ZT(n,e){n.g?n.g.add(e):n.h=e}function CN(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function DN(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return vT(n.i)}function YT(){}function aH(){this.g=new YT}function lH(n,e,t){const i=t||"";try{fN(n,function(r,a){let c=r;yy(r)&&(c=FT(r)),e.push(i+a+"="+encodeURIComponent(c))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function UE(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Ry(n){this.l=n.ac||null,this.j=n.jb||!1}function jE(n,e){vr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=QT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bN.prototype.cancel=function(){if(this.i=DN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},YT.prototype.stringify=function(n){return Qt.JSON.stringify(n,void 0)},YT.prototype.parse=function(n){return Qt.JSON.parse(n,void 0)},Pr(Ry,jT),Ry.prototype.g=function(){return new jE(this.l,this.j)},Ry.prototype.i=function(n){return function(){return n}}({}),Pr(jE,vr);var QT=0;function IN(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Oy(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ky(n)}function ky(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Tt=jE.prototype).open=function(n,e){if(this.readyState!=QT)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ky(this)},Tt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Qt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Tt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Oy(this)),this.readyState=QT},Tt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ky(this)),this.g&&(this.readyState=3,ky(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Qt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;IN(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},Tt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Oy(this):ky(this),3==this.readyState&&IN(this)}},Tt.Va=function(n){this.g&&(this.response=this.responseText=n,Oy(this))},Tt.Ua=function(n){this.g&&(this.response=n,Oy(this))},Tt.ga=function(){this.g&&Oy(this)},Tt.setRequestHeader=function(n,e){this.v.append(n,e)},Tt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Tt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(jE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var uH=Qt.JSON.parse;function Ii(n){vr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=xN,this.K=this.L=!1}Pr(Ii,vr);var xN="",dH=/^https?$/i,hH=["POST","PUT"];function SN(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,TN(n),HE(n)}function TN(n){n.D||(n.D=!0,Nr(n,"complete"),Nr(n,"error"))}function AN(n){if(n.h&&typeof _T<"u"&&(!n.C[1]||4!=dc(n)||2!=n.aa()))if(n.v&&4==dc(n))UT(n.Ha,0,n);else if(Nr(n,"readystatechange"),4==dc(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===f){var r=String(n.H).match(pN)[1]||null;if(!r&&Qt.self&&Qt.self.location){var a=Qt.self.location.protocol;r=a.substr(0,a.length-1)}i=!dH.test(r?r.toLowerCase():"")}t=i}if(t)Nr(n,"complete"),Nr(n,"success");else{n.m=6;try{var c=2<dc(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.aa()+"]",TN(n)}}finally{HE(n)}}}function HE(n,e){if(n.g){MN(n);const t=n.g,i=n.C[0]?wE:null;n.g=null,n.C=null,e||Nr(n,"ready");try{t.onreadystatechange=i}catch{}}}function MN(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Qt.clearTimeout(n.A),n.A=null)}function dc(n){return n.g?n.g.readyState:0}function RN(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case xN:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function ON(n){let e="";return ST(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function XT(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=ON(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):fi(n,e,t))}function Py(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function kN(n){this.Ca=0,this.i=[],this.j=new RE,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Py("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Py("baseRetryDelayMs",5e3,n),this.bb=Py("retryDelaySeedMs",1e4,n),this.$a=Py("forwardChannelMaxRetries",2,n),this.ta=Py("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new bN(n&&n.concurrentRequestLimit),this.Fa=new aH,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function JT(n){if(PN(n),3==n.G){var e=n.U++,t=uc(n.F);fi(t,"SID",n.I),fi(t,"RID",e),fi(t,"TYPE","terminate"),Ny(n,t),(e=new Iy(n,n.j,e,void 0)).K=2,e.v=BE(uc(t)),t=!1,Qt.navigator&&Qt.navigator.sendBeacon&&(t=Qt.navigator.sendBeacon(e.v.toString(),"")),!t&&Qt.Image&&((new Image).src=e.v,t=!0),t||(e.g=$N(e.l,null),e.g.da(e.v)),e.F=Date.now(),xy(e)}jN(n)}function $E(n){n.g&&(tA(n),n.g.cancel(),n.g=null)}function PN(n){$E(n),n.u&&(Qt.clearTimeout(n.u),n.u=null),GE(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Qt.clearTimeout(n.m),n.m=null)}function zE(n){wN(n.h)||n.m||(n.m=!0,ZP(n.Ja,n),n.C=0)}function NN(n,e){var t;t=e?e.m:n.U++;const i=uc(n.F);fi(i,"SID",n.I),fi(i,"RID",t),fi(i,"AID",n.T),Ny(n,i),n.o&&n.s&&XT(i,n.o,n.s),t=new Iy(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=FN(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),ZT(n.h,t),qT(t,i,e)}function Ny(n,e){n.ia&&ST(n.ia,function(t,i){fi(e,i,t)}),n.l&&fN({},function(t,i){fi(e,i,t)})}function FN(n,e,t){t=Math.min(n.i.length,t);var i=n.l?Jr(n.l.Ra,n.l,n):null;e:{var r=n.i;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=r[0].h,c.push("ofs="+a)):a=0:c.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let w=r[_].h;const D=r[_].g;if(w-=a,0>w)a=Math.max(0,r[_].h-100),f=!1;else try{lH(D,c,"req"+w+"_")}catch{i&&i(D)}}if(f){i=c.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,i}function LN(n){n.g||n.u||(n.Z=1,ZP(n.Ia,n),n.A=0)}function eA(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Cy(Jr(n.Ia,n),UN(n,n.A)),n.A++,0))}function tA(n){null!=n.B&&(Qt.clearTimeout(n.B),n.B=null)}function VN(n){n.g=new Iy(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=uc(n.sa);fi(e,"RID","rpc"),fi(e,"SID",n.I),fi(e,"CI",n.L?"0":"1"),fi(e,"AID",n.T),fi(e,"TYPE","xmlhttp"),Ny(n,e),n.o&&n.s&&XT(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=BE(uc(e)),t.s=null,t.P=!0,cN(t,n)}function GE(n){null!=n.v&&(Qt.clearTimeout(n.v),n.v=null)}function BN(n,e){var t=null;if(n.g==e){GE(n),tA(n),n.g=null;var i=2}else{if(!KT(n.h,e))return;t=e.D,CN(n.h,e),i=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;Nr(i=OE(),new rN(i,t)),zE(n)}else LN(n);else if(3==(r=e.o)||0==r&&0<n.pa||!(1==i&&function pH(n,e){return!(EN(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Cy(Jr(n.Ja,n,e),UN(n,n.C)),n.C++,0)))}(n,e)||2==i&&eA(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:ef(n,5);break;case 4:ef(n,10);break;case 3:ef(n,6);break;default:ef(n,2)}}function UN(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function ef(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=Jr(n.kb,n);t||(t=new Jh("//www.google.com/images/cleardot.gif"),Qt.location&&"http"==Qt.location.protocol||LE(t,"https"),BE(t)),function cH(n,e){const t=new RE;if(Qt.Image){const i=new Image;i.onload=CE(UE,t,i,"TestLoadImage: loaded",!0,e),i.onerror=CE(UE,t,i,"TestLoadImage: error",!1,e),i.onabort=CE(UE,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=CE(UE,t,i,"TestLoadImage: timeout",!1,e),Qt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else yo(2);n.G=0,n.l&&n.l.va(e),jN(n),PN(n)}function jN(n){if(n.G=0,n.la=[],n.l){const e=DN(n.h);(0!=e.length||0!=n.i.length)&&(PP(n.la,e),PP(n.la,n.i),n.h.i.length=0,vT(n.i),n.i.length=0),n.l.ua()}}function HN(n,e,t){var i=t instanceof Jh?uc(t):new Jh(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),VE(i,i.m);else{var r=Qt.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var a=new Jh(null,void 0);i&&LE(a,i),e&&(a.g=e),r&&VE(a,r),t&&(a.l=t),i=a}return e=n.za,(t=n.D)&&e&&fi(i,t,e),fi(i,"VER",n.ma),Ny(n,i),i}function $N(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ii(t&&n.Da&&!n.ra?new Ry({jb:!0}):n.ra)).Ka(n.H),e}function zN(){}function qE(){if(Tm&&!(10<=Number(Rj)))throw Error("Environmental error: no available transport.")}function os(n,e){vr.call(this),this.g=new kN(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!DE(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!DE(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Rm(this)}function GN(n){HT.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function qN(){$T.call(this),this.status=1}function Rm(n){this.g=n}(Tt=Ii.prototype).Ka=function(n){this.L=n},Tt.da=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():zT.g(),this.C=function sN(n){return n.h||(n.h=n.i())}(this.u?this.u:zT),this.g.onreadystatechange=Jr(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void SN(this,a)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const a of i.keys())t.set(a,i.get(a))}i=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),r=Qt.FormData&&n instanceof Qt.FormData,!(0<=kP(hH,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,c]of t)this.g.setRequestHeader(a,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{MN(this),0<this.B&&((this.K=function fH(n){return Tm&&function Mj(){return function xj(n){var e=Aj;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=NP(String(xE)).split("."),t=NP("9").split("."),i=Math.max(e.length,t.length);for(let c=0;0==n&&c<i;c++){var r=e[c]||"",a=t[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;n=bT(0==r[1].length?0:parseInt(r[1],10),0==a[1].length?0:parseInt(a[1],10))||bT(0==r[2].length,0==a[2].length)||bT(r[2],a[2]),r=r[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jr(this.qa,this)):this.A=UT(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){SN(this,a)}},Tt.qa=function(){typeof _T<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Nr(this,"timeout"),this.abort(8))},Tt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Nr(this,"complete"),Nr(this,"abort"),HE(this))},Tt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),HE(this,!0)),Ii.X.M.call(this)},Tt.Ha=function(){this.s||(this.F||this.v||this.l?AN(this):this.fb())},Tt.fb=function(){AN(this)},Tt.aa=function(){try{return 2<dc(this)?this.g.status:-1}catch{return-1}},Tt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Tt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),uH(e)}},Tt.Ea=function(){return this.m},Tt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Tt=kN.prototype).ma=8,Tt.G=1,Tt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new Iy(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=UP(a),HP(a,this.S)):a=this.S),null!==this.o||this.N||(r.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=FN(this,r,e),fi(t=uc(this.F),"RID",n),fi(t,"CVER",22),this.D&&fi(t,"X-HTTP-Session-Id",this.D),Ny(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(ON(a)))+"&"+e:this.o&&XT(t,this.o,a)),ZT(this.h,r),this.Ya&&fi(t,"TYPE","init"),this.O?(fi(t,"$req",e),fi(t,"SID","null"),r.Z=!0,qT(r,t,null)):qT(r,t,e),this.G=2}}else 3==this.G&&(n?NN(this,n):0==this.i.length||wN(this.h)||NN(this))},Tt.Ia=function(){if(this.u=null,VN(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Cy(Jr(this.eb,this),n)}},Tt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,yo(10),$E(this),VN(this))},Tt.cb=function(){null!=this.v&&(this.v=null,$E(this),eA(this),yo(19))},Tt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),yo(2)):(this.j.info("Failed to ping google.com"),yo(1))},(Tt=zN.prototype).xa=function(){},Tt.wa=function(){},Tt.va=function(){},Tt.ua=function(){},Tt.Ra=function(){},qE.prototype.g=function(n,e){return new os(n,e)},Pr(os,vr),os.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;yo(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=HN(n,null,n.V),zE(n)},os.prototype.close=function(){JT(this.g)},os.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=FT(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&zE(e)},os.prototype.M=function(){this.g.l=null,delete this.j,JT(this.g),delete this.g,os.X.M.call(this)},Pr(GN,HT),Pr(qN,$T),Pr(Rm,zN),Rm.prototype.xa=function(){Nr(this.g,"a")},Rm.prototype.wa=function(n){Nr(this.g,new GN(n))},Rm.prototype.va=function(n){Nr(this.g,new qN)},Rm.prototype.ua=function(){Nr(this.g,"b")},qE.prototype.createWebChannel=qE.prototype.g,os.prototype.send=os.prototype.u,os.prototype.open=os.prototype.m,os.prototype.close=os.prototype.close,kE.NO_ERROR=0,kE.TIMEOUT=8,kE.HTTP_ERROR=6,oN.COMPLETE="complete",aN.EventType=Dy,Dy.OPEN="a",Dy.CLOSE="b",Dy.ERROR="c",Dy.MESSAGE="d",vr.prototype.listen=vr.prototype.N,Ii.prototype.listenOnce=Ii.prototype.O,Ii.prototype.getLastError=Ii.prototype.Oa,Ii.prototype.getLastErrorCode=Ii.prototype.Ea,Ii.prototype.getStatus=Ii.prototype.aa,Ii.prototype.getResponseJson=Ii.prototype.Sa,Ii.prototype.getResponseText=Ii.prototype.fa,Ii.prototype.send=Ii.prototype.da,Ii.prototype.setWithCredentials=Ii.prototype.Ka;var mH=cc.createWebChannelTransport=function(){return new qE},gH=cc.getStatEventTarget=function(){return OE()},nA=cc.ErrorCode=kE,_H=cc.EventType=oN,yH=cc.Event=Qh,WN=cc.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},vH=cc.FetchXmlHttpFactory=Ry,WE=cc.WebChannel=aN,bH=cc.XhrIo=Ii;const KN="@firebase/firestore";class br{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}br.UNAUTHENTICATED=new br(null),br.GOOGLE_CREDENTIALS=new br("google-credentials-uid"),br.FIRST_PARTY=new br("first-party-uid"),br.MOCK_USER=new br("mock-user");let Om="9.15.0";const Gu=new Hu.Yd("@firebase/firestore");function iA(){return Gu.logLevel}function $e(n,...e){if(Gu.logLevel<=Hu.in.DEBUG){const t=e.map(rA);Gu.debug(`Firestore (${Om}): ${n}`,...t)}}function Fi(n,...e){if(Gu.logLevel<=Hu.in.ERROR){const t=e.map(rA);Gu.error(`Firestore (${Om}): ${n}`,...t)}}function tf(n,...e){if(Gu.logLevel<=Hu.in.WARN){const t=e.map(rA);Gu.warn(`Firestore (${Om}): ${n}`,...t)}}function rA(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function dt(n="Unexpected state"){const e=`FIRESTORE (${Om}) INTERNAL ASSERTION FAILED: `+n;throw Fi(e),new Error(e)}function Ct(n,e){n||dt()}function it(n,e){return n}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends An.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class or{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ZN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(br.UNAUTHENTICATED))}shutdown(){}}class DH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class IH{constructor(e){this.t=e,this.currentUser=br.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const a=w=>this.i!==r?(r=this.i,t(w)):Promise.resolve();let c=new or;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new or,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const w=c;e.enqueueRetryable((0,De.Z)(function*(){yield w.promise,yield a(i.currentUser)}))},_=w=>{$e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):($e("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new or)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?($e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ct("string"==typeof i.accessToken),new ZN(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ct(null===e||"string"==typeof e),new br(e)}}class xH{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r,this.type="FirstParty",this.user=br.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ct(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class SH{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r}getToken(){return Promise.resolve(new xH(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(br.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class YN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TH{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const i=a=>{null!=a.error&&$e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.A;return this.A=a.token,$e("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{$e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?r(a):$e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ct("string"==typeof t.token),this.A=t.token,new YN(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function AH(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class QN{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=AH(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%e.length))}return i}}function Xt(n,e){return n<e?-1:n>e?1:0}function km(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function XN(n){return n+"\0"}class pi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Le(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Le(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Le(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pi.fromMillis(Date.now())}static fromDate(e){return pi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new pi(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Xt(this.nanoseconds,e.nanoseconds):Xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ot{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ot(e)}static min(){return new Ot(new pi(0,0))}static max(){return new Ot(new pi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Fy{constructor(e,t,i){void 0===t?t=0:t>e.length&&dt(),void 0===i?i=e.length-t:i>e.length-t&&dt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Fy.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Fy?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=e.get(r),c=t.get(r);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class En extends Fy{construct(e,t,i){return new En(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Le(pe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new En(t)}static emptyPath(){return new En([])}}const MH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xi extends Fy{construct(e,t,i){return new xi(e,t,i)}static isValidIdentifier(e){return MH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new xi(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(0===i.length)throw new Le(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;r<e.length;){const f=e[r];if("\\"===f){if(r+1===e.length)throw new Le(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Le(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=_,r+=2}else"`"===f?(c=!c,r++):"."!==f||c?(i+=f,r++):(a(),r++)}if(a(),c)throw new Le(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xi(t)}static emptyPath(){return new xi([])}}class et{constructor(e){this.path=e}static fromPath(e){return new et(En.fromString(e))}static fromName(e){return new et(En.fromString(e).popFirst(5))}static empty(){return new et(En.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===En.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return En.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new et(new En(e.slice()))}}class KE{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function oA(n){return n.fields.find(e=>2===e.kind)}function nf(n){return n.fields.filter(e=>2!==e.kind)}KE.UNKNOWN_ID=-1;class ZE{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ly{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ly(0,ss.min())}}function JN(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Ot.fromTimestamp(1e9===i?new pi(t+1,0):new pi(t,i));return new ss(r,et.empty(),e)}function eF(n){return new ss(n.readTime,n.key,-1)}class ss{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ss(Ot.min(),et.empty(),-1)}static max(){return new ss(Ot.max(),et.empty(),-1)}}function sA(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=et.comparator(n.documentKey,e.documentKey),0!==t?t:Xt(n.largestBatchId,e.largestBatchId))}const tF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function qu(n){return aA.apply(this,arguments)}function aA(){return aA=(0,De.Z)(function*(n){if(n.code!==pe.FAILED_PRECONDITION||n.message!==tF)throw n;$e("LocalStore","Unexpectedly lost primary lease")}),aA.apply(this,arguments)}class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.reject(t)}static resolve(e){return new ce((t,i)=>{t(e)})}static reject(e){return new ce((t,i)=>{i(e)})}static waitFor(e){return new ce((t,i)=>{let r=0,a=0,c=!1;e.forEach(f=>{++r,f.next(()=>{++a,c&&a===r&&t()},_=>i(_))}),c=!0,a===r&&t()})}static or(e){let t=ce.resolve(!1);for(const i of e)t=t.next(r=>r?ce.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}static mapArray(e,t){return new ce((i,r)=>{const a=e.length,c=new Array(a);let f=0;for(let _=0;_<a;_++){const w=_;t(e[w]).next(D=>{c[w]=D,++f,f===a&&i(c)},D=>r(D))}})}static doWhile(e,t){return new ce((i,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):i()};a()})}}class YE{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new or,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Vy(e,t.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=lA(i.target.error);this.P.reject(new Vy(e,r))}}static open(e,t,i,r){try{return new YE(t,e.transaction(r,i))}catch(a){throw new Vy(t,a)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||($e("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new PH(t)}}class ya{constructor(e,t,i){this.name=e,this.version=t,this.S=i,12.2===ya.D((0,An.z$)())&&Fi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return $e("SimpleDb","Removing database:",e),rf(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,An.hl)())return!1;if(ya.N())return!0;const e=(0,An.z$)(),t=ya.D(e),i=0<t&&t<10,r=ya.k(e),a=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||a)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(e){var t=this;return(0,De.Z)(function*(){return t.db||($e("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=c=>{i(c.target.result)},a.onblocked=()=>{r(new Vy(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=c=>{const f=c.target.error;r("VersionError"===f.name?new Le(pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Le(pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Vy(e,f))},a.onupgradeneeded=c=>{$e("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.S.$(c.target.result,a.transaction,c.oldVersion,t.version).next(()=>{$e("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var a=this;return(0,De.Z)(function*(){const c="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.F(e);const _=YE.open(a.db,e,c?"readonly":"readwrite",i),w=r(_).next(D=>(_.V(),D)).catch(D=>(_.abort(D),ce.reject(D))).toPromise();return w.catch(()=>{}),yield _.v,w}catch(_){const w=_,D="FirebaseError"!==w.name&&f<3;if($e("SimpleDb","Transaction failed with error:",w.message,"Retrying:",D),a.close(),!D)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class kH{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return rf(this.q.delete())}}class Vy extends Le{constructor(e,t){super(pe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Wu(n){return"IndexedDbTransactionError"===n.name}class PH{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?($e("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):($e("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),rf(i)}add(e){return $e("SimpleDb","ADD",this.store.name,e,e),rf(this.store.add(e))}get(e){return rf(this.store.get(e)).next(t=>(void 0===t&&(t=null),$e("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return $e("SimpleDb","DELETE",this.store.name,e),rf(this.store.delete(e))}count(){return $e("SimpleDb","COUNT",this.store.name),rf(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.H(r,(c,f)=>{a.push(f)}).next(()=>a)}{const r=this.store.getAll(i.range);return new ce((a,c)=>{r.onerror=f=>{c(f.target.error)},r.onsuccess=f=>{a(f.target.result)}})}}J(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new ce((r,a)=>{i.onerror=c=>{a(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}Y(e,t){$e("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.X=!1;const r=this.cursor(i);return this.H(r,(a,c,f)=>f.delete())}Z(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.H(r,t)}tt(e){const t=this.cursor({});return new ce((i,r)=>{t.onerror=a=>{const c=lA(a.target.error);r(c)},t.onsuccess=a=>{const c=a.target.result;c?e(c.primaryKey,c.value).next(f=>{f?c.continue():i()}):i()}})}H(e,t){const i=[];return new ce((r,a)=>{e.onerror=c=>{a(c.target.error)},e.onsuccess=c=>{const f=c.target.result;if(!f)return void r();const _=new kH(f),w=t(f.primaryKey,f.value,_);if(w instanceof ce){const D=w.catch(S=>(_.done(),ce.reject(S)));i.push(D)}_.isDone?r():null===_.G?f.continue():f.continue(_.G)}}).next(()=>ce.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.X?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function rf(n){return new ce((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=lA(i.target.error);t(r)}})}let iF=!1;function lA(n){const e=ya.D((0,An.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Le("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return iF||(iF=!0,setTimeout(()=>{throw i},0)),i}}return n}class NH{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;$e("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,De.Z)(function*(){t.task=null;try{$e("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(i){Wu(i)?$e("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield qu(i)}yield t.nt(6e4)}))}}class FH{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,De.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.it(i,e))})()}it(e,t){const i=new Set;let r=t,a=!0;return ce.doWhile(()=>!0===a&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!i.has(c))return $e("IndexBackiller",`Processing collection: ${c}`),this.rt(e,c,r).next(f=>{r-=f,i.add(c)});a=!1})).next(()=>t-r)}rt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(a=>{const c=a.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.ot(r,a)).next(f=>($e("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>c.size)}))}ot(e,t){let i=e;return t.changes.forEach((r,a)=>{const c=eF(a);sA(c,i)>0&&(i=c)}),new ss(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let as=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>i.writeSequenceNumber(r))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class LH{constructor(e,t,i,r,a,c,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class Ku{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ku("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ku&&e.projectId===this.projectId&&e.database===this.database}}function rF(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function sf(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function oF(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function By(n){return null==n}function Uy(n){return 0===n&&1/n==-1/0}function sF(n){return"number"==typeof n&&Number.isInteger(n)&&!Uy(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class sr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new sr(t)}static fromUint8Array(e){const t=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new sr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sr.EMPTY_BYTE_STRING=new sr("");const BH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zu(n){if(Ct(!!n),"string"==typeof n){let e=0;const t=BH.exec(n);if(Ct(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Si(n.seconds),nanos:Si(n.nanos)}}function Si(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function af(n){return"string"==typeof n?sr.fromBase64String(n):sr.fromUint8Array(n)}function cA(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function aF(n){const e=n.mapValue.fields.__previous_value__;return cA(e)?aF(e):e}function jy(n){const e=Zu(n.mapValue.fields.__local_write_time__.timestampValue);return new pi(e.seconds,e.nanos)}const Yu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},QE={nullValue:"NULL_VALUE"};function lf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?cA(n)?4:dF(n)?9007199254740991:10:dt()}function cl(n,e){if(n===e)return!0;const t=lf(n);if(t!==lf(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return jy(n).isEqual(jy(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=Zu(i.timestampValue),c=Zu(r.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,af(n.bytesValue).isEqual(af(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Si(i.geoPointValue.latitude)===Si(r.geoPointValue.latitude)&&Si(i.geoPointValue.longitude)===Si(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Si(i.integerValue)===Si(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=Si(i.doubleValue),c=Si(r.doubleValue);return a===c?Uy(a)===Uy(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return km(n.arrayValue.values||[],e.arrayValue.values||[],cl);case 10:return function(i,r){const a=i.mapValue.fields||{},c=r.mapValue.fields||{};if(rF(a)!==rF(c))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===c[f]||!cl(a[f],c[f])))return!1;return!0}(n,e);default:return dt()}var r}function Hy(n,e){return void 0!==(n.values||[]).find(t=>cl(t,e))}function Qu(n,e){if(n===e)return 0;const t=lf(n),i=lf(e);if(t!==i)return Xt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Xt(n.booleanValue,e.booleanValue);case 2:return function(r,a){const c=Si(r.integerValue||r.doubleValue),f=Si(a.integerValue||a.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return lF(n.timestampValue,e.timestampValue);case 4:return lF(jy(n),jy(e));case 5:return Xt(n.stringValue,e.stringValue);case 6:return function(r,a){const c=af(r),f=af(a);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(r,a){const c=r.split("/"),f=a.split("/");for(let _=0;_<c.length&&_<f.length;_++){const w=Xt(c[_],f[_]);if(0!==w)return w}return Xt(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,a){const c=Xt(Si(r.latitude),Si(a.latitude));return 0!==c?c:Xt(Si(r.longitude),Si(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,a){const c=r.values||[],f=a.values||[];for(let _=0;_<c.length&&_<f.length;++_){const w=Qu(c[_],f[_]);if(w)return w}return Xt(c.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,a){if(r===Yu.mapValue&&a===Yu.mapValue)return 0;if(r===Yu.mapValue)return 1;if(a===Yu.mapValue)return-1;const c=r.fields||{},f=Object.keys(c),_=a.fields||{},w=Object.keys(_);f.sort(),w.sort();for(let D=0;D<f.length&&D<w.length;++D){const S=Xt(f[D],w[D]);if(0!==S)return S;const N=Qu(c[f[D]],_[w[D]]);if(0!==N)return N}return Xt(f.length,w.length)}(n.mapValue,e.mapValue);default:throw dt()}}function lF(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Xt(n,e);const t=Zu(n),i=Zu(e),r=Xt(t.seconds,i.seconds);return 0!==r?r:Xt(t.nanos,i.nanos)}function Pm(n){return uA(n)}function uA(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Zu(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?af(n.bytesValue).toBase64():"referenceValue"in n?et.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const c of i.values||[])a?a=!1:r+=",",r+=uA(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",c=!0;for(const f of r)c?c=!1:a+=",",a+=`${f}:${uA(i.fields[f])}`;return a+"}"}(n.mapValue):dt();var e}function cf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function dA(n){return!!n&&"integerValue"in n}function $y(n){return!!n&&"arrayValue"in n}function cF(n){return!!n&&"nullValue"in n}function uF(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function XE(n){return!!n&&"mapValue"in n}function zy(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return sf(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=zy(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=zy(n.arrayValue.values[t]);return e}return Object.assign({},n)}function dF(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function UH(n){return"nullValue"in n?QE:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?cf(Ku.empty(),et.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:dt()}function jH(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?cf(Ku.empty(),et.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Yu:dt()}function hF(n,e){const t=Qu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function fF(n,e){const t=Qu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Xu{constructor(e,t){this.position=e,this.inclusive=t}}function pF(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],c=n.position[r];if(i=a.field.isKeyField()?et.comparator(et.fromName(c.referenceValue),t.key):Qu(c,t.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function mF(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!cl(n.position[t],e.position[t]))return!1;return!0}class gF{}class _n extends gF{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new HH(e,t,i):"array-contains"===t?new GH(e,i):"in"===t?new DF(e,i):"not-in"===t?new qH(e,i):"array-contains-any"===t?new WH(e,i):new _n(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new $H(e,i):new zH(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Qu(t,this.value)):null!==t&&lf(this.value)===lf(t)&&this.matchesComparison(Qu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Vn extends gF{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Vn(e,t)}matches(e){return Nm(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Nm(n){return"and"===n.op}function hA(n){return"or"===n.op}function _F(n){return yF(n)&&Nm(n)}function yF(n){for(const e of n.filters)if(e instanceof Vn)return!1;return!0}function vF(n){if(n instanceof _n)return n.field.canonicalString()+n.op.toString()+Pm(n.value);{const e=n.filters.map(t=>vF(t)).join(",");return`${n.op}(${e})`}}function bF(n,e){return n instanceof _n?(t=n,(i=e)instanceof _n&&t.op===i.op&&t.field.isEqual(i.field)&&cl(t.value,i.value)):n instanceof Vn?function(t,i){return i instanceof Vn&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,a,c)=>r&&bF(a,i.filters[c]),!0)}(n,e):void dt();var t,i}function wF(n,e){const t=n.filters.concat(e);return Vn.create(t,n.op)}function EF(n){return n instanceof _n?`${(e=n).field.canonicalString()} ${e.op} ${Pm(e.value)}`:n instanceof Vn?function(e){return e.op.toString()+" {"+e.getFilters().map(EF).join(" ,")+"}"}(n):"Filter";var e}class HH extends _n{constructor(e,t,i){super(e,t,i),this.key=et.fromName(i.referenceValue)}matches(e){const t=et.comparator(e.key,this.key);return this.matchesComparison(t)}}class $H extends _n{constructor(e,t){super(e,"in",t),this.keys=CF(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class zH extends _n{constructor(e,t){super(e,"not-in",t),this.keys=CF(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function CF(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>et.fromName(i.referenceValue))}class GH extends _n{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $y(t)&&Hy(t.arrayValue,this.value)}}class DF extends _n{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Hy(this.value.arrayValue,t)}}class qH extends _n{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Hy(this.value.arrayValue,t)}}class WH extends _n{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$y(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Hy(this.value.arrayValue,i))}}class Fm{constructor(e,t="asc"){this.field=e,this.dir=t}}function KH(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Ti{constructor(e,t){this.comparator=e,this.root=t||Fr.EMPTY}insert(e,t){return new Ti(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Fr.BLACK,null,null))}remove(e){return new Ti(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new JE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new JE(this.root,e,this.comparator,!1)}getReverseIterator(){return new JE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new JE(this.root,e,this.comparator,!0)}}class JE{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fr{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??Fr.RED,this.left=r??Fr.EMPTY,this.right=a??Fr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new Fr(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Fr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Fr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dt();const e=this.left.check();if(e!==this.right.check())throw dt();return e+(this.isRed()?0:1)}}Fr.EMPTY=null,Fr.RED=!0,Fr.BLACK=!1,Fr.EMPTY=new class{constructor(){this.size=0}get key(){throw dt()}get value(){throw dt()}get color(){throw dt()}get left(){throw dt()}get right(){throw dt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Fr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Hn{constructor(e){this.comparator=e,this.data=new Ti(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new IF(this.data.getIterator())}getIteratorFrom(e){return new IF(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Hn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Hn(this.comparator);return t.data=e,t}}class IF{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Lm(n){return n.hasNext()?n.getNext():void 0}class ls{constructor(e){this.fields=e,e.sort(xi.comparator)}static empty(){return new ls([])}unionWith(e){let t=new Hn(xi.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new ls(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return km(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class Lr{constructor(e){this.value=e}static empty(){return new Lr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!XE(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zy(t)}setAll(e){let t=xi.emptyPath(),i={},r=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,i,r),i={},r=[],t=f.popLast()}c?i[f.lastSegment()]=zy(c):r.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());XE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return cl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];XE(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){sf(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new Lr(zy(this.value))}}function xF(n){const e=[];return sf(n.fields,(t,i)=>{const r=new xi([t]);if(XE(i)){const a=xF(i.mapValue).fields;if(0===a.length)e.push(r);else for(const c of a)e.push(r.child(c))}else e.push(r)}),new ls(e)}class oi{constructor(e,t,i,r,a,c,f){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=a,this.data=c,this.documentState=f}static newInvalidDocument(e){return new oi(e,0,Ot.min(),Ot.min(),Ot.min(),Lr.empty(),0)}static newFoundDocument(e,t,i,r){return new oi(e,1,t,Ot.min(),i,r,0)}static newNoDocument(e,t){return new oi(e,2,t,Ot.min(),Ot.min(),Lr.empty(),0)}static newUnknownDocument(e,t){return new oi(e,3,t,Ot.min(),Ot.min(),Lr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ot.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ot.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof oi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new oi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ZH{constructor(e,t=null,i=[],r=[],a=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=c,this.endAt=f,this.ft=null}}function fA(n,e=null,t=[],i=[],r=null,a=null,c=null){return new ZH(n,e,t,i,r,a,c)}function uf(n){const e=it(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>vF(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),By(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Pm(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Pm(i)).join(",")),e.ft=t}return e.ft}function Gy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!KH(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!bF(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!mF(n.startAt,e.startAt)&&mF(n.endAt,e.endAt)}function eC(n){return et.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function tC(n,e){return n.filters.filter(t=>t instanceof _n&&t.field.isEqual(e))}function SF(n,e,t){let i=QE,r=!0;for(const a of tC(n,e)){let c=QE,f=!0;switch(a.op){case"<":case"<=":c=UH(a.value);break;case"==":case"in":case">=":c=a.value;break;case">":c=a.value,f=!1;break;case"!=":case"not-in":c=QE}hF({value:i,inclusive:r},{value:c,inclusive:f})<0&&(i=c,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];hF({value:i,inclusive:r},{value:c,inclusive:t.inclusive})<0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}function TF(n,e,t){let i=Yu,r=!0;for(const a of tC(n,e)){let c=Yu,f=!0;switch(a.op){case">=":case">":c=jH(a.value),f=!1;break;case"==":case"in":case"<=":c=a.value;break;case"<":c=a.value,f=!1;break;case"!=":case"not-in":c=Yu}fF({value:i,inclusive:r},{value:c,inclusive:f})>0&&(i=c,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];fF({value:i,inclusive:r},{value:c,inclusive:t.inclusive})>0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}class hc{constructor(e,t=null,i=[],r=[],a=null,c="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=c,this.startAt=f,this.endAt=_,this.dt=null,this._t=null}}function AF(n,e,t,i,r,a,c,f){return new hc(n,e,t,i,r,a,c,f)}function Vm(n){return new hc(n)}function MF(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function pA(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function nC(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function mA(n){return null!==n.collectionGroup}function df(n){const e=it(n);if(null===e.dt){e.dt=[];const t=nC(e),i=pA(e);if(null!==t&&null===i)t.isKeyField()||e.dt.push(new Fm(t)),e.dt.push(new Fm(xi.keyField(),"asc"));else{let r=!1;for(const a of e.explicitOrderBy)e.dt.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Fm(xi.keyField(),a))}}}return e.dt}function vo(n){const e=it(n);if(!e._t)if("F"===e.limitType)e._t=fA(e.path,e.collectionGroup,df(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of df(e))t.push(new Fm(a.field,"desc"===a.dir?"asc":"desc"));const i=e.endAt?new Xu(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Xu(e.startAt.position,e.startAt.inclusive):null;e._t=fA(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function gA(n,e){e.getFirstInequalityField(),nC(n);const t=n.filters.concat([e]);return new hc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function iC(n,e,t){return new hc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function qy(n,e){return Gy(vo(n),vo(e))&&n.limitType===e.limitType}function RF(n){return`${uf(vo(n))}|lt:${n.limitType}`}function _A(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>EF(i)).join(", ")}]`),By(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Pm(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Pm(i)).join(",")),`Target(${t})`}(vo(n))}; limitType=${n.limitType})`}function yA(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):et.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of df(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,a,c){const f=pF(r,a,c);return r.inclusive?f<=0:f<0}(t.startAt,df(t),i)||t.endAt&&!function(r,a,c){const f=pF(r,a,c);return r.inclusive?f>=0:f>0}(t.endAt,df(t),i)));var t,i}function OF(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function kF(n){return(e,t)=>{let i=!1;for(const r of df(n)){const a=YH(r,e,t);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function YH(n,e,t){const i=n.field.isKeyField()?et.comparator(e.key,t.key):function(r,a,c){const f=a.data.field(r),_=c.data.field(r);return null!==f&&null!==_?Qu(f,_):dt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return dt()}}function PF(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uy(e)?"-0":e}}function NF(n){return{integerValue:""+n}}function FF(n,e){return sF(e)?NF(e):PF(n,e)}class rC{constructor(){this._=void 0}}function QH(n,e,t){return n instanceof Bm?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(a.fields.__previous_value__=r),{mapValue:a}}(t,e):n instanceof hf?VF(n,e):n instanceof ff?BF(n,e):function(i,r){const a=LF(i,r),c=UF(a)+UF(i.gt);return dA(a)&&dA(i.gt)?NF(c):PF(i.yt,c)}(n,e)}function XH(n,e,t){return n instanceof hf?VF(n,e):n instanceof ff?BF(n,e):t}function LF(n,e){return n instanceof Um?dA(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Bm extends rC{}class hf extends rC{constructor(e){super(),this.elements=e}}function VF(n,e){const t=jF(e);for(const i of n.elements)t.some(r=>cl(r,i))||t.push(i);return{arrayValue:{values:t}}}class ff extends rC{constructor(e){super(),this.elements=e}}function BF(n,e){let t=jF(e);for(const i of n.elements)t=t.filter(r=>!cl(r,i));return{arrayValue:{values:t}}}class Um extends rC{constructor(e,t){super(),this.yt=e,this.gt=t}}function UF(n){return Si(n.integerValue||n.doubleValue)}function jF(n){return $y(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Wy{constructor(e,t){this.field=e,this.transform=t}}class e${constructor(e,t){this.version=e,this.transformResults=t}}class mi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new mi}static exists(e){return new mi(void 0,e)}static updateTime(e){return new mi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oC(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class sC{}function HF(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Hm(n.key,mi.none()):new jm(n.key,n.data,mi.none());{const t=n.data,i=Lr.empty();let r=new Hn(xi.comparator);for(let a of e.fields)if(!r.has(a)){let c=t.field(a);null===c&&a.length>1&&(a=a.popLast(),c=t.field(a)),null===c?i.delete(a):i.set(a,c),r=r.add(a)}return new fc(n.key,i,new ls(r.toArray()),mi.none())}}function t$(n,e,t){n instanceof jm?function(i,r,a){const c=i.value.clone(),f=GF(i.fieldTransforms,r,a.transformResults);c.setAll(f),r.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof fc?function(i,r,a){if(!oC(i.precondition,r))return void r.convertToUnknownDocument(a.version);const c=GF(i.fieldTransforms,r,a.transformResults),f=r.data;f.setAll(zF(i)),f.setAll(c),r.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ky(n,e,t,i){return n instanceof jm?function(r,a,c,f){if(!oC(r.precondition,a))return c;const _=r.value.clone(),w=qF(r.fieldTransforms,f,a);return _.setAll(w),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,e,t,i):n instanceof fc?function(r,a,c,f){if(!oC(r.precondition,a))return c;const _=qF(r.fieldTransforms,f,a),w=a.data;return w.setAll(zF(r)),w.setAll(_),a.convertToFoundDocument(a.version,w).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(D=>D.field))}(n,e,t,i):(c=t,oC(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c);var a,c}function n$(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=LF(i.transform,r||null);null!=a&&(null===t&&(t=Lr.empty()),t.set(i.field,a))}return t||null}function $F(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&km(t,i,(r,a)=>function JH(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof hf&&i instanceof hf||t instanceof ff&&i instanceof ff?km(t.elements,i.elements,cl):t instanceof Um&&i instanceof Um?cl(t.gt,i.gt):t instanceof Bm&&i instanceof Bm);var t,i}(r,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class jm extends sC{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class fc extends sC{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function zF(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function GF(n,e,t){const i=new Map;Ct(n.length===t.length);for(let r=0;r<t.length;r++){const a=n[r],c=a.transform,f=e.data.field(a.field);i.set(a.field,XH(c,f,t[r]))}return i}function qF(n,e,t){const i=new Map;for(const r of n){const a=r.transform,c=t.data.field(r.field);i.set(r.field,QH(a,c,e))}return i}class Hm extends sC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vA extends sC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class i${constructor(e){this.count=e}}var Yi,Cn;function WF(n){switch(n){default:return dt();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function KF(n){if(void 0===n)return Fi("GRPC error has no .code"),pe.UNKNOWN;switch(n){case Yi.OK:return pe.OK;case Yi.CANCELLED:return pe.CANCELLED;case Yi.UNKNOWN:return pe.UNKNOWN;case Yi.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case Yi.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case Yi.INTERNAL:return pe.INTERNAL;case Yi.UNAVAILABLE:return pe.UNAVAILABLE;case Yi.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case Yi.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case Yi.NOT_FOUND:return pe.NOT_FOUND;case Yi.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case Yi.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case Yi.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case Yi.ABORTED:return pe.ABORTED;case Yi.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case Yi.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case Yi.DATA_LOSS:return pe.DATA_LOSS;default:return dt()}}(Cn=Yi||(Yi={}))[Cn.OK=0]="OK",Cn[Cn.CANCELLED=1]="CANCELLED",Cn[Cn.UNKNOWN=2]="UNKNOWN",Cn[Cn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Cn[Cn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Cn[Cn.NOT_FOUND=5]="NOT_FOUND",Cn[Cn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Cn[Cn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Cn[Cn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Cn[Cn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Cn[Cn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Cn[Cn.ABORTED=10]="ABORTED",Cn[Cn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Cn[Cn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Cn[Cn.INTERNAL=13]="INTERNAL",Cn[Cn.UNAVAILABLE=14]="UNAVAILABLE",Cn[Cn.DATA_LOSS=15]="DATA_LOSS";class Ju{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){sf(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return oF(this.inner)}size(){return this.innerSize}}const r$=new Ti(et.comparator);function jo(){return r$}const ZF=new Ti(et.comparator);function Zy(...n){let e=ZF;for(const t of n)e=e.insert(t.key,t);return e}function YF(n){let e=ZF;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ul(){return Yy()}function QF(){return Yy()}function Yy(){return new Ju(n=>n.toString(),(n,e)=>n.isEqual(e))}const o$=new Ti(et.comparator),s$=new Hn(et.comparator);function rn(...n){let e=s$;for(const t of n)e=e.add(t);return e}const a$=new Hn(Xt);function aC(){return a$}class Qy{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Xy.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Qy(Ot.min(),r,aC(),jo(),rn())}}class Xy{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Xy(i,t,rn(),rn(),rn())}}class lC{constructor(e,t,i,r){this.It=e,this.removedTargetIds=t,this.key=i,this.Tt=r}}class XF{constructor(e,t){this.targetId=e,this.Et=t}}class JF{constructor(e,t,i=sr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class eL{constructor(){this.At=0,this.Rt=nL(),this.bt=sr.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=rn(),t=rn(),i=rn();return this.Rt.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:dt()}}),new Xy(this.bt,this.Pt,e,t,i)}xt(){this.vt=!1,this.Rt=nL()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class l${constructor(e){this.$t=e,this.Bt=new Map,this.Lt=jo(),this.qt=tL(),this.Ut=new Hn(Xt)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const i=this.Wt(t);switch(e.state){case 0:this.zt(t)&&i.Dt(e.resumeToken);break;case 1:i.Mt(),i.Vt||i.xt(),i.Dt(e.resumeToken);break;case 2:i.Mt(),i.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(i.Ft(),i.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),i.Dt(e.resumeToken));break;default:dt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((i,r)=>{this.zt(r)&&t(r)})}Jt(e){const t=e.targetId,i=e.Et.count,r=this.Yt(t);if(r){const a=r.target;if(eC(a))if(0===i){const c=new et(a.path);this.Qt(t,c,oi.newNoDocument(c,Ot.min()))}else Ct(1===i);else this.Xt(t)!==i&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((a,c)=>{const f=this.Yt(c);if(f){if(a.current&&eC(f.target)){const _=new et(f.target.path);null!==this.Lt.get(_)||this.te(c,_)||this.Qt(c,_,oi.newNoDocument(_,e))}a.St&&(t.set(c,a.Ct()),a.xt())}});let i=rn();this.qt.forEach((a,c)=>{let f=!0;c.forEachWhile(_=>{const w=this.Yt(_);return!w||2===w.purpose||(f=!1,!1)}),f&&(i=i.add(a))}),this.Lt.forEach((a,c)=>c.setReadTime(e));const r=new Qy(e,t,this.Ut,this.Lt,i);return this.Lt=jo(),this.qt=tL(),this.Ut=new Hn(Xt),r}Gt(e,t){if(!this.zt(e))return;const i=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,i),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,i){if(!this.zt(e))return;const r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),i&&(this.Lt=this.Lt.insert(t,i))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new eL,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new Hn(Xt),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||$e("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new eL),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function tL(){return new Ti(et.comparator)}function nL(){return new Ti(et.comparator)}const c$={asc:"ASCENDING",desc:"DESCENDING"},u$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},d$={and:"AND",or:"OR"};class h${constructor(e,t){this.databaseId=e,this.wt=t}}function $m(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iL(n,e){return n.wt?e.toBase64():e.toUint8Array()}function f$(n,e){return $m(n,e.toTimestamp())}function Li(n){return Ct(!!n),Ot.fromTimestamp(function(e){const t=Zu(e);return new pi(t.seconds,t.nanos)}(n))}function bA(n,e){return(t=n,new En(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function rL(n){const e=En.fromString(n);return Ct(fL(e)),e}function Jy(n,e){return bA(n.databaseId,e.path)}function dl(n,e){const t=rL(e);if(t.get(1)!==n.databaseId.projectId)throw new Le(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Le(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new et(sL(t))}function wA(n,e){return bA(n.databaseId,e)}function oL(n){const e=rL(n);return 4===e.length?En.emptyPath():sL(e)}function ev(n){return new En(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function sL(n){return Ct(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function aL(n,e,t){return{name:Jy(n,e),fields:t.value.mapValue.fields}}function lL(n,e,t){const i=dl(n,e.name),r=Li(e.updateTime),a=e.createTime?Li(e.createTime):Ot.min(),c=new Lr({mapValue:{fields:e.fields}}),f=oi.newFoundDocument(i,r,a,c);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function tv(n,e){let t;if(e instanceof jm)t={update:aL(n,e.key,e.value)};else if(e instanceof Hm)t={delete:Jy(n,e.key)};else if(e instanceof fc)t={update:aL(n,e.key,e.data),updateMask:w$(e.fieldMask)};else{if(!(e instanceof vA))return dt();t={verify:Jy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const c=a.transform;if(c instanceof Bm)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof hf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ff)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Um)return{fieldPath:a.field.canonicalString(),increment:c.gt};throw dt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:f$(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:dt()),t;var r}function EA(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?mi.updateTime(Li(r.updateTime)):void 0!==r.exists?mi.exists(r.exists):mi.none():mi.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(a,c){let f=null;"setToServerValue"in c?(Ct("REQUEST_TIME"===c.setToServerValue),f=new Bm):"appendMissingElements"in c?f=new hf(c.appendMissingElements.values||[]):"removeAllFromArray"in c?f=new ff(c.removeAllFromArray.values||[]):"increment"in c?f=new Um(a,c.increment):dt();const _=xi.fromServerFormat(c.fieldPath);return new Wy(_,f)}(n,r)):[];var r;if(e.update){const r=dl(n,e.update.name),a=new Lr({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new ls((e.updateMask.fieldPaths||[]).map(w=>xi.fromServerFormat(w)));return new fc(r,a,c,t,i)}return new jm(r,a,t,i)}if(e.delete){const r=dl(n,e.delete);return new Hm(r,t)}if(e.verify){const r=dl(n,e.verify);return new vA(r,t)}return dt()}function cL(n,e){return{documents:[wA(n,e.path)]}}function CA(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=wA(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=wA(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0!==_.length)return hL(Vn.create(_,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const a=function(_){if(0!==_.length)return _.map(w=>{return{field:zm((D=w).field),direction:y$(D.dir)};var D})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=(w=e.limit,n.wt||By(w)?w:{value:w});var w,f,_;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function uL(n){let e=oL(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Ct(1===i);const D=t.from[0];D.allDescendants?r=D.collectionId:e=e.child(D.collectionId)}let a=[];t.where&&(a=function(D){const S=dL(D);return S instanceof Vn&&_F(S)?S.getFilters():[S]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(D=>{return new Fm(Gm((S=D).field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let f=null;t.limit&&(f=function(D){let S;return S="object"==typeof D?D.value:D,By(S)?null:S}(t.limit));let _=null;var D;t.startAt&&(_=new Xu((D=t.startAt).values||[],!!D.before));let w=null;return t.endAt&&(w=function(D){return new Xu(D.values||[],!D.before)}(t.endAt)),AF(e,r,c,a,f,"F",_,w)}function dL(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Gm(e.unaryFilter.field);return _n.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Gm(e.unaryFilter.field);return _n.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Gm(e.unaryFilter.field);return _n.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Gm(e.unaryFilter.field);return _n.create(a,"!=",{nullValue:"NULL_VALUE"});default:return dt()}}(n):void 0!==n.fieldFilter?_n.create(Gm((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Vn.create(e.compositeFilter.filters.map(t=>dL(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return dt()}}(e.compositeFilter.op))}(n):dt();var e}function y$(n){return c$[n]}function v$(n){return u$[n]}function b$(n){return d$[n]}function zm(n){return{fieldPath:n.canonicalString()}}function Gm(n){return xi.fromServerFormat(n.fieldPath)}function hL(n){return n instanceof _n?function(e){if("=="===e.op){if(uF(e.value))return{unaryFilter:{field:zm(e.field),op:"IS_NAN"}};if(cF(e.value))return{unaryFilter:{field:zm(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(uF(e.value))return{unaryFilter:{field:zm(e.field),op:"IS_NOT_NAN"}};if(cF(e.value))return{unaryFilter:{field:zm(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zm(e.field),op:v$(e.op),value:e.value}}}(n):n instanceof Vn?function(e){const t=e.getFilters().map(i=>hL(i));return 1===t.length?t[0]:{compositeFilter:{op:b$(e.op),filters:t}}}(n):dt()}function w$(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function fL(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function bo(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=pL(e)),e=E$(n.get(t),e);return pL(e)}function E$(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function pL(n){return n+"\x01\x01"}function hl(n){const e=n.length;if(Ct(e>=2),2===e)return Ct("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),En.emptyPath();const t=e-2,i=[];let r="";for(let a=0;a<e;){const c=n.indexOf("\x01",a);switch((c<0||c>t)&&dt(),n.charAt(c+1)){case"\x01":const f=n.substring(a,c);let _;0===r.length?_=f:(r+=f,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(a,c),r+="\0";break;case"\x11":r+=n.substring(a,c+1);break;default:dt()}a=c+2}return new En(i)}const mL=["userId","batchId"];function cC(n,e){return[n,bo(e)]}function gL(n,e,t){return[n,bo(e),t]}const C$={},D$=["prefixPath","collectionGroup","readTime","documentId"],I$=["prefixPath","collectionGroup","documentId"],x$=["collectionGroup","readTime","prefixPath","documentId"],S$=["canonicalId","targetId"],T$=["targetId","path"],A$=["path","targetId"],M$=["collectionId","parent"],R$=["indexId","uid"],O$=["uid","sequenceNumber"],k$=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],P$=["indexId","uid","orderedDocumentKey"],N$=["userId","collectionPath","documentId"],F$=["userId","collectionPath","largestBatchId"],L$=["userId","collectionGroup","largestBatchId"],_L=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],V$=[..._L,"documentOverlays"],yL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],vL=yL,B$=[...vL,"indexConfiguration","indexState","indexEntries"];class DA extends nF{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function wr(n,e){const t=it(n);return ya.M(t.se,e)}class IA{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&t$(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ky(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ky(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=QF();return this.mutations.forEach(r=>{const a=e.get(r.key),c=a.overlayedDocument;let f=this.applyToLocalView(c,a.mutatedFields);f=t.has(r.key)?null:f;const _=HF(c,f);null!==_&&i.set(r.key,_),c.isValidDocument()||c.convertToNoDocument(Ot.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),rn())}isEqual(e){return this.batchId===e.batchId&&km(this.mutations,e.mutations,(t,i)=>$F(t,i))&&km(this.baseMutations,e.baseMutations,(t,i)=>$F(t,i))}}class xA{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Ct(e.mutations.length===i.length);let r=o$;const a=e.mutations;for(let c=0;c<a.length;c++)r=r.insert(a[c].key,i[c].version);return new xA(e,t,i,r)}}class SA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ed{constructor(e,t,i,r,a=Ot.min(),c=Ot.min(),f=sr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f}withSequenceNumber(e){return new ed(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new ed(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ed(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class bL{constructor(e){this.ie=e}}function wL(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:uC(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Jy(r=n.ie,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:$m(r,a.version.toTimestamp()),createTime:$m(r,a.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:pf(e.version)};else{if(!e.isUnknownDocument())return dt();i.unknownDocument={path:t.path.toArray(),version:pf(e.version)}}var r,a;return i}function uC(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function pf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function mf(n){const e=new pi(n.seconds,n.nanoseconds);return Ot.fromTimestamp(e)}function gf(n,e){const t=(e.baseMutations||[]).map(a=>EA(n.ie,a));for(let a=0;a<e.mutations.length-1;++a){const c=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(c.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const i=e.mutations.map(a=>EA(n.ie,a)),r=pi.fromMillis(e.localWriteTimeMs);return new IA(e.batchId,r,t,i)}function nv(n){const e=mf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?mf(n.lastLimboFreeSnapshotVersion):Ot.min();let i;var r;return void 0!==n.query.documents?(Ct(1===(r=n.query).documents.length),i=vo(Vm(oL(r.documents[0])))):i=vo(uL(n.query)),new ed(i,n.targetId,0,n.lastListenSequenceNumber,e,t,sr.fromBase64String(n.resumeToken))}function EL(n,e){const t=pf(e.snapshotVersion),i=pf(e.lastLimboFreeSnapshotVersion);let r;r=eC(e.target)?cL(n.ie,e.target):CA(n.ie,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:uf(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function TA(n){const e=uL({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?iC(e,e.limit,"L"):e}function AA(n,e){return new SA(e.largestBatchId,EA(n.ie,e.overlayMutation))}function CL(n,e){const t=e.path.lastSegment();return[n,bo(e.path.popLast()),t]}function DL(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:pf(i.readTime),documentKey:bo(i.documentKey.path),largestBatchId:i.largestBatchId}}class j${getBundleMetadata(e,t){return IL(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:mf(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return IL(e).put({bundleId:(i=t).id,createTime:pf(Li(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return xL(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:TA(r.bundledQuery),readTime:mf(r.readTime)};var r})}saveNamedQuery(e,t){return xL(e).put({name:(i=t).name,readTime:pf(Li(i.readTime)),bundledQuery:i.bundledQuery});var i}}function IL(n){return wr(n,"bundles")}function xL(n){return wr(n,"namedQueries")}class dC{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new dC(e,t.uid||"")}getOverlay(e,t){return iv(e).get(CL(this.userId,t)).next(i=>i?AA(this.yt,i):null)}getOverlays(e,t){const i=ul();return ce.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((a,c)=>{const f=new SA(t,c);r.push(this.oe(e,f))}),ce.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(c=>r.add(bo(c.getCollectionPath())));const a=[];return r.forEach(c=>{const f=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);a.push(iv(e).Y("collectionPathOverlayIndex",f))}),ce.waitFor(a)}getOverlaysForCollection(e,t,i){const r=ul(),a=bo(t),c=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return iv(e).W("collectionPathOverlayIndex",c).next(f=>{for(const _ of f){const w=AA(this.yt,_);r.set(w.getKey(),w)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const a=ul();let c;const f=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return iv(e).Z({index:"collectionGroupOverlayIndex",range:f},(_,w,D)=>{const S=AA(this.yt,w);a.size()<r||S.largestBatchId===c?(a.set(S.getKey(),S),c=S.largestBatchId):D.done()}).next(()=>a)}oe(e,t){return iv(e).put(function(i,r,a){const[c,f,_]=CL(r,a.mutation.key);return{userId:r,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:tv(i.ie,a.mutation)}}(this.yt,this.userId,t))}}function iv(n){return wr(n,"documentOverlays")}class _f{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(Si(e.integerValue));else if("doubleValue"in e){const i=Si(e.doubleValue);isNaN(i)?this.he(t,13):(this.he(t,15),Uy(i)?t.le(0):t.le(i))}else if("timestampValue"in e){const i=e.timestampValue;this.he(t,20),"string"==typeof i?t.fe(i):(t.fe(`${i.seconds||""}`),t.le(i.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(af(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.he(t,45),t.le(i.latitude||0),t.le(i.longitude||0)}else"mapValue"in e?dF(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):dt()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const i=e.fields||{};this.he(t,55);for(const r of Object.keys(i))this.de(r,t),this.ce(i[r],t)}ye(e,t){const i=e.values||[];this.he(t,50);for(const r of i)this.ce(r,t)}me(e,t){this.he(t,37),et.fromName(e).path.forEach(i=>{this.he(t,60),this.pe(i,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function H$(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function SL(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const a=H$(255&t[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(e/8)}_f.Ie=new _f;class $${constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ee(i.value),i=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.be(i.value),i=t.next();this.Pe()}ve(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{const r=t.codePointAt(0);this.Ee(240|r>>>18),this.Ee(128|63&r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r)}}this.Ae()}Ve(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{const r=t.codePointAt(0);this.be(240|r>>>18),this.be(128|63&r>>>12),this.be(128|63&r>>>6),this.be(128|63&r)}}this.Pe()}Se(e){const t=this.De(e),i=SL(t);this.Ce(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}xe(e){const t=this.De(e),i=SL(t);this.Ce(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class z${constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class G${constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class rv{constructor(){this.$e=new $$,this.Be=new z$(this.$e),this.Le=new G$(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class yf{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new yf(this.indexId,this.documentKey,this.arrayValue,i)}}function td(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=TL(n.arrayValue,e.arrayValue),0!==t?t:(t=TL(n.directionalValue,e.directionalValue),0!==t?t:et.comparator(n.documentKey,e.documentKey)))}function TL(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class q${constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const i=t;i.isInequality()?this.Qe=i:this.Ge.push(i)}}je(e){Ct(e.collectionGroup===this.collectionId);const t=oA(e);if(void 0!==t&&!this.We(t))return!1;const i=nf(e);let r=0,a=0;for(;r<i.length&&this.We(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Qe){const c=i[r];if(!this.ze(this.Qe,c)||!this.He(this.Ke[a++],c))return!1;++r}for(;r<i.length;++r){const c=i[r];if(a>=this.Ke.length||!this.He(this.Ke[a++],c))return!1}return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function AL(n){var e,t;if(Ct(n instanceof _n||n instanceof Vn),n instanceof _n){if(n instanceof DF){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>_n.create(n.field,"==",a)))||[];return Vn.create(r,"or")}return n}const i=n.filters.map(r=>AL(r));return Vn.create(i,n.op)}function W$(n){if(0===n.getFilters().length)return[];const e=OA(AL(n));return Ct(ML(e)),MA(e)||RA(e)?[e]:e.getFilters()}function MA(n){return n instanceof _n}function RA(n){return n instanceof Vn&&_F(n)}function ML(n){return MA(n)||RA(n)||function(e){if(e instanceof Vn&&hA(e)){for(const t of e.getFilters())if(!MA(t)&&!RA(t))return!1;return!0}return!1}(n)}function OA(n){if(Ct(n instanceof _n||n instanceof Vn),n instanceof _n)return n;if(1===n.filters.length)return OA(n.filters[0]);const e=n.filters.map(i=>OA(i));let t=Vn.create(e,n.op);return t=hC(t),ML(t)?t:(Ct(t instanceof Vn),Ct(Nm(t)),Ct(t.filters.length>1),t.filters.reduce((i,r)=>kA(i,r)))}function kA(n,e){let t;return Ct(n instanceof _n||n instanceof Vn),Ct(e instanceof _n||e instanceof Vn),t=n instanceof _n?e instanceof _n?Vn.create([n,e],"and"):RL(n,e):e instanceof _n?RL(e,n):function(i,r){if(Ct(i.filters.length>0&&r.filters.length>0),Nm(i)&&Nm(r))return wF(i,r.getFilters());const a=hA(i)?i:r,c=hA(i)?r:i,f=a.filters.map(_=>kA(_,c));return Vn.create(f,"or")}(n,e),hC(t)}function RL(n,e){if(Nm(e))return wF(e,n.getFilters());{const t=e.filters.map(i=>kA(n,i));return Vn.create(t,"or")}}function hC(n){if(Ct(n instanceof _n||n instanceof Vn),n instanceof _n)return n;const e=n.getFilters();if(1===e.length)return hC(e[0]);if(yF(n))return n;const t=e.map(r=>hC(r)),i=[];return t.forEach(r=>{r instanceof _n?i.push(r):r instanceof Vn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Vn.create(i,n.op)}class K${constructor(){this.Je=new PA}addToCollectionParentIndex(e,t){return this.Je.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(ss.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(ss.min())}updateCollectionGroup(e,t,i){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class PA{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Hn(En.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Hn(En.comparator)).toArray()}}const fC=new Uint8Array(0);class Z${constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new PA,this.Xe=new Ju(i=>uf(i),(i,r)=>Gy(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const a={collectionId:i,parent:bo(r)};return OL(e).put(a)}return ce.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[XN(t),""],!1,!0);return OL(e).W(r).next(a=>{for(const c of a){if(c.collectionId!==t)break;i.push(hl(c.parent))}return i})}addFieldIndex(e,t){const i=pC(e),r={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var c;delete r.indexId;const a=i.add(r);if(t.indexState){const c=sv(e);return a.next(f=>{c.put(DL(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const i=pC(e),r=sv(e),a=ov(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=ov(e);let r=!0;const a=new Map;return ce.forEach(this.Ze(t),c=>this.tn(e,c).next(f=>{r&&(r=!!f),a.set(c,f)})).next(()=>{if(r){let c=rn();const f=[];return ce.forEach(a,(_,w)=>{var D;$e("IndexedDbIndexManager",`Using index ${D=_,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(bt=>`${bt.fieldPath}:${bt.kind}`).join(",")}`} to execute ${uf(t)}`);const S=function(bt,yt){const Vt=oA(yt);if(void 0===Vt)return null;for(const $t of tC(bt,Vt.fieldPath))switch($t.op){case"array-contains-any":return $t.value.arrayValue.values||[];case"array-contains":return[$t.value]}return null}(w,_),N=function(bt,yt){const Vt=new Map;for(const $t of nf(yt))for(const vn of tC(bt,$t.fieldPath))switch(vn.op){case"==":case"in":Vt.set($t.fieldPath.canonicalString(),vn.value);break;case"not-in":case"!=":return Vt.set($t.fieldPath.canonicalString(),vn.value),Array.from(Vt.values())}return null}(w,_),U=function(bt,yt){const Vt=[];let $t=!0;for(const vn of nf(yt)){const Do=0===vn.kind?SF(bt,vn.fieldPath,bt.startAt):TF(bt,vn.fieldPath,bt.startAt);Vt.push(Do.value),$t&&($t=Do.inclusive)}return new Xu(Vt,$t)}(w,_),$=function(bt,yt){const Vt=[];let $t=!0;for(const vn of nf(yt)){const Do=0===vn.kind?TF(bt,vn.fieldPath,bt.endAt):SF(bt,vn.fieldPath,bt.endAt);Vt.push(Do.value),$t&&($t=Do.inclusive)}return new Xu(Vt,$t)}(w,_),ee=this.en(_,w,U),de=this.en(_,w,$),Qe=this.nn(_,w,N),at=this.sn(_.indexId,S,ee,U.inclusive,de,$.inclusive,Qe);return ce.forEach(at,bt=>i.J(bt,t.limit).next(yt=>{yt.forEach(Vt=>{const $t=et.fromSegments(Vt.documentKey);c.has($t)||(c=c.add($t),f.push($t))})}))}).next(()=>f)}return ce.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:W$(Vn.create(e.filters,"and")).map(i=>fA(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,i,r,a,c,f){const _=(null!=t?t.length:1)*Math.max(i.length,a.length),w=_/(null!=t?t.length:1),D=[];for(let S=0;S<_;++S){const N=t?this.rn(t[S/w]):fC,U=this.on(e,N,i[S%w],r),$=this.un(e,N,a[S%w],c),ee=f.map(de=>this.on(e,N,de,!0));D.push(...this.createRange(U,$,ee))}return D}on(e,t,i,r){const a=new yf(e,et.empty(),t,i);return r?a:a.Ue()}un(e,t,i,r){const a=new yf(e,et.empty(),t,i);return r?a.Ue():a}tn(e,t){const i=new q$(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(a=>{let c=null;for(const f of a)i.je(f)&&(!c||f.fields.length>c.fields.length)&&(c=f);return c})}getIndexType(e,t){let i=2;const r=this.Ze(t);return ce.forEach(r,a=>this.tn(e,a).next(c=>{c?0!==i&&c.fields.length<function(f){let _=new Hn(xi.comparator),w=!1;for(const D of f.filters)for(const S of D.getFlattenedFilters())S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?w=!0:_=_.add(S.field));for(const D of f.orderBy)D.field.isKeyField()||(_=_.add(D.field));return _.size+(w?1:0)}(a)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}cn(e,t){const i=new rv;for(const r of nf(e)){const a=t.data.field(r.fieldPath);if(null==a)return null;const c=i.qe(r.kind);_f.Ie.ue(a,c)}return i.Fe()}rn(e){const t=new rv;return _f.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const i=new rv;return _f.Ie.ue(cf(this.databaseId,t),i.qe(function(r){const a=nf(r);return 0===a.length?0:a[a.length-1].kind}(e))),i.Fe()}nn(e,t,i){if(null===i)return[];let r=[];r.push(new rv);let a=0;for(const c of nf(e)){const f=i[a++];for(const _ of r)if(this.hn(t,c.fieldPath)&&$y(f))r=this.ln(r,c,f);else{const w=_.qe(c.kind);_f.Ie.ue(f,w)}}return this.fn(r)}en(e,t,i){return this.nn(e,t,i.position)}fn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Fe();return t}ln(e,t,i){const r=[...e],a=[];for(const c of i.arrayValue.values||[])for(const f of r){const _=new rv;_.seed(f.Fe()),_f.Ie.ue(c,_.qe(t.kind)),a.push(_)}return a}hn(e,t){return!!e.filters.find(i=>i instanceof _n&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=pC(e),r=sv(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(a=>{const c=[];return ce.forEach(a,f=>r.get([f.indexId,this.uid]).next(_=>{c.push(function(w,D){const S=D?new Ly(D.sequenceNumber,new ss(mf(D.readTime),new et(hl(D.documentKey)),D.largestBatchId)):Ly.empty(),N=w.fields.map(([U,$])=>new ZE(xi.fromServerFormat(U),$));return new KE(w.indexId,w.collectionGroup,N,S)}(f,_))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:Xt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=pC(e),a=sv(e);return this.dn(e).next(c=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>ce.forEach(f,_=>a.put(DL(_.indexId,this.user,c,i)))))}updateIndexEntries(e,t){const i=new Map;return ce.forEach(t,(r,a)=>{const c=i.get(r.collectionGroup);return(c?ce.resolve(c):this.getFieldIndexes(e,r.collectionGroup)).next(f=>(i.set(r.collectionGroup,f),ce.forEach(f,_=>this._n(e,r,_).next(w=>{const D=this.wn(a,_);return w.isEqual(D)?ce.resolve():this.mn(e,a,_,w,D)}))))})}gn(e,t,i,r){return ov(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(i,t.key),documentKey:t.key.path.toArray()})}yn(e,t,i,r){return ov(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(i,t.key),t.key.path.toArray()])}_n(e,t,i){const r=ov(e);let a=new Hn(td);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.an(i,t)])},(c,f)=>{a=a.add(new yf(i.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}wn(e,t){let i=new Hn(td);const r=this.cn(t,e);if(null==r)return i;const a=oA(t);if(null!=a){const c=e.data.field(a.fieldPath);if($y(c))for(const f of c.arrayValue.values||[])i=i.add(new yf(t.indexId,e.key,this.rn(f),r))}else i=i.add(new yf(t.indexId,e.key,fC,r));return i}mn(e,t,i,r,a){$e("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(f,_,w,D,S){const N=f.getIterator(),U=_.getIterator();let $=Lm(N),ee=Lm(U);for(;$||ee;){let de=!1,Qe=!1;if($&&ee){const at=w($,ee);at<0?Qe=!0:at>0&&(de=!0)}else null!=$?Qe=!0:de=!0;de?(D(ee),ee=Lm(U)):Qe?(S($),$=Lm(N)):($=Lm(N),ee=Lm(U))}}(r,a,td,f=>{c.push(this.gn(e,t,i,f))},f=>{c.push(this.yn(e,t,i,f))}),ce.waitFor(c)}dn(e){let t=1;return sv(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((c,f)=>td(c,f)).filter((c,f,_)=>!f||0!==td(c,_[f-1]));const r=[];r.push(e);for(const c of i){const f=td(c,e),_=td(c,t);if(0===f)r[0]=e.Ue();else if(f>0&&_<0)r.push(c),r.push(c.Ue());else if(_>0)break}r.push(t);const a=[];for(let c=0;c<r.length;c+=2){if(this.pn(r[c],r[c+1]))return[];a.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,fC,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,fC,[]]))}return a}pn(e,t){return td(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(kL)}getMinOffset(e,t){return ce.mapArray(this.Ze(t),i=>this.tn(e,i).next(r=>r||dt())).next(kL)}}function OL(n){return wr(n,"collectionParents")}function ov(n){return wr(n,"indexEntries")}function pC(n){return wr(n,"indexConfiguration")}function sv(n){return wr(n,"indexState")}function kL(n){Ct(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;sA(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new ss(e.readTime,e.documentKey,t)}const PL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ho{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Ho(e,Ho.DEFAULT_COLLECTION_PERCENTILE,Ho.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function NL(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],c=IDBKeyRange.only(t.batchId);let f=0;const _=i.Z({range:c},(D,S,N)=>(f++,N.delete()));a.push(_.next(()=>{Ct(1===f)}));const w=[];for(const D of t.mutations){const S=gL(e,D.key.path,t.batchId);a.push(r.delete(S)),w.push(D.key)}return ce.waitFor(a).next(()=>w)}function mC(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw dt();e=n.noDocument}return JSON.stringify(e).length}Ho.DEFAULT_COLLECTION_PERCENTILE=10,Ho.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ho.DEFAULT=new Ho(41943040,Ho.DEFAULT_COLLECTION_PERCENTILE,Ho.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ho.DISABLED=new Ho(-1,0,0);class gC{constructor(e,t,i,r){this.userId=e,this.yt=t,this.indexManager=i,this.referenceDelegate=r,this.In={}}static re(e,t,i,r){Ct(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new gC(a,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return nd(e).Z({index:"userMutationsIndex",range:i},(r,a,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const a=qm(e),c=nd(e);return c.add({}).next(f=>{Ct("number"==typeof f);const _=new IA(f,t,i,r),w=function(N,U,$){const ee=$.baseMutations.map(Qe=>tv(N.ie,Qe)),de=$.mutations.map(Qe=>tv(N.ie,Qe));return{userId:U,batchId:$.batchId,localWriteTimeMs:$.localWriteTime.toMillis(),baseMutations:ee,mutations:de}}(this.yt,this.userId,_),D=[];let S=new Hn((N,U)=>Xt(N.canonicalString(),U.canonicalString()));for(const N of r){const U=gL(this.userId,N.key.path,f);S=S.add(N.key.path.popLast()),D.push(c.put(w)),D.push(a.put(U,C$))}return S.forEach(N=>{D.push(this.indexManager.addToCollectionParentIndex(e,N))}),e.addOnCommittedListener(()=>{this.In[f]=_.keys()}),ce.waitFor(D).next(()=>_)})}lookupMutationBatch(e,t){return nd(e).get(t).next(i=>i?(Ct(i.userId===this.userId),gf(this.yt,i)):null)}Tn(e,t){return this.In[t]?ce.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.In[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return nd(e).Z({index:"userMutationsIndex",range:r},(c,f,_)=>{f.userId===this.userId&&(Ct(f.batchId>=i),a=gf(this.yt,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return nd(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(r,a,c)=>{i=a.batchId,c.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return nd(e).W("userMutationsIndex",t).next(i=>i.map(r=>gf(this.yt,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=cC(this.userId,t.path),r=IDBKeyRange.lowerBound(i),a=[];return qm(e).Z({range:r},(c,f,_)=>{const[w,D,S]=c,N=hl(D);if(w===this.userId&&t.path.isEqual(N))return nd(e).get(S).next(U=>{if(!U)throw dt();Ct(U.userId===this.userId),a.push(gf(this.yt,U))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Hn(Xt);const r=[];return t.forEach(a=>{const c=cC(this.userId,a.path),f=IDBKeyRange.lowerBound(c),_=qm(e).Z({range:f},(w,D,S)=>{const[N,U,$]=w,ee=hl(U);N===this.userId&&a.path.isEqual(ee)?i=i.add($):S.done()});r.push(_)}),ce.waitFor(r).next(()=>this.En(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,a=cC(this.userId,i),c=IDBKeyRange.lowerBound(a);let f=new Hn(Xt);return qm(e).Z({range:c},(_,w,D)=>{const[S,N,U]=_,$=hl(N);S===this.userId&&i.isPrefixOf($)?$.length===r&&(f=f.add(U)):D.done()}).next(()=>this.En(e,f))}En(e,t){const i=[],r=[];return t.forEach(a=>{r.push(nd(e).get(a).next(c=>{if(null===c)throw dt();Ct(c.userId===this.userId),i.push(gf(this.yt,c))}))}),ce.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return NL(e.se,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ce.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ce.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return qm(e).Z({range:i},(a,c,f)=>{if(a[0]===this.userId){const _=hl(a[1]);r.push(_)}else f.done()}).next(()=>{Ct(0===r.length)})})}containsKey(e,t){return FL(e,this.userId,t)}Rn(e){return LL(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function FL(n,e,t){const i=cC(e,t.path),r=i[1],a=IDBKeyRange.lowerBound(i);let c=!1;return qm(n).Z({range:a,X:!0},(f,_,w)=>{const[D,S,N]=f;D===e&&S===r&&(c=!0),w.done()}).next(()=>c)}function nd(n){return wr(n,"mutations")}function qm(n){return wr(n,"documentMutations")}function LL(n){return wr(n,"mutationQueues")}class vf{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new vf(0)}static vn(){return new vf(-1)}}class Y${constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const i=new vf(t.highestTargetId);return t.highestTargetId=i.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Ot.fromTimestamp(new pi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Vn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Sn(e,r)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(i=>(i.targetCount+=1,this.Cn(t,i),this.Sn(e,i))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Wm(e).delete(t.targetId)).next(()=>this.Vn(e)).next(i=>(Ct(i.targetCount>0),i.targetCount-=1,this.Sn(e,i)))}removeTargets(e,t,i){let r=0;const a=[];return Wm(e).Z((c,f)=>{const _=nv(f);_.sequenceNumber<=t&&null===i.get(_.targetId)&&(r++,a.push(this.removeTargetData(e,_)))}).next(()=>ce.waitFor(a)).next(()=>r)}forEachTarget(e,t){return Wm(e).Z((i,r)=>{const a=nv(r);t(a)})}Vn(e){return VL(e).get("targetGlobalKey").next(t=>(Ct(null!==t),t))}Sn(e,t){return VL(e).put("targetGlobalKey",t)}Dn(e,t){return Wm(e).put(EL(this.yt,t))}Cn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=uf(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return Wm(e).Z({range:r,index:"queryTargetsIndex"},(c,f,_)=>{const w=nv(f);Gy(t,w.target)&&(a=w,_.done())}).next(()=>a)}addMatchingKeys(e,t,i){const r=[],a=id(e);return t.forEach(c=>{const f=bo(c.path);r.push(a.put({targetId:i,path:f})),r.push(this.referenceDelegate.addReference(e,i,c))}),ce.waitFor(r)}removeMatchingKeys(e,t,i){const r=id(e);return ce.forEach(t,a=>{const c=bo(a.path);return ce.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(e,i,a)])})}removeMatchingKeysForTargetId(e,t){const i=id(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=id(e);let a=rn();return r.Z({range:i,X:!0},(c,f,_)=>{const w=hl(c[1]),D=new et(w);a=a.add(D)}).next(()=>a)}containsKey(e,t){const i=bo(t.path),r=IDBKeyRange.bound([i],[XN(i)],!1,!0);let a=0;return id(e).Z({index:"documentTargetsIndex",X:!0,range:r},([c,f],_,w)=>{0!==c&&(a++,w.done())}).next(()=>a>0)}ne(e,t){return Wm(e).get(t).next(i=>i?nv(i):null)}}function Wm(n){return wr(n,"targets")}function VL(n){return wr(n,"targetGlobal")}function id(n){return wr(n,"targetDocuments")}function BL([n,e],[t,i]){const r=Xt(n,t);return 0===r?Xt(e,i):r}class Q${constructor(e){this.xn=e,this.buffer=new Hn(BL),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();BL(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class X${constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;$e("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,De.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Wu(i)?$e("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield qu(i)}yield t.Fn(3e5)}))}}class J${constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return ce.resolve(as.at);const i=new Q$(t);return this.$n.forEachTarget(e,r=>i.On(r.sequenceNumber)).next(()=>this.$n.Ln(e,r=>i.On(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.$n.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(PL)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),PL):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let i,r,a,c,f,_,w;const D=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?($e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),r=this.params.maximumSequenceNumbersToCollect):r=S,c=Date.now(),this.nthSequenceNumber(e,r))).next(S=>(i=S,f=Date.now(),this.removeTargets(e,i,t))).next(S=>(a=S,_=Date.now(),this.removeOrphanedDocuments(e,i))).next(S=>(w=Date.now(),iA()<=Hu.in.DEBUG&&$e("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-D}ms\n\tDetermined least recently used ${r} in `+(f-c)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${S} documents in `+(w-_)+`ms\nTotal Duration: ${w-D}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:S})))}}class ez{constructor(e,t){this.db=e,this.garbageCollector=new J$(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Un(e){let t=0;return this.Ln(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(i,r)=>t(r))}addReference(e,t,i){return _C(e,i)}removeReference(e,t,i){return _C(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return _C(e,t)}Gn(e,t){return function(i,r){let a=!1;return LL(i).tt(c=>FL(i,c,r).next(f=>(f&&(a=!0),ce.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Kn(e,(c,f)=>{if(f<=t){const _=this.Gn(e,c).next(w=>{if(!w)return a++,i.getEntry(e,c).next(()=>(i.removeEntry(c,Ot.min()),id(e).delete([0,bo(c.path)])))});r.push(_)}}).next(()=>ce.waitFor(r)).next(()=>i.apply(e)).next(()=>a)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return _C(e,t)}Kn(e,t){const i=id(e);let r,a=as.at;return i.Z({index:"documentTargetsIndex"},([c,f],{path:_,sequenceNumber:w})=>{0===c?(a!==as.at&&t(new et(hl(r)),a),a=w,r=_):a=as.at}).next(()=>{a!==as.at&&t(new et(hl(r)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function _C(n,e){return id(n).put((i=n.currentSequenceNumber,{targetId:0,path:bo(e.path),sequenceNumber:i}));var i}class UL{constructor(){this.changes=new Ju(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,oi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?ce.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class tz{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return bf(e).put(i)}removeEntry(e,t,i){return bf(e).delete(function(r,a){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],uC(a),c[c.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Qn(e,i)))}getEntry(e,t){let i=oi.newInvalidDocument(t);return bf(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(av(t))},(r,a)=>{i=this.jn(t,a)}).next(()=>i)}Wn(e,t){let i={size:0,document:oi.newInvalidDocument(t)};return bf(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(av(t))},(r,a)=>{i={document:this.jn(t,a),size:mC(a)}}).next(()=>i)}getEntries(e,t){let i=jo();return this.zn(e,t,(r,a)=>{const c=this.jn(r,a);i=i.insert(r,c)}).next(()=>i)}Hn(e,t){let i=jo(),r=new Ti(et.comparator);return this.zn(e,t,(a,c)=>{const f=this.jn(a,c);i=i.insert(a,f),r=r.insert(a,mC(c))}).next(()=>({documents:i,Jn:r}))}zn(e,t,i){if(t.isEmpty())return ce.resolve();let r=new Hn(zL);t.forEach(_=>r=r.add(_));const a=IDBKeyRange.bound(av(r.first()),av(r.last())),c=r.getIterator();let f=c.getNext();return bf(e).Z({index:"documentKeyIndex",range:a},(_,w,D)=>{const S=et.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;f&&zL(f,S)<0;)i(f,null),f=c.getNext();f&&f.isEqual(S)&&(i(f,w),f=c.hasNext()?c.getNext():null),f?D.j(av(f)):D.done()}).next(()=>{for(;f;)i(f,null),f=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),uC(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return bf(e).W(IDBKeyRange.bound(r,a,!0)).next(c=>{let f=jo();for(const _ of c){const w=this.jn(et.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);f=f.insert(w.key,w)}return f})}getAllFromCollectionGroup(e,t,i,r){let a=jo();const c=$L(t,i),f=$L(t,ss.max());return bf(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,f,!0)},(_,w,D)=>{const S=this.jn(et.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);a=a.insert(S.key,S),a.size===r&&D.done()}).next(()=>a)}newChangeBuffer(e){return new nz(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return HL(e).get("remoteDocumentGlobalKey").next(t=>(Ct(!!t),t))}Qn(e,t){return HL(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const i=function U$(n,e){let t;if(e.document)t=lL(n.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=et.fromSegments(e.noDocument.path),r=mf(e.noDocument.readTime);t=oi.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return dt();{const i=et.fromSegments(e.unknownDocument.path),r=mf(e.unknownDocument.version);t=oi.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new pi(i[0],i[1]);return Ot.fromTimestamp(r)}(e.readTime)),t}(this.yt,t);if(!i.isNoDocument()||!i.version.isEqual(Ot.min()))return i}return oi.newInvalidDocument(e)}}function jL(n){return new tz(n)}class nz extends UL{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Ju(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new Hn((a,c)=>Xt(a.canonicalString(),c.canonicalString()));return this.changes.forEach((a,c)=>{const f=this.Xn.get(a);if(t.push(this.Yn.removeEntry(e,a,f.readTime)),c.isValidDocument()){const _=wL(this.Yn.yt,c);r=r.add(a.path.popLast());const w=mC(_);i+=w-f.size,t.push(this.Yn.addEntry(e,a,_))}else if(i-=f.size,this.trackRemovals){const _=wL(this.Yn.yt,c.convertToNoDocument(Ot.min()));t.push(this.Yn.addEntry(e,a,_))}}),r.forEach(a=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Yn.updateMetadata(e,i)),ce.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(i=>(this.Xn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:i,Jn:r})=>(r.forEach((a,c)=>{this.Xn.set(a,{size:c,readTime:i.get(a).readTime})}),i))}}function HL(n){return wr(n,"remoteDocumentGlobal")}function bf(n){return wr(n,"remoteDocumentsV14")}function av(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function $L(n,e){const t=e.documentKey.path.toArray();return[n,uC(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function zL(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let a=0;a<t.length-2&&a<i.length-2;++a)if(r=Xt(t[a],i[a]),r)return r;return r=Xt(t.length,i.length),r||(r=Xt(t[t.length-2],i[i.length-2]),r||Xt(t[t.length-1],i[i.length-1]))}class iz{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class GL{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&Ky(i.mutation,r,ls.empty(),pi.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,rn()).next(()=>i))}getLocalViewOfDocuments(e,t,i=rn()){const r=ul();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(a=>{let c=Zy();return a.forEach((f,_)=>{c=c.insert(f,_.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=ul();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,rn()))}populateOverlays(e,t,i){const r=[];return i.forEach(a=>{t.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,i,r){let a=jo();const c=Yy(),f=Yy();return t.forEach((_,w)=>{const D=i.get(w.key);r.has(w.key)&&(void 0===D||D.mutation instanceof fc)?a=a.insert(w.key,w):void 0!==D&&(c.set(w.key,D.mutation.getFieldMask()),Ky(D.mutation,w,D.mutation.getFieldMask(),pi.now()))}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((w,D)=>c.set(w,D)),t.forEach((w,D)=>{var S;return f.set(w,new iz(D,null!==(S=c.get(w))&&void 0!==S?S:null))}),f))}recalculateAndSaveOverlays(e,t){const i=Yy();let r=new Ti((c,f)=>c-f),a=rn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(_=>{const w=t.get(_);if(null===w)return;let D=i.get(_)||ls.empty();D=f.applyToLocalView(w,D),i.set(_,D);const S=(r.get(f.batchId)||rn()).add(_);r=r.insert(f.batchId,S)})}).next(()=>{const c=[],f=r.getReverseIterator();for(;f.hasNext();){const _=f.getNext(),w=_.key,D=_.value,S=QF();D.forEach(N=>{if(!a.has(N)){const U=HF(t.get(N),i.get(N));null!==U&&S.set(N,U),a=a.add(N)}}),c.push(this.documentOverlayCache.saveOverlays(e,w,S))}return ce.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return et.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):mA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(a=>{const c=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):ce.resolve(ul());let f=-1,_=a;return c.next(w=>ce.forEach(w,(D,S)=>(f<S.largestBatchId&&(f=S.largestBatchId),a.get(D)?ce.resolve():this.remoteDocumentCache.getEntry(e,D).next(N=>{_=_.insert(D,N)}))).next(()=>this.populateOverlays(e,w,a)).next(()=>this.computeViews(e,_,w,rn())).next(D=>({batchId:f,changes:YF(D)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new et(t)).next(i=>{let r=Zy();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let a=Zy();return this.indexManager.getCollectionParents(e,r).next(c=>ce.forEach(c,f=>{const _=(w=t,D=f.child(r),new hc(D,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,D;return this.getDocumentsMatchingCollectionQuery(e,_,i).next(w=>{w.forEach((D,S)=>{a=a.insert(D,S)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(a=>(r=a,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(a=>{a.forEach((f,_)=>{const w=_.getKey();null===r.get(w)&&(r=r.insert(w,oi.newInvalidDocument(w)))});let c=Zy();return r.forEach((f,_)=>{const w=a.get(f);void 0!==w&&Ky(w.mutation,_,ls.empty(),pi.now()),yA(t,_)&&(c=c.insert(f,_))}),c})}}class rz{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ce.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:Li(i.createTime)}),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(i=t).name,query:TA(i.bundledQuery),readTime:Li(i.readTime)}),ce.resolve();var i}}class oz{constructor(){this.overlays=new Ti(et.comparator),this.es=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ul();return ce.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.oe(e,t,a)}),ce.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(i)),ce.resolve()}getOverlaysForCollection(e,t,i){const r=ul(),a=t.length+1,c=new et(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const _=f.getNext().value,w=_.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===a&&_.largestBatchId>i&&r.set(_.getKey(),_)}return ce.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new Ti((w,D)=>w-D);const c=this.overlays.getIterator();for(;c.hasNext();){const w=c.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>i){let D=a.get(w.largestBatchId);null===D&&(D=ul(),a=a.insert(w.largestBatchId,D)),D.set(w.getKey(),w)}}const f=ul(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,D)=>f.set(w,D)),!(f.size()>=r)););return ce.resolve(f)}oe(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new SA(t,i));let a=this.es.get(t);void 0===a&&(a=rn(),this.es.set(t,a)),this.es.set(t,a.add(i.key))}}class NA{constructor(){this.ns=new Hn(Er.ss),this.rs=new Hn(Er.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const i=new Er(e,t);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.cs(new Er(e,t))}hs(e,t){e.forEach(i=>this.removeReference(i,t))}ls(e){const t=new et(new En([])),i=new Er(t,e),r=new Er(t,e+1),a=[];return this.rs.forEachInRange([i,r],c=>{this.cs(c),a.push(c.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new et(new En([])),i=new Er(t,e),r=new Er(t,e+1);let a=rn();return this.rs.forEachInRange([i,r],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new Er(e,0),i=this.ns.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Er{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return et.comparator(e.key,t.key)||Xt(e._s,t._s)}static os(e,t){return Xt(e._s,t._s)||et.comparator(e.key,t.key)}}class sz{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Hn(Er.ss)}checkEmpty(e){return ce.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const a=this.ws;this.ws++;const c=new IA(a,t,i,r);this.mutationQueue.push(c);for(const f of r)this.gs=this.gs.add(new Er(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ce.resolve(c)}lookupMutationBatch(e,t){return ce.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ps(t+1),a=r<0?0:r;return ce.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Er(t,0),r=new Er(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([i,r],c=>{const f=this.ys(c._s);a.push(f)}),ce.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Hn(Xt);return t.forEach(r=>{const a=new Er(r,0),c=new Er(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,c],f=>{i=i.add(f._s)})}),ce.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;et.isDocumentKey(a)||(a=a.child(""));const c=new Er(new et(a),0);let f=new Hn(Xt);return this.gs.forEachWhile(_=>{const w=_.key.path;return!!i.isPrefixOf(w)&&(w.length===r&&(f=f.add(_._s)),!0)},c),ce.resolve(this.Is(f))}Is(e){const t=[];return e.forEach(i=>{const r=this.ys(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Ct(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return ce.forEach(t.mutations,r=>{const a=new Er(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=i})}An(e){}containsKey(e,t){const i=new Er(t,0),r=this.gs.firstAfterOrEqual(i);return ce.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return ce.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class az{constructor(e){this.Es=e,this.docs=new Ti(et.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,c=this.Es(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ce.resolve(i?i.document.mutableCopy():oi.newInvalidDocument(t))}getEntries(e,t){let i=jo();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():oi.newInvalidDocument(r))}),ce.resolve(i)}getAllFromCollection(e,t,i){let r=jo();const a=new et(t.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:f,value:{document:_}}=c.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||sA(eF(_),i)<=0||(r=r.insert(_.key,_.mutableCopy()))}return ce.resolve(r)}getAllFromCollectionGroup(e,t,i,r){dt()}As(e,t){return ce.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new lz(this)}getSize(e){return ce.resolve(this.size)}}class lz extends UL{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(i)}),ce.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class cz{constructor(e){this.persistence=e,this.Rs=new Ju(t=>uf(t),Gy),this.lastRemoteSnapshotVersion=Ot.min(),this.highestTargetId=0,this.bs=0,this.Ps=new NA,this.targetCount=0,this.vs=vf.Pn()}forEachTarget(e,t){return this.Rs.forEach((i,r)=>t(r)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.bs&&(this.bs=t),ce.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new vf(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.Dn(t),ce.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.Rs.forEach((c,f)=>{f.sequenceNumber<=t&&null===i.get(f.targetId)&&(this.Rs.delete(c),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),r++)}),ce.waitFor(a).next(()=>r)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const i=this.Rs.get(t)||null;return ce.resolve(i)}addMatchingKeys(e,t,i){return this.Ps.us(t,i),ce.resolve()}removeMatchingKeys(e,t,i){this.Ps.hs(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(c=>{a.push(r.markPotentiallyOrphaned(e,c))}),ce.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ps.ds(t);return ce.resolve(i)}containsKey(e,t){return ce.resolve(this.Ps.containsKey(t))}}class qL{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new as(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new cz(this),this.indexManager=new K$,this.remoteDocumentCache=new az(i=>this.referenceDelegate.xs(i)),this.yt=new bL(t),this.Ns=new rz(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new oz,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Vs[e.toKey()];return i||(i=new sz(t,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,i){$e("MemoryPersistence","Starting transaction:",e);const r=new uz(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(a=>this.referenceDelegate.Os(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Ms(e,t){return ce.or(Object.values(this.Vs).map(i=>()=>i.containsKey(e,t)))}}class uz extends nF{constructor(e){super(),this.currentSequenceNumber=e}}class yC{constructor(e){this.persistence=e,this.Fs=new NA,this.$s=null}static Bs(e){return new yC(e)}get Ls(){if(this.$s)return this.$s;throw dt()}addReference(e,t,i){return this.Fs.addReference(i,t),this.Ls.delete(i.toString()),ce.resolve()}removeReference(e,t,i){return this.Fs.removeReference(i,t),this.Ls.add(i.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ce.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.Ls.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.Ls,i=>{const r=et.fromPath(i);return this.qs(e,r).next(a=>{a||t.removeEntry(r,Ot.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(i=>{i?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return ce.or([()=>ce.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class dz{constructor(e){this.yt=e}$(e,t,i,r){const a=new YE("createOrUpgrade",t);var f;i<1&&r>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",mL,{unique:!0}),f.createObjectStore("documentMutations"),WL(e),function(f){f.createObjectStore("remoteDocuments")}(e));let c=ce.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),WL(e)),c=c.next(()=>function(f){const _=f.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ot.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",w)}(a))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(f,_){return _.store("mutations").W().next(w=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",mL,{unique:!0});const D=_.store("mutations"),S=w.map(N=>D.put(N));return ce.waitFor(S)})}(e,a))),c=c.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(c=c.next(()=>this.Us(a))),i<6&&r>=6&&(c=c.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(a)))),i<7&&r>=7&&(c=c.next(()=>this.Gs(a))),i<8&&r>=8&&(c=c.next(()=>this.Qs(e,a))),i<9&&r>=9&&(c=c.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(c=c.next(()=>this.js(a))),i<11&&r>=11&&(c=c.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(c=c.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:N$});_.createIndex("collectionPathOverlayIndex",F$,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",L$,{unique:!1})}(e)})),i<13&&r>=13&&(c=c.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:D$});_.createIndex("documentKeyIndex",I$),_.createIndex("collectionGroupIndex",x$)}(e)).next(()=>this.Ws(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>this.zs(e,a))),i<15&&r>=15&&(c=c.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:R$}).createIndex("sequenceNumberIndex",O$,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:k$}).createIndex("documentKeyIndex",P$,{unique:!1})}(e))),c}Ks(e){let t=0;return e.store("remoteDocuments").Z((i,r)=>{t+=mC(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Us(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>ce.forEach(r,a=>{const c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",c).next(f=>ce.forEach(f,_=>{Ct(_.userId===a.userId);const w=gf(this.yt,_);return NL(e,a.userId,w).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.Z((c,f)=>{const _=new En(c),w=[0,bo(_)];a.push(t.get(w).next(D=>D?ce.resolve():t.put({targetId:0,path:bo(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ce.waitFor(a))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:M$});const i=t.store("collectionParents"),r=new PA,a=c=>{if(r.add(c)){const f=c.lastSegment(),_=c.popLast();return i.put({collectionId:f,parent:bo(_)})}};return t.store("remoteDocuments").Z({X:!0},(c,f)=>{const _=new En(c);return a(_.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([c,f,_],w)=>{const D=hl(f);return a(D.popLast())}))}js(e){const t=e.store("targets");return t.Z((i,r)=>{const a=nv(r),c=EL(this.yt,a);return t.put(c)})}Ws(e,t){const i=t.store("remoteDocuments"),r=[];return i.Z((a,c)=>{const f=t.store("remoteDocumentsV14"),_=(w=c,w.document?new et(En.fromString(w.document.name).popFirst(5)):w.noDocument?et.fromSegments(w.noDocument.path):w.unknownDocument?et.fromSegments(w.unknownDocument.path):dt()).path.toArray();var w;const D={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(f.put(D))}).next(()=>ce.waitFor(r))}zs(e,t){const i=t.store("mutations"),r=jL(this.yt),a=new qL(yC.Bs,this.yt.ie);return i.W().next(c=>{const f=new Map;return c.forEach(_=>{var w;let D=null!==(w=f.get(_.userId))&&void 0!==w?w:rn();gf(this.yt,_).keys().forEach(S=>D=D.add(S)),f.set(_.userId,D)}),ce.forEach(f,(_,w)=>{const D=new br(w),S=dC.re(this.yt,D),N=a.getIndexManager(D),U=gC.re(D,this.yt,N,a.referenceDelegate);return new GL(r,U,S,N).recalculateAndSaveOverlaysForDocumentKeys(new DA(t,as.at),_).next()})})}}function WL(n){n.createObjectStore("targetDocuments",{keyPath:T$}).createIndex("documentTargetsIndex",A$,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",S$,{unique:!0}),n.createObjectStore("targetGlobal")}const FA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class LA{constructor(e,t,i,r,a,c,f,_,w,D,S=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Hs=a,this.window=c,this.document=f,this.Js=w,this.Ys=D,this.Xs=S,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=N=>Promise.resolve(),!LA.C())throw new Le(pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ez(this,r),this.ii=t+"main",this.yt=new bL(_),this.ri=new ya(this.ii,this.Xs,new dz(this.yt)),this.Cs=new Y$(this.referenceDelegate,this.yt),this.remoteDocumentCache=jL(this.yt),this.Ns=new j$,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===D&&Fi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Le(pe.FAILED_PRECONDITION,FA);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new as(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var i=(0,De.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,De.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,De.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>vC(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Wu(e))return $e("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return $e("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return lv(e).get("owner").next(t=>ce.resolve(this.mi(t)))}gi(e){return vC(e).delete(this.clientId)}yi(){var e=this;return(0,De.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=wr(i,"clientMetadata");return r.W().next(a=>{const c=e.Ii(a,18e5),f=a.filter(_=>-1===c.indexOf(_));return ce.forEach(f,_=>r.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e.oi)for(const i of t)e.oi.removeItem(e.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ce.resolve(!0):lv(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Le(pe.FAILED_PRECONDITION,FA);return!1}}return!(!this.networkEnabled||!this.inForeground)||vC(e).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const c=!this.inForeground&&r.inForeground,f=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||c&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&$e("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,De.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new DA(t,as.at);return e._i(i).next(()=>e.gi(i))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(i=>this.pi(i.updateTimeMs,t)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>vC(e).W().next(t=>this.Ii(t,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return gC.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Z$(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return dC.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,i){$e("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",a=15===(c=this.Xs)?B$:14===c?vL:13===c?yL:12===c?V$:11===c?_L:void dt();var c;let f;return this.ri.runTransaction(e,r,a,_=>(f=new DA(_,this.Ss?this.Ss.next():as.at),"readwrite-primary"===t?this.fi(f).next(w=>!!w||this.di(f)).next(w=>{if(!w)throw Fi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Le(pe.FAILED_PRECONDITION,tF);return i(f)}).next(w=>this.wi(f).next(()=>w)):this.Vi(f).next(()=>i(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Vi(e){return lv(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Le(pe.FAILED_PRECONDITION,FA)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return lv(e).put("owner",t)}static C(){return ya.C()}_i(e){const t=lv(e);return t.get("owner").next(i=>this.mi(i)?($e("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ce.resolve())}pi(e,t){const i=Date.now();return!(e<i-t||e>i&&(Fi(`Detected an update time that is in the future: ${e} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,An.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const i=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return $e("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Fi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Fi("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function lv(n){return wr(n,"owner")}function vC(n){return wr(n,"clientMetadata")}function VA(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class BA{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Si=i,this.Di=r}static Ci(e,t){let i=rn(),r=rn();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new BA(e,t.fromCache,i,r)}}class KL{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.ki(e,t).next(a=>a||this.Oi(e,t,r,i)).next(a=>a||this.Mi(e,t))}ki(e,t){if(MF(t))return ce.resolve(null);let i=vo(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=iC(t,null,"F"),i=vo(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const c=rn(...a);return this.Ni.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,i).next(_=>{const w=this.Fi(t,f);return this.$i(t,w,c,_.readTime)?this.ki(e,iC(t,null,"F")):this.Bi(e,w,t,_)}))})))}Oi(e,t,i,r){return MF(t)||r.isEqual(Ot.min())?this.Mi(e,t):this.Ni.getDocuments(e,i).next(a=>{const c=this.Fi(t,a);return this.$i(t,c,i,r)?this.Mi(e,t):(iA()<=Hu.in.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),_A(t)),this.Bi(e,c,t,JN(r,-1)))})}Fi(e,t){let i=new Hn(kF(e));return t.forEach((r,a)=>{yA(e,a)&&(i=i.add(a))}),i}$i(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Mi(e,t){return iA()<=Hu.in.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",_A(t)),this.Ni.getDocumentsMatchingQuery(e,t,ss.min())}Bi(e,t,i,r){return this.Ni.getDocumentsMatchingQuery(e,i,r).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}class hz{constructor(e,t,i,r){this.persistence=e,this.Li=t,this.yt=r,this.qi=new Ti(Xt),this.Ui=new Ju(a=>uf(a),Gy),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GL(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function ZL(n,e,t,i){return new hz(n,e,t,i)}function YL(n,e){return UA.apply(this,arguments)}function UA(){return UA=(0,De.Z)(function*(n,e){const t=it(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,t.Qi(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const c=[],f=[];let _=rn();for(const w of r){c.push(w.batchId);for(const D of w.mutations)_=_.add(D.key)}for(const w of a){f.push(w.batchId);for(const D of w.mutations)_=_.add(D.key)}return t.localDocuments.getDocuments(i,_).next(w=>({ji:w,removedBatchIds:c,addedBatchIds:f}))})})}),UA.apply(this,arguments)}function fz(n,e){const t=it(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.Gi.newChangeBuffer({trackRemovals:!0});return function(c,f,_,w){const D=_.batch,S=D.keys();let N=ce.resolve();return S.forEach(U=>{N=N.next(()=>w.getEntry(f,U)).next($=>{const ee=_.docVersions.get(U);Ct(null!==ee),$.version.compareTo(ee)<0&&(D.applyToRemoteDocument($,_),$.isValidDocument()&&($.setReadTime(_.commitVersion),w.addEntry($)))})}),N.next(()=>c.mutationQueue.removeMutationBatch(f,D))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let f=rn();for(let _=0;_<c.mutationResults.length;++_)c.mutationResults[_].transformResults.length>0&&(f=f.add(c.batch.mutations[_].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function QL(n){const e=it(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function pz(n,e){const t=it(n),i=e.snapshotVersion;let r=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.Gi.newChangeBuffer({trackRemovals:!0});r=t.qi;const f=[];e.targetChanges.forEach((D,S)=>{const N=r.get(S);if(!N)return;f.push(t.Cs.removeMatchingKeys(a,D.removedDocuments,S).next(()=>t.Cs.addMatchingKeys(a,D.addedDocuments,S)));let U=N.withSequenceNumber(a.currentSequenceNumber);var $,ee,de;e.targetMismatches.has(S)?U=U.withResumeToken(sr.EMPTY_BYTE_STRING,Ot.min()).withLastLimboFreeSnapshotVersion(Ot.min()):D.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(D.resumeToken,i)),r=r.insert(S,U),ee=U,de=D,(0===($=N).resumeToken.approximateByteSize()||ee.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8||de.addedDocuments.size+de.modifiedDocuments.size+de.removedDocuments.size>0)&&f.push(t.Cs.updateTargetData(a,U))});let _=jo(),w=rn();if(e.documentUpdates.forEach(D=>{e.resolvedLimboDocuments.has(D)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,D))}),f.push(XL(a,c,e.documentUpdates).next(D=>{_=D.Wi,w=D.zi})),!i.isEqual(Ot.min())){const D=t.Cs.getLastRemoteSnapshotVersion(a).next(S=>t.Cs.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(D)}return ce.waitFor(f).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,w)).next(()=>_)}).then(a=>(t.qi=r,a))}function XL(n,e,t){let i=rn(),r=rn();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let c=jo();return t.forEach((f,_)=>{const w=a.get(f);_.isFoundDocument()!==w.isFoundDocument()&&(r=r.add(f)),_.isNoDocument()&&_.version.isEqual(Ot.min())?(e.removeEntry(f,_.readTime),c=c.insert(f,_)):!w.isValidDocument()||_.version.compareTo(w.version)>0||0===_.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(_),c=c.insert(f,_)):$e("LocalStore","Ignoring outdated watch update for ",f,". Current version:",w.version," Watch version:",_.version)}),{Wi:c,zi:r}})}function mz(n,e){const t=it(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Km(n,e){const t=it(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Cs.getTargetData(i,e).next(a=>a?(r=a,ce.resolve(r)):t.Cs.allocateTargetId(i).next(c=>(r=new ed(e,c,0,i.currentSequenceNumber),t.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.qi.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.qi=t.qi.insert(i.targetId,i),t.Ui.set(e,i.targetId)),i})}function Zm(n,e,t){return jA.apply(this,arguments)}function jA(){return jA=(0,De.Z)(function*(n,e,t){const i=it(n),r=i.qi.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",a,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!Wu(c))throw c;$e("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.qi=i.qi.remove(e),i.Ui.delete(r.target)}),jA.apply(this,arguments)}function bC(n,e,t){const i=it(n);let r=Ot.min(),a=rn();return i.persistence.runTransaction("Execute query","readonly",c=>function(f,_,w){const D=it(f),S=D.Ui.get(w);return void 0!==S?ce.resolve(D.qi.get(S)):D.Cs.getTargetData(_,w)}(i,c,vo(e)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(c,f.targetId).next(_=>{a=_})}).next(()=>i.Li.getDocumentsMatchingQuery(c,e,t?r:Ot.min(),t?a:rn())).next(f=>(tV(i,OF(e),f),{documents:f,Hi:a})))}function JL(n,e){const t=it(n),i=it(t.Cs),r=t.qi.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",a=>i.ne(a,e).next(c=>c?c.target:null))}function eV(n,e){const t=it(n),i=t.Ki.get(e)||Ot.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Gi.getAllFromCollectionGroup(r,e,JN(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(tV(t,e,r),r))}function tV(n,e,t){let i=n.Ki.get(e)||Ot.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Ki.set(e,i)}function HA(){return HA=(0,De.Z)(function*(n,e,t,i){const r=it(n);let a=rn(),c=jo();for(const w of t){const D=e.Ji(w.metadata.name);w.document&&(a=a.add(D));const S=e.Yi(w);S.setReadTime(e.Xi(w.metadata.readTime)),c=c.insert(D,S)}const f=r.Gi.newChangeBuffer({trackRemovals:!0}),_=yield Km(r,(w=i,vo(Vm(En.fromString(`__bundle__/docs/${w}`)))));var w;return r.persistence.runTransaction("Apply bundle documents","readwrite",w=>XL(w,f,c).next(D=>(f.apply(w),D)).next(D=>r.Cs.removeMatchingKeysForTargetId(w,_.targetId).next(()=>r.Cs.addMatchingKeys(w,a,_.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(w,D.Wi,D.zi)).next(()=>D.Wi)))}),HA.apply(this,arguments)}function _z(n,e){return $A.apply(this,arguments)}function $A(){return $A=(0,De.Z)(function*(n,e,t=rn()){const i=yield Km(n,vo(TA(e.bundledQuery))),r=it(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const c=Li(e.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.Ns.saveNamedQuery(a,e);const f=i.withResumeToken(sr.EMPTY_BYTE_STRING,c);return r.qi=r.qi.insert(f.targetId,f),r.Cs.updateTargetData(a,f).next(()=>r.Cs.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.Cs.addMatchingKeys(a,t,i.targetId)).next(()=>r.Ns.saveNamedQuery(a,e))})}),$A.apply(this,arguments)}function nV(n,e){return`firestore_clients_${n}_${e}`}function iV(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function zA(n,e){return`firestore_targets_${n}_${e}`}class wC{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Zi(e,t,i){const r=JSON.parse(i);let a,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(a=new Le(r.error.code,r.error.message))),c?new wC(e,t,r.state,a):(Fi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class cv{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Zi(e,t){const i=JSON.parse(t);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new Le(i.error.code,i.error.message))),a?new cv(e,i.state,r):(Fi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class EC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=aC();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=sF(i.activeTargetIds[c]),a=a.add(i.activeTargetIds[c]);return r?new EC(e,a):(Fi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class GA{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new GA(t.clientId,t.onlineState):(Fi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class qA{constructor(){this.activeTargetIds=aC()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WA{constructor(e,t,i,r,a){this.window=e,this.Hs=t,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Ti(Xt),this.started=!1,this.cr=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=nV(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new qA),this.lr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,De.Z)(function*(){const t=yield e.syncEngine.vi();for(const r of t){if(r===e.sr)continue;const a=e.getItem(nV(e.persistenceKey,r));if(a){const c=EC.Zi(r,a);c&&(e.ur=e.ur.insert(c.clientId,c))}}e.gr();const i=e.storage.getItem(e.wr);if(i){const r=e.yr(i);r&&e.pr(r)}for(const r of e.cr)e.rr(r);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,i){this.Tr(e,t,i),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(zA(this.persistenceKey,e));if(i){const r=cv.Zi(e,i);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(zA(this.persistenceKey,e))}updateQueryState(e,t,i){this.Rr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Er(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return $e("SharedClientState","READ",e,t),t}setItem(e,t){$e("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){$e("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const i=e;if(i.storageArea===this.storage){if($e("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void Fi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,De.Z)(function*(){if(t.started){if(null!==i.key)if(t.lr.test(i.key)){if(null==i.newValue){const r=t.vr(i.key);return t.Vr(r,null)}{const r=t.Sr(i.key,i.newValue);if(r)return t.Vr(r.clientId,r)}}else if(t.dr.test(i.key)){if(null!==i.newValue){const r=t.Dr(i.key,i.newValue);if(r)return t.Cr(r)}}else if(t._r.test(i.key)){if(null!==i.newValue){const r=t.Nr(i.key,i.newValue);if(r)return t.kr(r)}}else if(i.key===t.wr){if(null!==i.newValue){const r=t.yr(i.newValue);if(r)return t.pr(r)}}else if(i.key===t.hr){const r=function(a){let c=as.at;if(null!=a)try{const f=JSON.parse(a);Ct("number"==typeof f),c=f}catch(f){Fi("SharedClientState","Failed to read sequence number from WebStorage",f)}return c}(i.newValue);r!==as.at&&t.sequenceNumberHandler(r)}else if(i.key===t.mr){const r=t.Or(i.newValue);yield Promise.all(r.map(a=>t.syncEngine.Mr(a)))}}else t.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,i){const r=new wC(this.currentUser,e,t,i),a=iV(this.persistenceKey,this.currentUser,e);this.setItem(a,r.tr())}Er(e){const t=iV(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,i){const r=zA(this.persistenceKey,e),a=new cv(e,t,i);this.setItem(r,a.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const i=this.vr(e);return EC.Zi(i,t)}Dr(e,t){const i=this.dr.exec(e),r=Number(i[1]);return wC.Zi(new br(void 0!==i[2]?i[2]:null),r,t)}Nr(e,t){const i=this._r.exec(e),r=Number(i[1]);return cv.Zi(r,t)}yr(e){return GA.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,De.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);$e("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const i=t?this.ur.insert(e,t):this.ur.remove(e),r=this.Ir(this.ur),a=this.Ir(i),c=[],f=[];return a.forEach(_=>{r.has(_)||c.push(_)}),r.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.Br(c,f).then(()=>{this.ur=i})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=aC();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class rV{constructor(){this.Lr=new qA,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,i){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new qA,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class yz{Ur(e){}shutdown(){}}class oV{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){$e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){$e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const vz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bz{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class wz extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,i,r,a){const c=this.ho(e,t);$e("RestConnection","Sending: ",c,i);const f={};return this.lo(f,r,a),this.fo(e,c,f,i).then(_=>($e("RestConnection","Received: ",_),_),_=>{throw tf("RestConnection",`${e} failed with error: `,_,"url: ",c,"request:",i),_})}_o(e,t,i,r,a,c){return this.ao(e,t,i,r,a)}lo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Om,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}ho(e,t){return`${this.oo}/v1/${t}:${vz[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,i,r){return new Promise((a,c)=>{const f=new bH;f.setWithCredentials(!0),f.listenOnce(_H.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case nA.NO_ERROR:const w=f.getResponseJson();$e("Connection","XHR received:",JSON.stringify(w)),a(w);break;case nA.TIMEOUT:$e("Connection",'RPC "'+e+'" timed out'),c(new Le(pe.DEADLINE_EXCEEDED,"Request time out"));break;case nA.HTTP_ERROR:const D=f.getStatus();if($e("Connection",'RPC "'+e+'" failed with status:',D,"response text:",f.getResponseText()),D>0){let S=f.getResponseJson();Array.isArray(S)&&(S=S[0]);const N=S?.error;if(N&&N.status&&N.message){const U=function($){const ee=$.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(ee)>=0?ee:pe.UNKNOWN}(N.status);c(new Le(U,N.message))}else c(new Le(pe.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Le(pe.UNAVAILABLE,"Connection failed."));break;default:dt()}}finally{$e("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(r);f.send(t,"POST",_,i,15)})}wo(e,t,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=mH(),c=gH(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new vH({})),this.lo(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const _=r.join("");$e("Connection","Creating WebChannel: "+_,f);const w=a.createWebChannel(_,f);let D=!1,S=!1;const N=new bz({Hr:$=>{S?$e("Connection","Not sending because WebChannel is closed:",$):(D||($e("Connection","Opening WebChannel transport."),w.open(),D=!0),$e("Connection","WebChannel sending:",$),w.send($))},Jr:()=>w.close()}),U=($,ee,de)=>{$.listen(ee,Qe=>{try{de(Qe)}catch(at){setTimeout(()=>{throw at},0)}})};return U(w,WE.EventType.OPEN,()=>{S||$e("Connection","WebChannel transport opened.")}),U(w,WE.EventType.CLOSE,()=>{S||(S=!0,$e("Connection","WebChannel transport closed"),N.io())}),U(w,WE.EventType.ERROR,$=>{S||(S=!0,tf("Connection","WebChannel transport errored:",$),N.io(new Le(pe.UNAVAILABLE,"The operation could not be completed")))}),U(w,WE.EventType.MESSAGE,$=>{var ee;if(!S){const de=$.data[0];Ct(!!de);const Qe=de,at=Qe.error||(null===(ee=Qe[0])||void 0===ee?void 0:ee.error);if(at){$e("Connection","WebChannel received error:",at);const bt=at.status;let yt=function($t){const vn=Yi[$t];if(void 0!==vn)return KF(vn)}(bt),Vt=at.message;void 0===yt&&(yt=pe.INTERNAL,Vt="Unknown error status: "+bt+" with message "+at.message),S=!0,N.io(new Le(yt,Vt)),w.close()}else $e("Connection","WebChannel received:",de),N.ro(de)}}),U(c,yH.STAT_EVENT,$=>{$.stat===WN.PROXY?$e("Connection","Detected buffering proxy"):$.stat===WN.NOPROXY&&$e("Connection","Detected no buffering proxy")}),setTimeout(()=>{N.so()},0),N}}function sV(){return typeof window<"u"?window:null}function CC(){return typeof document<"u"?document:null}function uv(n){return new h$(n,!0)}class KA{constructor(e,t,i=1e3,r=1.5,a=6e4){this.Hs=e,this.timerId=t,this.mo=i,this.yo=r,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,t-i);r>0&&$e("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class aV{constructor(e,t,i,r,a,c,f,_){this.Hs=e,this.vo=i,this.Vo=r,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new KA(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,De.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,De.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var i=this;return(0,De.Z)(function*(){i.Lo(),i.qo(),i.xo.cancel(),i.So++,4!==e?i.xo.reset():t&&t.code===pe.RESOURCE_EXHAUSTED?(Fi(t.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),i.xo.Ao()):t&&t.code===pe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Uo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===t&&this.Go(i,r)},i=>{e(()=>{const r=new Le(pe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(e,t){const i=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,De.Z)(function*(){e.state=0,e.start()}))}Qo(e){return $e("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():($e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ez extends aV{constructor(e,t,i,r,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,c),this.yt=a}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function m$(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:dt(),r=e.targetChange.targetIds||[],a=function(_,w){return _.wt?(Ct(void 0===w||"string"==typeof w),sr.fromBase64String(w||"")):(Ct(void 0===w||w instanceof Uint8Array),sr.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(_){const w=void 0===_.code?pe.UNKNOWN:KF(_.code);return new Le(w,_.message||"")}(c);t=new JF(i,r,a,f||null)}else if("documentChange"in e){const i=e.documentChange,r=dl(n,i.document.name),a=Li(i.document.updateTime),c=i.document.createTime?Li(i.document.createTime):Ot.min(),f=new Lr({mapValue:{fields:i.document.fields}}),_=oi.newFoundDocument(r,a,c,f);t=new lC(i.targetIds||[],i.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const i=e.documentDelete,r=dl(n,i.document),a=i.readTime?Li(i.readTime):Ot.min(),c=oi.newNoDocument(r,a);t=new lC([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const i=e.documentRemove,r=dl(n,i.document);t=new lC([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return dt();{const i=e.filter,a=new i$(i.count||0);t=new XF(i.targetId,a)}}var _;return t}(this.yt,e),i=function(r){if(!("targetChange"in r))return Ot.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?Ot.min():a.readTime?Li(a.readTime):Ot.min()}(e);return this.listener.Wo(t,i)}zo(e){const t={};t.database=ev(this.yt),t.addTarget=function(r,a){let c;const f=a.target;return c=eC(f)?{documents:cL(r,f)}:{query:CA(r,f)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?c.resumeToken=iL(r,a.resumeToken):a.snapshotVersion.compareTo(Ot.min())>0&&(c.readTime=$m(r,a.snapshotVersion.toTimestamp())),c}(this.yt,e);const i=function _$(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return dt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Bo(t)}Ho(e){const t={};t.database=ev(this.yt),t.removeTarget=e,this.Bo(t)}}class Cz extends aV{constructor(e,t,i,r,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,c),this.yt=a,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function g$(n,e){return n&&n.length>0?(Ct(void 0!==e),n.map(t=>function(i,r){let a=Li(i.updateTime?i.updateTime:r);return a.isEqual(Ot.min())&&(a=Li(r)),new e$(a,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Li(e.commitTime);return this.listener.Zo(i,t)}return Ct(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=ev(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>tv(this.yt,i))};this.Bo(t)}}class Dz extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.yt=r,this.nu=!1}su(){if(this.nu)throw new Le(pe.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.ao(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Le(pe.UNKNOWN,r.toString())})}_o(e,t,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection._o(e,t,i,a,c,r)).catch(a=>{throw"FirebaseError"===a.name?(a.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Le(pe.UNKNOWN,a.toString())})}terminate(){this.nu=!0}}class xz{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Fi(t),this.ou=!1):$e("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Sz{constructor(e,t,i,r,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.Ur(f=>{i.enqueueAndForget((0,De.Z)(function*(){var _;pc(c)&&($e("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,De.Z)(function*(w){const D=it(w);D._u.add(4),yield Ym(D),D.gu.set("Unknown"),D._u.delete(4),yield dv(D)}),function(w){return _.apply(this,arguments)})(c))}))}),this.gu=new xz(i,r)}}function dv(n){return YA.apply(this,arguments)}function YA(){return YA=(0,De.Z)(function*(n){if(pc(n))for(const e of n.wu)yield e(!0)}),YA.apply(this,arguments)}function Ym(n){return QA.apply(this,arguments)}function QA(){return QA=(0,De.Z)(function*(n){for(const e of n.wu)yield e(!1)}),QA.apply(this,arguments)}function DC(n,e){const t=it(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),eM(t)?JA(t):Xm(t).ko()&&XA(t,e))}function hv(n,e){const t=it(n),i=Xm(t);t.du.delete(e),i.ko()&&lV(t,e),0===t.du.size&&(i.ko()?i.Fo():pc(t)&&t.gu.set("Unknown"))}function XA(n,e){n.yu.Ot(e.targetId),Xm(n).zo(e)}function lV(n,e){n.yu.Ot(e),Xm(n).Ho(e)}function JA(n){n.yu=new l$({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),Xm(n).start(),n.gu.uu()}function eM(n){return pc(n)&&!Xm(n).No()&&n.du.size>0}function pc(n){return 0===it(n)._u.size}function cV(n){n.yu=void 0}function Tz(n){return tM.apply(this,arguments)}function tM(){return tM=(0,De.Z)(function*(n){n.du.forEach((e,t)=>{XA(n,e)})}),tM.apply(this,arguments)}function Az(n,e){return nM.apply(this,arguments)}function nM(){return nM=(0,De.Z)(function*(n,e){cV(n),eM(n)?(n.gu.hu(e),JA(n)):n.gu.set("Unknown")}),nM.apply(this,arguments)}function Mz(n,e,t){return iM.apply(this,arguments)}function iM(){return iM=(0,De.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof JF&&2===e.state&&e.cause)try{yield(i=(0,De.Z)(function*(r,a){const c=a.cause;for(const f of a.targetIds)r.du.has(f)&&(yield r.remoteSyncer.rejectListen(f,c),r.du.delete(f),r.yu.removeTarget(f))}),function(r,a){return i.apply(this,arguments)})(n,e)}catch(i){$e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield IC(n,i)}else if(e instanceof lC?n.yu.Kt(e):e instanceof XF?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(Ot.min()))try{const i=yield QL(n.localStore);t.compareTo(i)>=0&&(yield function(r,a){const c=r.yu.Zt(a);return c.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const w=r.du.get(_);w&&r.du.set(_,w.withResumeToken(f.resumeToken,a))}}),c.targetMismatches.forEach(f=>{const _=r.du.get(f);if(!_)return;r.du.set(f,_.withResumeToken(sr.EMPTY_BYTE_STRING,_.snapshotVersion)),lV(r,f);const w=new ed(_.target,f,1,_.sequenceNumber);XA(r,w)}),r.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(i){$e("RemoteStore","Failed to raise snapshot:",i),yield IC(n,i)}var i}),iM.apply(this,arguments)}function IC(n,e,t){return rM.apply(this,arguments)}function rM(){return rM=(0,De.Z)(function*(n,e,t){if(!Wu(e))throw e;n._u.add(1),yield Ym(n),n.gu.set("Offline"),t||(t=()=>QL(n.localStore)),n.asyncQueue.enqueueRetryable((0,De.Z)(function*(){$e("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield dv(n)}))}),rM.apply(this,arguments)}function uV(n,e){return e().catch(t=>IC(n,t,e))}function Qm(n){return oM.apply(this,arguments)}function oM(){return oM=(0,De.Z)(function*(n){const e=it(n),t=rd(e);let i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Rz(e);)try{const r=yield mz(e.localStore,i);if(null===r){0===e.fu.length&&t.Fo();break}i=r.batchId,Oz(e,r)}catch(r){yield IC(e,r)}dV(e)&&hV(e)}),oM.apply(this,arguments)}function Rz(n){return pc(n)&&n.fu.length<10}function Oz(n,e){n.fu.push(e);const t=rd(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function dV(n){return pc(n)&&!rd(n).No()&&n.fu.length>0}function hV(n){rd(n).start()}function kz(n){return sM.apply(this,arguments)}function sM(){return sM=(0,De.Z)(function*(n){rd(n).eu()}),sM.apply(this,arguments)}function Pz(n){return aM.apply(this,arguments)}function aM(){return aM=(0,De.Z)(function*(n){const e=rd(n);for(const t of n.fu)e.Xo(t.mutations)}),aM.apply(this,arguments)}function Nz(n,e,t){return lM.apply(this,arguments)}function lM(){return lM=(0,De.Z)(function*(n,e,t){const i=n.fu.shift(),r=xA.from(i,e,t);yield uV(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Qm(n)}),lM.apply(this,arguments)}function Fz(n,e){return cM.apply(this,arguments)}function cM(){return cM=(0,De.Z)(function*(n,e){var t;e&&rd(n).Yo&&(yield(t=(0,De.Z)(function*(i,r){if(WF(a=r.code)&&a!==pe.ABORTED){const c=i.fu.shift();rd(i).Mo(),yield uV(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield Qm(i)}var a}),function(i,r){return t.apply(this,arguments)})(n,e)),dV(n)&&hV(n)}),cM.apply(this,arguments)}function fV(n,e){return uM.apply(this,arguments)}function uM(){return uM=(0,De.Z)(function*(n,e){const t=it(n);t.asyncQueue.verifyOperationInProgress(),$e("RemoteStore","RemoteStore received new credentials");const i=pc(t);t._u.add(3),yield Ym(t),i&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield dv(t)}),uM.apply(this,arguments)}function dM(n,e){return hM.apply(this,arguments)}function hM(){return hM=(0,De.Z)(function*(n,e){const t=it(n);e?(t._u.delete(2),yield dv(t)):e||(t._u.add(2),yield Ym(t),t.gu.set("Unknown"))}),hM.apply(this,arguments)}function Xm(n){return n.pu||(n.pu=function(e,t,i){const r=it(e);return r.su(),new Ez(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(n.datastore,n.asyncQueue,{Yr:Tz.bind(null,n),Zr:Az.bind(null,n),Wo:Mz.bind(null,n)}),n.wu.push(function(){var e=(0,De.Z)(function*(t){t?(n.pu.Mo(),eM(n)?JA(n):n.gu.set("Unknown")):(yield n.pu.stop(),cV(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function rd(n){return n.Iu||(n.Iu=function(e,t,i){const r=it(e);return r.su(),new Cz(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(n.datastore,n.asyncQueue,{Yr:kz.bind(null,n),Zr:Fz.bind(null,n),tu:Pz.bind(null,n),Zo:Nz.bind(null,n)}),n.wu.push(function(){var e=(0,De.Z)(function*(t){t?(n.Iu.Mo(),yield Qm(n)):(yield n.Iu.stop(),n.fu.length>0&&($e("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class fM{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,i,r,a){const c=Date.now()+i,f=new fM(e,t,c,r,a);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Le(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jm(n,e){if(Fi("AsyncQueue",`${e}: ${n}`),Wu(n))return new Le(pe.UNAVAILABLE,`${e}: ${n}`);throw n}class eg{constructor(e){this.comparator=e?(t,i)=>e(t,i)||et.comparator(t.key,i.key):(t,i)=>et.comparator(t.key,i.key),this.keyedMap=Zy(),this.sortedSet=new Ti(this.comparator)}static emptySet(e){return new eg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof eg)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new eg;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class pV{constructor(){this.Tu=new Ti(et.comparator)}track(e){const t=e.doc.key,i=this.Tu.get(t);i?0!==e.type&&3===i.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==i.type?this.Tu=this.Tu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Tu=this.Tu.remove(t):1===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):dt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,i)=>{e.push(i)}),e}}class tg{constructor(e,t,i,r,a,c,f,_,w){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=_,this.hasCachedResults=w}static fromInitialDocuments(e,t,i,r,a){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new tg(e,t,eg.emptySet(t),c,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class Lz{constructor(){this.Au=void 0,this.listeners=[]}}class Vz{constructor(){this.queries=new Ju(e=>RF(e),qy),this.onlineState="Unknown",this.Ru=new Set}}function pM(n,e){return mM.apply(this,arguments)}function mM(){return mM=(0,De.Z)(function*(n,e){const t=it(n),i=e.query;let r=!1,a=t.queries.get(i);if(a||(r=!0,a=new Lz),r)try{a.Au=yield t.onListen(i)}catch(c){const f=Jm(c,`Initialization of query '${_A(e.query)}' failed`);return void e.onError(f)}t.queries.set(i,a),a.listeners.push(e),e.bu(t.onlineState),a.Au&&e.Pu(a.Au)&&yM(t)}),mM.apply(this,arguments)}function gM(n,e){return _M.apply(this,arguments)}function _M(){return _M=(0,De.Z)(function*(n,e){const t=it(n),i=e.query;let r=!1;const a=t.queries.get(i);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),r=0===a.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),_M.apply(this,arguments)}function Bz(n,e){const t=it(n);let i=!1;for(const r of e){const c=t.queries.get(r.query);if(c){for(const f of c.listeners)f.Pu(r)&&(i=!0);c.Au=r}}i&&yM(t)}function Uz(n,e,t){const i=it(n),r=i.queries.get(e);if(r)for(const a of r.listeners)a.onError(t);i.queries.delete(e)}function yM(n){n.Ru.forEach(e=>{e.next()})}class vM{constructor(e,t,i){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new tg(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=tg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class jz{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class mV{constructor(e){this.yt=e}Ji(e){return dl(this.yt,e)}Yi(e){return e.metadata.exists?lL(this.yt,e.document,!1):oi.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Li(e)}}class Hz{constructor(e,t,i){this.Mu=e,this.localStore=t,this.yt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=gV(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const i=En.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,i=new mV(this.yt);for(const r of e)if(r.metadata.queries){const a=i.Ji(r.metadata.name);for(const c of r.metadata.queries){const f=(t.get(c)||rn()).add(a);t.set(c,f)}}return t}complete(){var e=this;return(0,De.Z)(function*(){const t=yield function gz(n,e,t,i){return HA.apply(this,arguments)}(e.localStore,new mV(e.yt),e.documents,e.Mu.id),i=e.$u(e.documents);for(const r of e.queries)yield _z(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function gV(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class _V{constructor(e){this.key=e}}class yV{constructor(e){this.key=e}}class vV{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=rn(),this.mutatedKeys=rn(),this.Gu=kF(e),this.Qu=new eg(this.Gu)}get ju(){return this.qu}Wu(e,t){const i=t?t.zu:new pV,r=t?t.Qu:this.Qu;let a=t?t.mutatedKeys:this.mutatedKeys,c=r,f=!1;const _="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,w="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((D,S)=>{const N=r.get(D),U=yA(this.query,S)?S:null,$=!!N&&this.mutatedKeys.has(N.key),ee=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let de=!1;N&&U?N.data.isEqual(U.data)?$!==ee&&(i.track({type:3,doc:U}),de=!0):this.Hu(N,U)||(i.track({type:2,doc:U}),de=!0,(_&&this.Gu(U,_)>0||w&&this.Gu(U,w)<0)&&(f=!0)):!N&&U?(i.track({type:0,doc:U}),de=!0):N&&!U&&(i.track({type:1,doc:N}),de=!0,(_||w)&&(f=!0)),de&&(U?(c=c.add(U),a=ee?a.add(D):a.delete(D)):(c=c.delete(D),a=a.delete(D)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const D="F"===this.query.limitType?c.last():c.first();c=c.delete(D.key),a=a.delete(D.key),i.track({type:1,doc:D})}return{Qu:c,zu:i,$i:f,mutatedKeys:a}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const a=e.zu.Eu();a.sort((w,D)=>function(S,N){const U=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt()}};return U(S)-U(N)}(w.type,D.type)||this.Gu(w.doc,D.doc)),this.Ju(i);const c=t?this.Yu():[],f=0===this.Ku.size&&this.current?1:0,_=f!==this.Uu;return this.Uu=f,0!==a.length||_?{snapshot:new tg(this.query,e.Qu,r,a,e.mutatedKeys,0===f,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:c}:{Xu:c}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new pV,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=rn(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const t=[];return e.forEach(i=>{this.Ku.has(i)||t.push(new yV(i))}),this.Ku.forEach(i=>{e.has(i)||t.push(new _V(i))}),t}tc(e){this.qu=e.Hi,this.Ku=rn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return tg.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class $z{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class zz{constructor(e){this.key=e,this.nc=!1}}class Gz{constructor(e,t,i,r,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.sc={},this.ic=new Ju(f=>RF(f),qy),this.rc=new Map,this.oc=new Set,this.uc=new Ti(et.comparator),this.cc=new Map,this.ac=new NA,this.hc={},this.lc=new Map,this.fc=vf.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function qz(n,e){return bM.apply(this,arguments)}function bM(){return bM=(0,De.Z)(function*(n,e){const t=$M(n);let i,r;const a=t.ic.get(e);if(a)i=a.targetId,t.sharedClientState.addLocalQueryTarget(i),r=a.view.ec();else{const c=yield Km(t.localStore,vo(e));t.isPrimaryClient&&DC(t.remoteStore,c);const f=t.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield wM(t,e,i,"current"===f,c.resumeToken)}return r}),bM.apply(this,arguments)}function wM(n,e,t,i,r){return EM.apply(this,arguments)}function EM(){return EM=(0,De.Z)(function*(n,e,t,i,r){n._c=(S,N,U)=>{return($=(0,De.Z)(function*(ee,de,Qe,at){let bt=de.view.Wu(Qe);bt.$i&&(bt=yield bC(ee.localStore,de.query,!1).then(({documents:$t})=>de.view.Wu($t,bt)));const yt=at&&at.targetChanges.get(de.targetId),Vt=de.view.applyChanges(bt,ee.isPrimaryClient,yt);return OM(ee,de.targetId,Vt.Xu),Vt.snapshot}),function(ee,de,Qe,at){return $.apply(this,arguments)})(n,S,N,U);var $};const a=yield bC(n.localStore,e,!0),c=new vV(e,a.Hi),f=c.Wu(a.documents),_=Xy.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),w=c.applyChanges(f,n.isPrimaryClient,_);OM(n,t,w.Xu);const D=new $z(e,t,c);return n.ic.set(e,D),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),w.snapshot}),EM.apply(this,arguments)}function Wz(n,e){return CM.apply(this,arguments)}function CM(){return CM=(0,De.Z)(function*(n,e){const t=it(n),i=t.ic.get(e),r=t.rc.get(i.targetId);if(r.length>1)return t.rc.set(i.targetId,r.filter(a=>!qy(a,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Zm(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),hv(t.remoteStore,i.targetId),ng(t,i.targetId)}).catch(qu))):(ng(t,i.targetId),yield Zm(t.localStore,i.targetId,!0))}),CM.apply(this,arguments)}function DM(){return DM=(0,De.Z)(function*(n,e,t){const i=zM(n);try{const r=yield function(a,c){const f=it(a),_=pi.now(),w=c.reduce((N,U)=>N.add(U.key),rn());let D,S;return f.persistence.runTransaction("Locally write mutations","readwrite",N=>{let U=jo(),$=rn();return f.Gi.getEntries(N,w).next(ee=>{U=ee,U.forEach((de,Qe)=>{Qe.isValidDocument()||($=$.add(de))})}).next(()=>f.localDocuments.getOverlayedDocuments(N,U)).next(ee=>{D=ee;const de=[];for(const Qe of c){const at=n$(Qe,D.get(Qe.key).overlayedDocument);null!=at&&de.push(new fc(Qe.key,at,xF(at.value.mapValue),mi.exists(!0)))}return f.mutationQueue.addMutationBatch(N,_,de,c)}).next(ee=>{S=ee;const de=ee.applyToLocalDocumentSet(D,$);return f.documentOverlayCache.saveOverlays(N,ee.batchId,de)})}).then(()=>({batchId:S.batchId,changes:YF(D)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,c,f){let _=a.hc[a.currentUser.toKey()];_||(_=new Ti(Xt)),_=_.insert(c,f),a.hc[a.currentUser.toKey()]=_}(i,r.batchId,t),yield mc(i,r.changes),yield Qm(i.remoteStore)}catch(r){const a=Jm(r,"Failed to persist write");t.reject(a)}}),DM.apply(this,arguments)}function bV(n,e){return IM.apply(this,arguments)}function IM(){return IM=(0,De.Z)(function*(n,e){const t=it(n);try{const i=yield pz(t.localStore,e);e.targetChanges.forEach((r,a)=>{const c=t.cc.get(a);c&&(Ct(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.nc=!0:r.modifiedDocuments.size>0?Ct(c.nc):r.removedDocuments.size>0&&(Ct(c.nc),c.nc=!1))}),yield mc(t,i,e)}catch(i){yield qu(i)}}),IM.apply(this,arguments)}function wV(n,e,t){const i=it(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ic.forEach((a,c)=>{const f=c.view.bu(e);f.snapshot&&r.push(f.snapshot)}),function(a,c){const f=it(a);f.onlineState=c;let _=!1;f.queries.forEach((w,D)=>{for(const S of D.listeners)S.bu(c)&&(_=!0)}),_&&yM(f)}(i.eventManager,e),r.length&&i.sc.Wo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Zz(n,e,t){return xM.apply(this,arguments)}function xM(){return xM=(0,De.Z)(function*(n,e,t){const i=it(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.cc.get(e),a=r&&r.key;if(a){let c=new Ti(et.comparator);c=c.insert(a,oi.newNoDocument(a,Ot.min()));const f=rn().add(a),_=new Qy(Ot.min(),new Map,new Hn(Xt),c,f);yield bV(i,_),i.uc=i.uc.remove(a),i.cc.delete(e),kM(i)}else yield Zm(i.localStore,e,!1).then(()=>ng(i,e,t)).catch(qu)}),xM.apply(this,arguments)}function Yz(n,e){return SM.apply(this,arguments)}function SM(){return SM=(0,De.Z)(function*(n,e){const t=it(n),i=e.batch.batchId;try{const r=yield fz(t.localStore,e);RM(t,i,null),MM(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield mc(t,r)}catch(r){yield qu(r)}}),SM.apply(this,arguments)}function Qz(n,e,t){return TM.apply(this,arguments)}function TM(){return TM=(0,De.Z)(function*(n,e,t){const i=it(n);try{const r=yield function(a,c){const f=it(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return f.mutationQueue.lookupMutationBatch(_,c).next(D=>(Ct(null!==D),w=D.keys(),f.mutationQueue.removeMutationBatch(_,D))).next(()=>f.mutationQueue.performConsistencyCheck(_)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(_,w,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>f.localDocuments.getDocuments(_,w))})}(i.localStore,e);RM(i,e,t),MM(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield mc(i,r)}catch(r){yield qu(r)}}),TM.apply(this,arguments)}function AM(){return AM=(0,De.Z)(function*(n,e){const t=it(n);pc(t.remoteStore)||$e("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const c=it(a);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>c.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===i)return void e.resolve();const r=t.lc.get(i)||[];r.push(e),t.lc.set(i,r)}catch(i){const r=Jm(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),AM.apply(this,arguments)}function MM(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function RM(n,e,t){const i=it(n);let r=i.hc[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.hc[i.currentUser.toKey()]=r}}function ng(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.rc.get(e))n.ic.delete(i),t&&n.sc.wc(i,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(i=>{n.ac.containsKey(i)||EV(n,i)})}function EV(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(hv(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),kM(n))}function OM(n,e,t){for(const i of t)i instanceof _V?(n.ac.addReference(i.key,e),Jz(n,i)):i instanceof yV?($e("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,e),n.ac.containsKey(i.key)||EV(n,i.key)):dt()}function Jz(n,e){const t=e.key,i=t.path.canonicalString();n.uc.get(t)||n.oc.has(i)||($e("SyncEngine","New document in limbo: "+t),n.oc.add(i),kM(n))}function kM(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new et(En.fromString(e)),i=n.fc.next();n.cc.set(i,new zz(t)),n.uc=n.uc.insert(t,i),DC(n.remoteStore,new ed(vo(Vm(t.path)),i,2,as.at))}}function mc(n,e,t){return PM.apply(this,arguments)}function PM(){return PM=(0,De.Z)(function*(n,e,t){const i=it(n),r=[],a=[],c=[];var f;i.ic.isEmpty()||(i.ic.forEach((f,_)=>{c.push(i._c(_,e,t).then(w=>{if((w||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,w?.fromCache?"not-current":"current"),w){r.push(w);const D=BA.Ci(_.targetId,w);a.push(D)}}))}),yield Promise.all(c),i.sc.Wo(r),yield(f=(0,De.Z)(function*(_,w){const D=it(_);try{yield D.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ce.forEach(w,N=>ce.forEach(N.Si,U=>D.persistence.referenceDelegate.addReference(S,N.targetId,U)).next(()=>ce.forEach(N.Di,U=>D.persistence.referenceDelegate.removeReference(S,N.targetId,U)))))}catch(S){if(!Wu(S))throw S;$e("LocalStore","Failed to update sequence numbers: "+S)}for(const S of w){const N=S.targetId;if(!S.fromCache){const U=D.qi.get(N),ee=U.withLastLimboFreeSnapshotVersion(U.snapshotVersion);D.qi=D.qi.insert(N,ee)}}}),function(_,w){return f.apply(this,arguments)})(i.localStore,a))}),PM.apply(this,arguments)}function eG(n,e){return NM.apply(this,arguments)}function NM(){return NM=(0,De.Z)(function*(n,e){const t=it(n);if(!t.currentUser.isEqual(e)){$e("SyncEngine","User change. New user:",e.toKey());const i=yield YL(t.localStore,e);t.currentUser=e,(r=t).lc.forEach(c=>{c.forEach(f=>{f.reject(new Le(pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.lc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield mc(t,i.ji)}var r}),NM.apply(this,arguments)}function tG(n,e){const t=it(n),i=t.cc.get(e);if(i&&i.nc)return rn().add(i.key);{let r=rn();const a=t.rc.get(e);if(!a)return r;for(const c of a){const f=t.ic.get(c);r=r.unionWith(f.view.ju)}return r}}function nG(n,e){return FM.apply(this,arguments)}function FM(){return FM=(0,De.Z)(function*(n,e){const t=it(n),i=yield bC(t.localStore,e.query,!0),r=e.view.tc(i);return t.isPrimaryClient&&OM(t,e.targetId,r.Xu),r}),FM.apply(this,arguments)}function iG(n,e){return LM.apply(this,arguments)}function LM(){return LM=(0,De.Z)(function*(n,e){const t=it(n);return eV(t.localStore,e).then(i=>mc(t,i))}),LM.apply(this,arguments)}function rG(n,e,t,i){return VM.apply(this,arguments)}function VM(){return VM=(0,De.Z)(function*(n,e,t,i){const r=it(n),a=yield function(c,f){const _=it(c),w=it(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",D=>w.Tn(D,f).next(S=>S?_.localDocuments.getDocuments(D,S):ce.resolve(null)))}(r.localStore,e);var f;null!==a?("pending"===t?yield Qm(r.remoteStore):"acknowledged"===t||"rejected"===t?(RM(r,e,i||null),MM(r,e),f=e,it(it(r.localStore).mutationQueue).An(f)):dt(),yield mc(r,a)):$e("SyncEngine","Cannot apply mutation batch with id: "+e)}),VM.apply(this,arguments)}function BM(){return BM=(0,De.Z)(function*(n,e){const t=it(n);if($M(t),zM(t),!0===e&&!0!==t.dc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield CV(t,i.toArray());t.dc=!0,yield dM(t.remoteStore,!0);for(const a of r)DC(t.remoteStore,a)}else if(!1===e&&!1!==t.dc){const i=[];let r=Promise.resolve();t.rc.forEach((a,c)=>{t.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(ng(t,c),Zm(t.localStore,c,!0))),hv(t.remoteStore,c)}),yield r,yield CV(t,i),function(a){const c=it(a);c.cc.forEach((f,_)=>{hv(c.remoteStore,_)}),c.ac.fs(),c.cc=new Map,c.uc=new Ti(et.comparator)}(t),t.dc=!1,yield dM(t.remoteStore,!1)}}),BM.apply(this,arguments)}function CV(n,e,t){return UM.apply(this,arguments)}function UM(){return UM=(0,De.Z)(function*(n,e,t){const i=it(n),r=[],a=[];for(const c of e){let f;const _=i.rc.get(c);if(_&&0!==_.length){f=yield Km(i.localStore,vo(_[0]));for(const w of _){const D=i.ic.get(w),S=yield nG(i,D);S.snapshot&&a.push(S.snapshot)}}else{const w=yield JL(i.localStore,c);f=yield Km(i.localStore,w),yield wM(i,DV(w),c,!1,f.resumeToken)}r.push(f)}return i.sc.Wo(a),r}),UM.apply(this,arguments)}function DV(n){return AF(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function sG(n){const e=it(n);return it(it(e.localStore).persistence).vi()}function aG(n,e,t,i){return jM.apply(this,arguments)}function jM(){return jM=(0,De.Z)(function*(n,e,t,i){const r=it(n);if(r.dc)return void $e("SyncEngine","Ignoring unexpected query state notification.");const a=r.rc.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const c=yield eV(r.localStore,OF(a[0])),f=Qy.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,sr.EMPTY_BYTE_STRING);yield mc(r,c,f);break}case"rejected":yield Zm(r.localStore,e,!0),ng(r,e,i);break;default:dt()}}),jM.apply(this,arguments)}function lG(n,e,t){return HM.apply(this,arguments)}function HM(){return HM=(0,De.Z)(function*(n,e,t){const i=$M(n);if(i.dc){for(const r of e){if(i.rc.has(r)){$e("SyncEngine","Adding an already active target "+r);continue}const a=yield JL(i.localStore,r),c=yield Km(i.localStore,a);yield wM(i,DV(a),c.targetId,!1,c.resumeToken),DC(i.remoteStore,c)}for(const r of t)i.rc.has(r)&&(yield Zm(i.localStore,r,!1).then(()=>{hv(i.remoteStore,r),ng(i,r)}).catch(qu))}}),HM.apply(this,arguments)}function $M(n){const e=it(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=bV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Zz.bind(null,e),e.sc.Wo=Bz.bind(null,e.eventManager),e.sc.wc=Uz.bind(null,e.eventManager),e}function zM(n){const e=it(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Yz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Qz.bind(null,e),e}class IV{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,De.Z)(function*(){t.yt=uv(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return ZL(this.persistence,new KL,e.initialUser,this.yt)}yc(e){return new qL(yC.Bs,this.yt)}gc(e){return new rV}terminate(){var e=this;return(0,De.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class xV extends IV{constructor(e,t,i){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,De.Z)(function*(){yield t().call(i,e),yield i.Ac.initialize(i,e),yield zM(i.Ac.syncEngine),yield Qm(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return ZL(this.persistence,new KL,e.initialUser,this.yt)}Tc(e,t){return new X$(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const i=new FH(t,this.persistence);return new NH(e.asyncQueue,i)}yc(e){const t=VA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Ho.withCacheSize(this.cacheSizeBytes):Ho.DEFAULT;return new LA(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,sV(),CC(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new rV}}class uG extends xV{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,De.Z)(function*(){yield t().call(i,e);const r=i.Ac.syncEngine;i.sharedClientState instanceof WA&&(i.sharedClientState.syncEngine={Fr:rG.bind(null,r),$r:aG.bind(null,r),Br:lG.bind(null,r),vi:sG.bind(null,r),Mr:iG.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var a=(0,De.Z)(function*(c){yield function oG(n,e){return BM.apply(this,arguments)}(i.Ac.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return a.apply(this,arguments)}}())})()}gc(e){const t=sV();if(!WA.C(t))throw new Le(pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=VA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new WA(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class GM{initialize(e,t){var i=this;return(0,De.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>wV(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=eG.bind(null,i.syncEngine),yield dM(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Vz}createDatastore(e){const t=uv(e.databaseInfo.databaseId),i=new wz(e.databaseInfo);return new Dz(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,a=f=>wV(this.syncEngine,f,0),c=oV.C()?new oV:new yz,new Sz(t,i,r,a,c);var t,i,r,a,c}createSyncEngine(e,t){return function(i,r,a,c,f,_,w){const D=new Gz(i,r,a,c,f,_);return w&&(D.dc=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,De.Z)(function*(t){const i=it(t);$e("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield Ym(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function qM(n,e,t){if(!t)throw new Le(pe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function SV(n,e,t,i){if(!0===e&&!0===i)throw new Le(pe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function TV(n){if(!et.isDocumentKey(n))throw new Le(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function AV(n){if(et.isDocumentKey(n))throw new Le(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function xC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":dt()}function yn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Le(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=xC(n);throw new Le(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function MV(n,e){if(e<=0)throw new Le(pe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const RV=new Map;class OV{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Le(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Le(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,SV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fv{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OV({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Le(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Le(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OV(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new CH;switch(t.type){case"gapi":return new SH(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Le(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=RV.get(e);t&&($e("ComponentProvider","Removing Datastore"),RV.delete(e),t.terminate())}(this),Promise.resolve()}}class si{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new si(this.firestore,e,this._key)}}class Vr{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Vr(this.firestore,e,this._query)}}class fl extends Vr{constructor(e,t,i){super(e,t,Vm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new si(this.firestore,null,new et(e))}withConverter(e){return new fl(this.firestore,e,this._path)}}function PV(n,e,...t){if(n=(0,An.m9)(n),qM("collection","path",e),n instanceof fv){const i=En.fromString(e,...t);return AV(i),new fl(n,null,i)}{if(!(n instanceof si||n instanceof fl))throw new Le(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(En.fromString(e,...t));return AV(i),new fl(n.firestore,null,i)}}function SC(n,e,...t){if(n=(0,An.m9)(n),1===arguments.length&&(e=QN.R()),qM("doc","path",e),n instanceof fv){const i=En.fromString(e,...t);return TV(i),new si(n,null,new et(i))}{if(!(n instanceof si||n instanceof fl))throw new Le(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(En.fromString(e,...t));return TV(i),new si(n.firestore,n instanceof fl?n.converter:null,new et(i))}}function NV(n,e){return n=(0,An.m9)(n),e=(0,An.m9)(e),(n instanceof si||n instanceof fl)&&(e instanceof si||e instanceof fl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function WM(n,e){return n=(0,An.m9)(n),e=(0,An.m9)(e),n instanceof Vr&&e instanceof Vr&&n.firestore===e.firestore&&qy(n._query,e._query)&&n.converter===e.converter}function FV(n,e=10240){let t=0;return{read:()=>(0,De.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,De.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class TC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Fi("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class hG{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new or,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.ku)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,De.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,De.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,De.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const i=e.vc.decode(t),r=Number(i);isNaN(r)&&e.Dc(`length string (${i}) is not valid number`);const a=yield e.Cc(r);return new jz(JSON.parse(a),t.length+r)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,De.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Cc(e){var t=this;return(0,De.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const i=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,De.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class mG{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,De.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Le(pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,De.Z)(function*(a,c){const f=it(a),_=ev(f.yt)+"/documents",w={documents:c.map(U=>Jy(f.yt,U))},D=yield f._o("BatchGetDocuments",_,w,c.length),S=new Map;D.forEach(U=>{const $=function p$(n,e){return"found"in e?function(t,i){Ct(!!i.found);const r=dl(t,i.found.name),a=Li(i.found.updateTime),c=i.found.createTime?Li(i.found.createTime):Ot.min(),f=new Lr({mapValue:{fields:i.found.fields}});return oi.newFoundDocument(r,a,c,f)}(n,e):"missing"in e?function(t,i){Ct(!!i.missing),Ct(!!i.readTime);const r=dl(t,i.missing),a=Li(i.readTime);return oi.newNoDocument(r,a)}(n,e):dt()}(f.yt,U);S.set($.key.toString(),$)});const N=[];return c.forEach(U=>{const $=S.get(U.toString());Ct(!!$),N.push($)}),N}),function(a,c){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Hm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,De.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const a=et.fromPath(r);e.mutations.push(new vA(a,e.precondition(a)))}),yield(i=(0,De.Z)(function*(r,a){const c=it(r),f=ev(c.yt)+"/documents",_={writes:a.map(w=>tv(c.yt,w))};yield c.ao("Commit",f,_)}),function(r,a){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw dt();t=Ot.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Le(pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ot.min())?mi.exists(!1):mi.updateTime(t):mi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ot.min()))throw new Le(pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return mi.updateTime(t)}return mi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class gG{constructor(e,t,i,r,a){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=a,this.kc=i.maxAttempts,this.xo=new KA(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,De.Z)(function*(){const t=new mG(e.datastore),i=e.Mc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(a=>{e.Fc(a)}))}).catch(r=>{e.Fc(r)})}))}Mc(e){try{const t=this.updateFunction(e);return!By(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!WF(t)}return!1}}class _G{constructor(e,t,i,r){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=br.UNAUTHENTICATED,this.clientId=QN.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,De.Z)(function*(f){$e("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>($e("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,De.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Le(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Jm(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function LV(n,e){return KM.apply(this,arguments)}function KM(){return KM=(0,De.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),$e("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,De.Z)(function*(a){i.isEqual(a)||(yield YL(e.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),KM.apply(this,arguments)}function VV(n,e){return ZM.apply(this,arguments)}function ZM(){return ZM=(0,De.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield YM(n);$e("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>fV(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>fV(e.remoteStore,a)),n.onlineComponents=e}),ZM.apply(this,arguments)}function YM(n){return QM.apply(this,arguments)}function QM(){return QM=(0,De.Z)(function*(n){return n.offlineComponents||($e("FirestoreClient","Using default OfflineComponentProvider"),yield LV(n,new IV)),n.offlineComponents}),QM.apply(this,arguments)}function AC(n){return XM.apply(this,arguments)}function XM(){return XM=(0,De.Z)(function*(n){return n.onlineComponents||($e("FirestoreClient","Using default OnlineComponentProvider"),yield VV(n,new GM)),n.onlineComponents}),XM.apply(this,arguments)}function BV(n){return YM(n).then(e=>e.persistence)}function MC(n){return YM(n).then(e=>e.localStore)}function JM(n){return AC(n).then(e=>e.remoteStore)}function eR(n){return AC(n).then(e=>e.syncEngine)}function ig(n){return tR.apply(this,arguments)}function tR(){return tR=(0,De.Z)(function*(n){const e=yield AC(n),t=e.eventManager;return t.onListen=qz.bind(null,e.syncEngine),t.onUnlisten=Wz.bind(null,e.syncEngine),t}),tR.apply(this,arguments)}function jV(n,e,t={}){const i=new or;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(r,a,c,f,_){const w=new TC({next:S=>{a.enqueueAndForget(()=>gM(r,D));const N=S.docs.has(c);!N&&S.fromCache?_.reject(new Le(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&S.fromCache&&f&&"server"===f.source?_.reject(new Le(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(S)},error:S=>_.reject(S)}),D=new vM(Vm(c.path),w,{includeMetadataChanges:!0,Nu:!0});return pM(r,D)}(yield ig(n),n.asyncQueue,e,t,i)})),i.promise}function HV(n,e,t={}){const i=new or;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(r,a,c,f,_){const w=new TC({next:S=>{a.enqueueAndForget(()=>gM(r,D)),S.fromCache&&"server"===f.source?_.reject(new Le(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(S)},error:S=>_.reject(S)}),D=new vM(c,w,{includeMetadataChanges:!0,Nu:!0});return pM(r,D)}(yield ig(n),n.asyncQueue,e,t,i)})),i.promise}class IG{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new KA(this,"async_queue_retry"),this.Wc=()=>{const t=CC();t&&$e("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=CC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=CC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new or;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,De.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Wu(t))throw t;$e("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(i=>{throw this.Kc=i,this.Gc=!1,Fi("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=t,t}enqueueAfterDelay(e,t,i){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const r=fM.createAndSchedule(this,e,t,i,a=>this.Yc(a));return this.Uc.push(r),r}zc(){this.Kc&&dt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,De.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function nR(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class xG{constructor(){this._progressObserver={},this._taskCompletionResolver=new or,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ai extends fv{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new IG,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||$V(this),this._firestoreClient.terminate()}}function Vi(n){return n._firestoreClient||$V(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function $V(n){var e;const t=n._freezeSettings(),i=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new LH(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new _G(n._authCredentials,n._appCheckCredentials,n._queue,i)}function zV(n,e,t){const i=new or;return n.asyncQueue.enqueue((0,De.Z)(function*(){try{yield LV(n,t),yield VV(n,e),i.resolve()}catch(r){const a=r;if(!("FirebaseError"===(c=a).name?c.code===pe.FAILED_PRECONDITION||c.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw a;tf("Error enabling offline persistence. Falling back to persistence disabled: "+a),i.reject(a)}var c})).then(()=>i.promise)}function GV(n){if(n._initialized||n._terminated)throw new Le(pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class pl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pl(sr.fromBase64String(e))}catch(t){throw new Le(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new pl(sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class gc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Le(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class wf{constructor(e){this._methodName=e}}class RC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Le(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Le(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xt(this._lat,e._lat)||Xt(this._long,e._long)}}const FG=/^__.*__$/;class LG{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new fc(e,this.data,this.fieldMask,t,this.fieldTransforms):new jm(e,this.data,t,this.fieldTransforms)}}class qV{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new fc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function WV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt()}}class OC{constructor(e,t,i,r,a,c){this.settings=e,this.databaseId=t,this.yt=i,this.ignoreUndefinedProperties=r,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new OC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:i,oa:!1});return r.ua(e),r}ca(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:i,oa:!1});return r.na(),r}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return NC(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(WV(this.sa)&&FG.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class VG{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=i||uv(e)}da(e,t,i,r=!1){return new OC({sa:e,methodName:t,fa:i,path:xi.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Ef(n){const e=n._freezeSettings(),t=uv(n._databaseId);return new VG(n._databaseId,!!e.ignoreUndefinedProperties,t)}function kC(n,e,t,i,r,a={}){const c=n.da(a.merge||a.mergeFields?2:0,e,t,r);sR("Data must be an object, but it was:",c,i);const f=YV(i,c);let _,w;if(a.merge)_=new ls(c.fieldMask),w=c.fieldTransforms;else if(a.mergeFields){const D=[];for(const S of a.mergeFields){const N=aR(e,S,t);if(!c.contains(N))throw new Le(pe.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);XV(D,N)||D.push(N)}_=new ls(D),w=c.fieldTransforms.filter(S=>_.covers(S.field))}else _=null,w=c.fieldTransforms;return new LG(new Lr(f),_,w)}class pv extends wf{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pv}}function KV(n,e,t){return new OC({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class iR extends wf{_toFieldTransform(e){return new Wy(e.path,new Bm)}isEqual(e){return e instanceof iR}}class BG extends wf{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=KV(this,e,!0),i=this._a.map(a=>Cf(a,t)),r=new hf(i);return new Wy(e.path,r)}isEqual(e){return this===e}}class UG extends wf{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=KV(this,e,!0),i=this._a.map(a=>Cf(a,t)),r=new ff(i);return new Wy(e.path,r)}isEqual(e){return this===e}}class jG extends wf{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Um(e.yt,FF(e.yt,this.wa));return new Wy(e.path,t)}isEqual(e){return this===e}}function rR(n,e,t,i){const r=n.da(1,e,t);sR("Data must be an object, but it was:",r,i);const a=[],c=Lr.empty();sf(i,(_,w)=>{const D=PC(e,_,t);w=(0,An.m9)(w);const S=r.ca(D);if(w instanceof pv)a.push(D);else{const N=Cf(w,S);null!=N&&(a.push(D),c.set(D,N))}});const f=new ls(a);return new qV(c,f,r.fieldTransforms)}function oR(n,e,t,i,r,a){const c=n.da(1,e,t),f=[aR(e,i,t)],_=[r];if(a.length%2!=0)throw new Le(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<a.length;N+=2)f.push(aR(e,a[N])),_.push(a[N+1]);const w=[],D=Lr.empty();for(let N=f.length-1;N>=0;--N)if(!XV(w,f[N])){const U=f[N];let $=_[N];$=(0,An.m9)($);const ee=c.ca(U);if($ instanceof pv)w.push(U);else{const de=Cf($,ee);null!=de&&(w.push(U),D.set(U,de))}}const S=new ls(w);return new qV(D,S,c.fieldTransforms)}function ZV(n,e,t,i=!1){return Cf(t,n.da(i?4:3,e))}function Cf(n,e){if(QV(n=(0,An.m9)(n)))return sR("Unsupported field value:",e,n),YV(n,e);if(n instanceof wf)return function(t,i){if(!WV(i.sa))throw i.ha(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,i){const r=[];let a=0;for(const c of t){let f=Cf(c,i.aa(a));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),a++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,An.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return FF(i.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=pi.fromDate(t);return{timestampValue:$m(i.yt,r)}}if(t instanceof pi){const r=new pi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:$m(i.yt,r)}}if(t instanceof RC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof pl)return{bytesValue:iL(i.yt,t._byteString)};if(t instanceof si){const r=i.databaseId,a=t.firestore._databaseId;if(!a.isEqual(r))throw i.ha(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:bA(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ha(`Unsupported field value: ${xC(t)}`)}(n,e)}function YV(n,e){const t={};return oF(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sf(n,(i,r)=>{const a=Cf(r,e.ra(i));null!=a&&(t[i]=a)}),{mapValue:{fields:t}}}function QV(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof pi||n instanceof RC||n instanceof pl||n instanceof si||n instanceof wf)}function sR(n,e,t){if(!QV(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=xC(t);throw e.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function aR(n,e,t){if((e=(0,An.m9)(e))instanceof gc)return e._internalPath;if("string"==typeof e)return PC(n,e);throw NC("Field path arguments must be of type string or ",n,!1,void 0,t)}const HG=new RegExp("[~\\*/\\[\\]]");function PC(n,e,t){if(e.search(HG)>=0)throw NC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new gc(...e.split("."))._internalPath}catch{throw NC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function NC(n,e,t,i,r){const a=i&&!i.isEmpty(),c=void 0!==r;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||c)&&(_+=" (found",a&&(_+=` in field ${i}`),c&&(_+=` in document ${r}`),_+=")"),new Le(pe.INVALID_ARGUMENT,f+n+_)}function XV(n,e){return n.some(t=>t.isEqual(e))}class mv{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new si(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new $G(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(FC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class $G extends mv{data(){return super.data()}}function FC(n,e){return"string"==typeof e?PC(n,e):e instanceof gc?e._internalPath:e._delegate._internalPath}function JV(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Le(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lR{}class gv extends lR{}function od(n,e,...t){let i=[];e instanceof lR&&i.push(e),i=i.concat(t),function(r){const a=r.filter(f=>f instanceof rg).length,c=r.filter(f=>f instanceof _v).length;if(a>1||a>0&&c>0)throw new Le(pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class _v extends gv{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new _v(e,t,i)}_apply(e){const t=this._parse(e);return r2(e._query,t),new Vr(e.firestore,e.converter,gA(e._query,t))}_parse(e){const t=Ef(e.firestore);return function(r,a,c,f,_,w,D){let S;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Le(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){n2(D,w);const N=[];for(const U of D)N.push(t2(f,r,U));S={arrayValue:{values:N}}}else S=t2(f,r,D)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||n2(D,w),S=ZV(c,"where",D,"in"===w||"not-in"===w);return _n.create(_,w,S)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class rg extends lR{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new rg(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Vn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let a=i;const c=r.getFlattenedFilters();for(const f of c)r2(a,f),a=gA(a,f)}(e._query,t),new Vr(e.firestore,e.converter,gA(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class cR extends gv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new cR(e,t)}_apply(e){const t=function(i,r,a){if(null!==i.startAt)throw new Le(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Le(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Fm(r,a);return function(f,_){if(null===pA(f)){const w=nC(f);null!==w&&o2(0,w,_.field)}}(i,c),c}(e._query,this._field,this._direction);return new Vr(e.firestore,e.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new hc(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class LC extends gv{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new LC(e,t,i)}_apply(e){return new Vr(e.firestore,e.converter,iC(e._query,this._limit,this._limitType))}}class VC extends gv{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new VC(e,t,i)}_apply(e){const t=e2(e,this.type,this._docOrFields,this._inclusive);return new Vr(e.firestore,e.converter,(r=t,new hc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class BC extends gv{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new BC(e,t,i)}_apply(e){const t=e2(e,this.type,this._docOrFields,this._inclusive);return new Vr(e.firestore,e.converter,(r=t,new hc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function e2(n,e,t,i){if(t[0]=(0,An.m9)(t[0]),t[0]instanceof mv)return function(r,a,c,f,_){if(!f)throw new Le(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const w=[];for(const D of df(r))if(D.field.isKeyField())w.push(cf(a,f.key));else{const S=f.data.field(D.field);if(cA(S))throw new Le(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+D.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const N=D.field.canonicalString();throw new Le(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${N}' (used as the orderBy) does not exist.`)}w.push(S)}return new Xu(w,_)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Ef(n.firestore);return function(a,c,f,_,w,D){const S=a.explicitOrderBy;if(w.length>S.length)throw new Le(pe.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const N=[];for(let U=0;U<w.length;U++){const $=w[U];if(S[U].field.isKeyField()){if("string"!=typeof $)throw new Le(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof $}`);if(!mA(a)&&-1!==$.indexOf("/"))throw new Le(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${$}' contains a slash.`);const ee=a.path.child(En.fromString($));if(!et.isDocumentKey(ee))throw new Le(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ee}' is not because it contains an odd number of segments.`);const de=new et(ee);N.push(cf(c,de))}else{const ee=ZV(f,_,$);N.push(ee)}}return new Xu(N,D)}(n._query,n.firestore._databaseId,r,e,t,i)}}function t2(n,e,t){if("string"==typeof(t=(0,An.m9)(t))){if(""===t)throw new Le(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mA(e)&&-1!==t.indexOf("/"))throw new Le(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(En.fromString(t));if(!et.isDocumentKey(i))throw new Le(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return cf(n,new et(i))}if(t instanceof si)return cf(n,t._key);throw new Le(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xC(t)}.`)}function n2(n,e){if(!Array.isArray(n)||0===n.length)throw new Le(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Le(pe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function r2(n,e){if(e.isInequality()){const i=nC(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new Le(pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const a=pA(n);null!==a&&o2(0,r,a)}const t=function(i,r){for(const a of i)for(const c of a.getFlattenedFilters())if(r.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Le(pe.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function o2(n,e,t){if(!t.isEqual(e))throw new Le(pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class uR{convertValue(e,t="none"){switch(lf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Si(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(af(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw dt()}}convertObject(e,t){const i={};return sf(e.fields,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertGeoPoint(e){return new RC(Si(e.latitude),Si(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=aF(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(jy(e));default:return null}}convertTimestamp(e){const t=Zu(e);return new pi(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=En.fromString(e);Ct(fL(i));const r=new Ku(i.get(1),i.get(3)),a=new et(i.popFirst(5));return r.isEqual(t)||Fi(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function UC(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class XG extends uR{constructor(e){super(),this.firestore=e}convertBytes(e){return new pl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new si(this.firestore,null,t)}}class Df{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _c extends mv{constructor(e,t,i,r,a,c){super(e,t,i,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new yv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(FC("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class yv extends _c{data(e={}){return super.data(e)}}class sd{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Df(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new yv(this._firestore,this._userDataWriter,i.key,i,new Df(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Le(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new yv(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Df(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const f=new yv(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Df(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,w=-1;return 0!==c.type&&(_=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),w=a.indexOf(c.doc.key)),{type:JG(c.type),doc:f,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function JG(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt()}}function a2(n,e){return n instanceof _c&&e instanceof _c?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof sd&&e instanceof sd&&n._firestore===e._firestore&&WM(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class ad extends uR{constructor(e){super(),this.firestore=e}convertBytes(e){return new pl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new si(this.firestore,null,t)}}function l2(n,e,t){n=yn(n,si);const i=yn(n.firestore,ai),r=UC(n.converter,e,t);return og(i,[kC(Ef(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,mi.none())])}function c2(n,e,t,...i){n=yn(n,si);const r=yn(n.firestore,ai),a=Ef(r);let c;return c="string"==typeof(e=(0,An.m9)(e))||e instanceof gc?oR(a,"updateDoc",n._key,e,t,i):rR(a,"updateDoc",n._key,e),og(r,[c.toMutation(n._key,mi.exists(!0))])}function u2(n,...e){var t,i,r;n=(0,An.m9)(n);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||nR(e[c])||(a=e[c],c++);const f={includeMetadataChanges:a.includeMetadataChanges};if(nR(e[c])){const S=e[c];e[c]=null===(t=S.next)||void 0===t?void 0:t.bind(S),e[c+1]=null===(i=S.error)||void 0===i?void 0:i.bind(S),e[c+2]=null===(r=S.complete)||void 0===r?void 0:r.bind(S)}let _,w,D;if(n instanceof si)w=yn(n.firestore,ai),D=Vm(n._key.path),_={next:S=>{e[c]&&e[c](dR(w,n,S))},error:e[c+1],complete:e[c+2]};else{const S=yn(n,Vr);w=yn(S.firestore,ai),D=S._query;const N=new ad(w);_={next:U=>{e[c]&&e[c](new sd(w,N,S,U))},error:e[c+1],complete:e[c+2]},JV(n._query)}return function(S,N,U,$){const ee=new TC($),de=new vM(N,ee,U);return S.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return pM(yield ig(S),de)})),()=>{ee.bc(),S.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return gM(yield ig(S),de)}))}}(Vi(w),D,f,_)}function og(n,e){return function(t,i){const r=new or;return t.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function Kz(n,e,t){return DM.apply(this,arguments)}(yield eR(t),i,r)})),r.promise}(Vi(n),e)}function dR(n,e,t){const i=t.docs.get(e._key),r=new ad(n);return new _c(n,r,e._key,i,new Df(t.hasPendingWrites,t.fromCache),e.converter)}const u3={maxAttempts:5};class d2{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ef(e)}set(e,t,i){this._verifyNotCommitted();const r=ld(e,this._firestore),a=UC(r.converter,t,i),c=kC(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,mi.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const a=ld(e,this._firestore);let c;return c="string"==typeof(t=(0,An.m9)(t))||t instanceof gc?oR(this._dataReader,"WriteBatch.update",a._key,t,i,r):rR(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(c.toMutation(a._key,mi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ld(e,this._firestore);return this._mutations=this._mutations.concat(new Hm(t._key,mi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Le(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ld(n,e){if((n=(0,An.m9)(n)).firestore!==e)throw new Le(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class d3 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ef(e)}get(e){const t=ld(e,this._firestore),i=new XG(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return dt();const a=r[0];if(a.isFoundDocument())return new mv(this._firestore,i,a.key,a,t.converter);if(a.isNoDocument())return new mv(this._firestore,i,t._key,null,t.converter);throw dt()})}set(e,t,i){const r=ld(e,this._firestore),a=UC(r.converter,t,i),c=kC(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(e,t,i,...r){const a=ld(e,this._firestore);let c;return c="string"==typeof(t=(0,An.m9)(t))||t instanceof gc?oR(this._dataReader,"Transaction.update",a._key,t,i,r):rR(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,c),this}delete(e){const t=ld(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ld(e,this._firestore),i=new ad(this._firestore);return super.get(e).then(r=>new _c(this._firestore,i,t._key,r._document,new Df(!1,!1),t.converter))}}function hR(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Le("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function f2(){if(typeof Uint8Array>"u")throw new Le("unimplemented","Uint8Arrays are not available in this environment.")}function p2(){if(!function VH(){return typeof atob<"u"}())throw new Le("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Om=Yh.SDK_VERSION,(0,Yh._registerComponent)(new bE.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const a=t.getProvider("app").getImmediate(),c=new ai(new IH(t.getProvider("auth-internal")),new TH(t.getProvider("app-check-internal")),function(f,_){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Le(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ku(f.options.projectId,_)}(a,i),a);return r=Object.assign({useFetchStreams:e},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),(0,Yh.registerVersion)(KN,"3.8.0",n),(0,Yh.registerVersion)(KN,"3.8.0","esm2017")}();class vv{constructor(e){this._delegate=e}static fromBase64String(e){return p2(),new vv(pl.fromBase64String(e))}static fromUint8Array(e){return f2(),new vv(pl.fromUint8Array(e))}toBase64(){return p2(),this._delegate.toBase64()}toUint8Array(){return f2(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function fR(n){return function b3(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class w3{enableIndexedDbPersistence(e,t){return function TG(n,e){GV(n=yn(n,ai));const t=Vi(n),i=n._freezeSettings(),r=new GM;return zV(t,r,new xV(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function AG(n){GV(n=yn(n,ai));const e=Vi(n),t=n._freezeSettings(),i=new GM;return zV(e,i,new uG(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function MG(n){if(n._initialized&&!n._terminated)throw new Le(pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new or;return n._queue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{yield(t=(0,De.Z)(function*(i){if(!ya.C())return Promise.resolve();const r=i+"main";yield ya.delete(r)}),function(i){return t.apply(this,arguments)})(VA(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class m2{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ku||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&tf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function kV(n,e,t,i={}){var r;const a=(n=yn(n,fv))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&tf("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let c,f;if("string"==typeof i.mockUserToken)c=i.mockUserToken,f=br.MOCK_USER;else{c=(0,An.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Le(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new br(_)}n._authCredentials=new DH(new ZN(c,f))}}(this._delegate,e,t,i)}enableNetwork(){return function OG(n){return function yG(n){return n.asyncQueue.enqueue((0,De.Z)(function*(){const e=yield BV(n),t=yield JM(n);return e.setNetworkEnabled(!0),function(i){const r=it(i);return r._u.delete(0),dv(r)}(t)}))}(Vi(n=yn(n,ai)))}(this._delegate)}disableNetwork(){return function kG(n){return function vG(n){return n.asyncQueue.enqueue((0,De.Z)(function*(){const e=yield BV(n),t=yield JM(n);return e.setNetworkEnabled(!1),(i=(0,De.Z)(function*(r){const a=it(r);a._u.add(0),yield Ym(a),a.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(Vi(n=yn(n,ai)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,SV("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function RG(n){return function(e){const t=new or;return e.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function Xz(n,e){return AM.apply(this,arguments)}(yield eR(e),t)})),t.promise}(Vi(n=yn(n,ai)))}(this._delegate)}onSnapshotsInSync(e){return function c3(n,e){return function EG(n,e){const t=new TC(e);return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return i=yield ig(n),r=t,it(i).Ru.add(r),void r.next();var i,r})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return i=yield ig(n),r=t,void it(i).Ru.delete(r);var i,r}))}}(Vi(n=yn(n,ai)),nR(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Le("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new sg(this,PV(this._delegate,e))}catch(t){throw wo(t,"collection()","Firestore.collection()")}}doc(e){try{return new Fs(this,SC(this._delegate,e))}catch(t){throw wo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Eo(this,function dG(n,e){if(n=yn(n,fv),qM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Le(pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Vr(n,null,(t=e,new hc(En.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw wo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function h3(n,e,t){n=yn(n,ai);const i=Object.assign(Object.assign({},u3),t);return function(r){if(r.maxAttempts<1)throw new Le(pe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,a,c){const f=new or;return r.asyncQueue.enqueueAndForget((0,De.Z)(function*(){const _=yield function UV(n){return AC(n).then(e=>e.datastore)}(r);new gG(r.asyncQueue,_,c,a,f).run()})),f.promise}(Vi(n),r=>e(new d3(n,r)),i)}(this._delegate,t=>e(new g2(this,t)))}batch(){return Vi(this._delegate),new _2(new d2(this._delegate,e=>og(this._delegate,e)))}loadBundle(e){return function PG(n,e){const t=Vi(n=yn(n,ai)),i=new xG;return function CG(n,e,t,i){const r=function(a,c){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,w){if(_ instanceof Uint8Array)return FV(_,w);if(_ instanceof ArrayBuffer)return FV(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new hG(_,c);var _}(t,uv(e));n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){!function cG(n,e,t){const i=it(n);var r;(r=(0,De.Z)(function*(a,c,f){try{const _=yield c.getMetadata();if(yield function(N,U){const $=it(N),ee=Li(U.createTime);return $.persistence.runTransaction("hasNewerBundle","readonly",de=>$.Ns.getBundleMetadata(de,U.id)).then(de=>!!de&&de.createTime.compareTo(ee)>=0)}(a.localStore,_))return yield c.close(),f._completeWith({taskState:"Success",documentsLoaded:(N=_).totalDocuments,bytesLoaded:N.totalBytes,totalDocuments:N.totalDocuments,totalBytes:N.totalBytes}),Promise.resolve(new Set);f._updateProgress(gV(_));const w=new Hz(_,a.localStore,c.yt);let D=yield c.mc();for(;D;){const N=yield w.Fu(D);N&&f._updateProgress(N),D=yield c.mc()}const S=yield w.complete();return yield mc(a,S.Lu,void 0),yield function(N,U){const $=it(N);return $.persistence.runTransaction("Save bundle","readwrite",ee=>$.Ns.saveBundleMetadata(ee,U))}(a.localStore,_),f._completeWith(S.progress),Promise.resolve(S.Bu)}catch(_){return tf("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var N}),function(a,c,f){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield eR(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function NG(n,e){return function DG(n,e){return n.asyncQueue.enqueue((0,De.Z)(function*(){return function(t,i){const r=it(t);return r.persistence.runTransaction("Get named query","readonly",a=>r.Ns.getNamedQuery(a,i))}(yield MC(n),e)}))}(Vi(n=yn(n,ai)),e).then(t=>t?new Vr(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Eo(this,t):null)}}class jC extends uR{constructor(e){super(),this.firestore=e}convertBytes(e){return new vv(new pl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Fs.forKey(t,this.firestore,null)}}class g2{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new jC(e)}get(e){const t=xf(e);return this._delegate.get(t).then(i=>new bv(this._firestore,new _c(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=xf(e);return i?(hR("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=xf(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=xf(e);return this._delegate.delete(t),this}}class _2{constructor(e){this._delegate=e}set(e,t,i){const r=xf(e);return i?(hR("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=xf(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=xf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class If{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new yv(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new wv(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=If.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let a=r.get(t);return a||(a=new If(e,new jC(e),t),r.set(t,a)),a}}If.INSTANCES=new WeakMap;class Fs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new jC(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Le("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Fs(t,new si(t._delegate,i,new et(e)))}static forKey(e,t,i){return new Fs(t,new si(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new sg(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new sg(this.firestore,PV(this._delegate,e))}catch(t){throw wo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,An.m9)(e))instanceof si&&NV(this._delegate,e)}set(e,t){t=hR("DocumentReference.set",t);try{return t?l2(this._delegate,e,t):l2(this._delegate,e)}catch(i){throw wo(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?c2(this._delegate,e):c2(this._delegate,e,t,...i)}catch(r){throw wo(r,"updateDoc()","DocumentReference.update()")}}delete(){return function a3(n){return og(yn(n.firestore,ai),[new Hm(n._key,mi.none())])}(this._delegate)}onSnapshot(...e){const t=y2(e),i=v2(e,r=>new bv(this.firestore,new _c(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return u2(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function t3(n){n=yn(n,si);const e=yn(n.firestore,ai),t=Vi(e),i=new ad(e);return function bG(n,e){const t=new or;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(i=(0,De.Z)(function*(r,a,c){try{const f=yield function(_,w){const D=it(_);return D.persistence.runTransaction("read document","readonly",S=>D.localDocuments.getDocument(S,w))}(r,a);f.isFoundDocument()?c.resolve(f):f.isNoDocument()?c.resolve(null):c.reject(new Le(pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=Jm(f,`Failed to get document '${a} from cache`);c.reject(_)}}),function(r,a,c){return i.apply(this,arguments)})(yield MC(n),e,t);var i})),t.promise}(t,n._key).then(r=>new _c(e,i,n._key,r,new Df(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function n3(n){n=yn(n,si);const e=yn(n.firestore,ai);return jV(Vi(e),n._key,{source:"server"}).then(t=>dR(e,n,t))}(this._delegate):function e3(n){n=yn(n,si);const e=yn(n.firestore,ai);return jV(Vi(e),n._key).then(t=>dR(e,n,t))}(this._delegate),t.then(i=>new bv(this.firestore,new _c(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Fs(this.firestore,this._delegate.withConverter(e?If.getInstance(this.firestore,e):null))}}function wo(n,e,t){return n.message=n.message.replace(e,t),n}function y2(n){for(const e of n)if("object"==typeof e&&!fR(e))return e;return{}}function v2(n,e){var t,i;let r;return r=fR(n[0])?n[0]:fR(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(e(a))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class bv{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Fs(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return a2(this._delegate,e._delegate)}}class wv extends bv{data(e){const t=this._delegate.data(e);return function EH(n,e){n||dt()}(void 0!==t),t}}class Eo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new jC(e)}where(e,t,i){try{return new Eo(this.firestore,od(this._delegate,function zG(n,e,t){const i=e,r=FC("where",n);return _v._create(r,i,t)}(e,t,i)))}catch(r){throw wo(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Eo(this.firestore,od(this._delegate,function GG(n,e="asc"){const t=e,i=FC("orderBy",n);return cR._create(i,t)}(e,t)))}catch(i){throw wo(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Eo(this.firestore,od(this._delegate,function qG(n){return MV("limit",n),LC._create("limit",n,"F")}(e)))}catch(t){throw wo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Eo(this.firestore,od(this._delegate,function WG(n){return MV("limitToLast",n),LC._create("limitToLast",n,"L")}(e)))}catch(t){throw wo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Eo(this.firestore,od(this._delegate,function KG(...n){return VC._create("startAt",n,!0)}(...e)))}catch(t){throw wo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Eo(this.firestore,od(this._delegate,function ZG(...n){return VC._create("startAfter",n,!1)}(...e)))}catch(t){throw wo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Eo(this.firestore,od(this._delegate,function YG(...n){return BC._create("endBefore",n,!1)}(...e)))}catch(t){throw wo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Eo(this.firestore,od(this._delegate,function QG(...n){return BC._create("endAt",n,!0)}(...e)))}catch(t){throw wo(t,"endAt()","Query.endAt()")}}isEqual(e){return WM(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function o3(n){n=yn(n,Vr);const e=yn(n.firestore,ai),t=Vi(e),i=new ad(e);return function wG(n,e){const t=new or;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(i=(0,De.Z)(function*(r,a,c){try{const f=yield bC(r,a,!0),_=new vV(a,f.Hi),w=_.Wu(f.documents),D=_.applyChanges(w,!1);c.resolve(D.snapshot)}catch(f){const _=Jm(f,`Failed to execute query '${a} against cache`);c.reject(_)}}),function(r,a,c){return i.apply(this,arguments)})(yield MC(n),e,t);var i})),t.promise}(t,n._query).then(r=>new sd(e,i,n,r))}(this._delegate):"server"===e?.source?function s3(n){n=yn(n,Vr);const e=yn(n.firestore,ai),t=Vi(e),i=new ad(e);return HV(t,n._query,{source:"server"}).then(r=>new sd(e,i,n,r))}(this._delegate):function r3(n){n=yn(n,Vr);const e=yn(n.firestore,ai),t=Vi(e),i=new ad(e);return JV(n._query),HV(t,n._query).then(r=>new sd(e,i,n,r))}(this._delegate),t.then(i=>new pR(this.firestore,new sd(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=y2(e),i=v2(e,r=>new pR(this.firestore,new sd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return u2(this._delegate,t,i)}withConverter(e){return new Eo(this.firestore,this._delegate.withConverter(e?If.getInstance(this.firestore,e):null))}}class C3{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new wv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class pR{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Eo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new wv(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new C3(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new wv(this._firestore,i))})}isEqual(e){return a2(this._delegate,e._delegate)}}class sg extends Eo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Fs(this.firestore,e):null}doc(e){try{return new Fs(this.firestore,void 0===e?SC(this._delegate):SC(this._delegate,e))}catch(t){throw wo(t,"doc()","CollectionReference.doc()")}}add(e){return function l3(n,e){const t=yn(n.firestore,ai),i=SC(n),r=UC(n.converter,e);return og(t,[kC(Ef(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,mi.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Fs(this.firestore,t))}isEqual(e){return NV(this._delegate,e._delegate)}withConverter(e){return new sg(this.firestore,this._delegate.withConverter(e?If.getInstance(this.firestore,e):null))}}function xf(n){return yn(n,si)}class mR{constructor(...e){this._delegate=new gc(...e)}static documentId(){return new mR(xi.keyField().canonicalString())}isEqual(e){return(e=(0,An.m9)(e))instanceof gc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Sf{constructor(e){this._delegate=e}static serverTimestamp(){const e=function p3(){return new iR("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Sf(e)}static delete(){const e=function f3(){return new pv("deleteField")}();return e._methodName="FieldValue.delete",new Sf(e)}static arrayUnion(...e){const t=function m3(...n){return new BG("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Sf(t)}static arrayRemove(...e){const t=function g3(...n){return new UG("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Sf(t)}static increment(e){const t=function _3(n){return new jG("increment",n)}(e);return t._methodName="FieldValue.increment",new Sf(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const D3={Firestore:m2,GeoPoint:RC,Timestamp:pi,Blob:vv,Transaction:g2,WriteBatch:_2,DocumentReference:Fs,DocumentSnapshot:bv,Query:Eo,QueryDocumentSnapshot:wv,QuerySnapshot:pR,CollectionReference:sg,FieldPath:mR,FieldValue:Sf,setLogLevel:function E3(n){!function wH(n){Gu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function x3(n){(function I3(n,e){n.INTERNAL.registerComponent(new bE.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},D3)))})(n,(e,t)=>new m2(e,t,new w3)),n.registerVersion("@firebase/firestore-compat","0.3.0")}(yj.Z);var Ev=k(5363),S3=k(6063);class T3 extends dn.x{constructor(e=1/0,t=1/0,i=S3.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:c}=this;t||(i.push(e),!r&&i.push(a.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let c=0;c<a.length&&!e.closed;c+=i?1:2)e.next(a[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*e;if(e<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const c=t.now();let f=0;for(let _=1;_<i.length&&i[_]<=c;_+=2)f=_;f&&i.splice(0,f+1)}}}var b2=k(3099);function gR(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,b2.B)({connector:()=>new T3(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function w2(n,e){return(0,ho.m)(e)?qn(()=>n,e):qn(()=>n)}var _R=k(9468);k(259);const vR=new Map,C2={activated:!1,tokenObservers:[]},k3={initialized:!1,enabled:!1};function Br(n){return vR.get(n)||Object.assign({},C2)}function HC(){return k3}class B3{constructor(e,t,i,r,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,De.Z)(function*(){t.stop();try{t.pending=new An.BH,yield function U3(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new An.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Co=new An.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function I2(n){if(!Br(n).activated)throw Co.create("use-before-activation",{appName:n.name})}function ER(n,e){return CR.apply(this,arguments)}function CR(){return CR=(0,De.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const S=yield r.getHeartbeatsHeader();S&&(i["X-Firebase-Client"]=S)}const a={method:"POST",body:JSON.stringify(e),headers:i};let c,f;try{c=yield fetch(n,a)}catch(S){throw Co.create("fetch-network-error",{originalErrorMessage:S?.message})}if(200!==c.status)throw Co.create("fetch-status-error",{httpStatus:c.status});try{f=yield c.json()}catch(S){throw Co.create("fetch-parse-error",{originalErrorMessage:S?.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw Co.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const w=1e3*Number(_[1]),D=Date.now();return{token:f.token,expireTimeMillis:D+w,issuedAtTimeMillis:D}}),CR.apply(this,arguments)}function z3(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const Dv="firebase-app-check-store";let GC=null;function S2(){return GC||(GC=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Co.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Dv,{keyPath:"compositeKey"})}}catch(t){e(Co.create("storage-open",{originalErrorMessage:t?.message}))}}),GC)}function DR(){return DR=(0,De.Z)(function*(n,e){const i=(yield S2()).transaction(Dv,"readwrite"),a=i.objectStore(Dv).put({compositeKey:n,value:e});return new Promise((c,f)=>{a.onsuccess=_=>{c()},i.onerror=_=>{var w;f(Co.create("storage-set",{originalErrorMessage:null===(w=_.target.error)||void 0===w?void 0:w.message}))}})}),DR.apply(this,arguments)}const Iv=new Hu.Yd("@firebase/app-check");function SR(n,e){return(0,An.hl)()?function K3(n,e){return function T2(n,e){return DR.apply(this,arguments)}(function M2(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Iv.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function R2(){return HC().enabled}function O2(){return AR.apply(this,arguments)}function AR(){return AR=(0,De.Z)(function*(){const n=HC();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),AR.apply(this,arguments)}const e4={error:"UNKNOWN_ERROR"};function t4(n){return An.US.encodeString(JSON.stringify(n),!1)}function qC(n){return MR.apply(this,arguments)}function MR(){return MR=(0,De.Z)(function*(n,e=!1){const t=n.app;I2(t);const i=Br(t);let a,r=i.token;if(r&&!ag(r)&&(i.token=void 0,r=void 0),!r){const _=yield i.cachedTokenPromise;_&&(ag(_)?r=_:yield SR(t,void 0))}if(!e&&r&&ag(r))return{token:r.token};let f,c=!1;if(R2()){i.exchangeTokenPromise||(i.exchangeTokenPromise=ER(z3(t,yield O2()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);const _=yield i.exchangeTokenPromise;return yield SR(t,_),i.token=_,{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),r=yield Br(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?Iv.warn(_.message):Iv.error(_),a=_}return r?a?f=ag(r)?{token:r.token,internalError:a}:N2(a):(f={token:r.token},i.token=r,yield SR(t,r)):f=N2(a),c&&P2(t,f),f}),MR.apply(this,arguments)}function OR(n,e){const t=Br(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function k2(n){const{app:e}=n,t=Br(e);let i=t.tokenRefresher;i||(i=function n4(n){const{app:e}=n;return new B3((0,De.Z)(function*(){let i;if(i=Br(e).token?yield qC(n,!0):yield qC(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Br(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function P2(n,e){const t=Br(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function ag(n){return n.expireTimeMillis-Date.now()>0}function N2(n){return{token:t4(e4),error:n}}class i4{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Br(this.app);for(const t of e)OR(this.app,t.next);return Promise.resolve()}}const $2="app-check-internal";!function _4(){(0,Yh._registerComponent)(new bE.wA("app-check",n=>function r4(n,e){return new i4(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider($2).initialize()})),(0,Yh._registerComponent)(new bE.wA($2,n=>function o4(n){return{getToken:e=>qC(n,e),addTokenListener:e=>function RR(n,e,t,i){const{app:r}=n,a=Br(r);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:i,type:e}],a.token&&ag(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),k2(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>k2(n))}(n,"INTERNAL",e),removeTokenListener:e=>OR(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Yh.registerVersion)("@firebase/app-check","0.6.0")}();class FR{constructor(){return(0,ri.vb)("app-check")}}typeof window<"u"&&window;var KC=k(9260);const G2=new u.OlP("angularfire2.auth.use-emulator"),q2=new u.OlP("angularfire2.auth.settings"),W2=new u.OlP("angularfire2.auth.tenant-id"),K2=new u.OlP("angularfire2.auth.langugage-code"),Z2=new u.OlP("angularfire2.auth.use-device-language"),Y2=new u.OlP("angularfire.auth.persistence"),Q2=(n,e,t,i,r,a,c,f)=>(0,_o.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),i&&(_.tenantId=i),_.languageCode=r,a&&_.useDeviceLanguage(),c)for(const[w,D]of Object.entries(c))_.settings[w]=D;return f&&_.setPersistence(f),_},[t,i,r,a,c,f]);let VR=(()=>{class n{constructor(t,i,r,a,c,f,_,w,D,S,N,U){const $=new dn.x,ee=Xe(void 0).pipe((0,Ev.Q)(c.outsideAngular),qn(()=>a.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,9169)))),(0,ct.U)(()=>(0,_o.on)(t,a,i)),(0,ct.U)(de=>Q2(de,a,f,w,D,S,_,N)),gR({bufferSize:1,refCount:!1}));if(Ec(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Xe(null);else{ee.pipe(po()).subscribe();const Qe=ee.pipe(qn(yt=>yt.getRedirectResult().then(Vt=>Vt,()=>null)),ri.iC,gR({bufferSize:1,refCount:!1})),at=ee.pipe(qn(yt=>new Oi.y(Vt=>({unsubscribe:a.runOutsideAngular(()=>yt.onAuthStateChanged($t=>Vt.next($t),$t=>Vt.error($t),()=>Vt.complete()))})))),bt=ee.pipe(qn(yt=>new Oi.y(Vt=>({unsubscribe:a.runOutsideAngular(()=>yt.onIdTokenChanged($t=>Vt.next($t),$t=>Vt.error($t),()=>Vt.complete()))}))));this.authState=Qe.pipe(w2(at),(0,_R.R)(c.outsideAngular),(0,Ev.Q)(c.insideAngular)),this.user=Qe.pipe(w2(bt),(0,_R.R)(c.outsideAngular),(0,Ev.Q)(c.insideAngular)),this.idToken=this.user.pipe(qn(yt=>yt?(0,en.D)(yt.getIdToken()):Xe(null))),this.idTokenResult=this.user.pipe(qn(yt=>yt?(0,en.D)(yt.getIdTokenResult()):Xe(null))),this.credential=(0,nl.T)(Qe,$,this.authState.pipe(ii(yt=>!yt))).pipe((0,ct.U)(yt=>yt?.user?yt:null),(0,_R.R)(c.outsideAngular),(0,Ev.Q)(c.insideAngular))}return(0,_o.pX)(this,ee,a,{spy:{apply:(de,Qe,at)=>{(de.startsWith("signIn")||de.startsWith("createUser"))&&at.then(bt=>$.next(bt))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(_o.Dh),u.LFG(_o.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(ri.HU),u.LFG(G2,8),u.LFG(q2,8),u.LFG(W2,8),u.LFG(K2,8),u.LFG(Z2,8),u.LFG(Y2,8),u.LFG(FR,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function X2(n,e){return function C4(n,e=zp.z){return new Oi.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function BR(n,e){return X2(n,e).pipe((0,ct.U)(t=>({payload:t,type:"query"})))}function ZC(n,e){return BR(n,e).pipe(Xs(void 0),vE(),(0,ct.U)(([t,i])=>{const r=i.payload.docChanges(),a=r.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,f)=>{const _=r.find(D=>D.doc.ref.isEqual(c.ref)),w=t?.payload.docs.find(D=>D.ref.isEqual(c.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(c.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(c.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:c}})}),a}))}function J2(n,e,t){return ZC(n,t).pipe(Kc((i,r)=>function I4(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function x4(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return UR(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return UR(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return UR(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),e),[]),nm(),(0,ct.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function UR(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function eB(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class tB{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=ZC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ct.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Xs(void 0),vE(),ii(([i,r])=>r.length>0||!i),(0,ct.U)(([i,r])=>r),ri.iC)}auditTrail(e){return this.stateChanges(e).pipe(Kc((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=eB(e);return J2(this.query,t,this.afs.schedulers.outsideAngular).pipe(ri.iC)}valueChanges(e={}){return BR(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),ri.iC)}get(e){return(0,en.D)(this.query.get(e)).pipe(ri.iC)}add(e){return this.ref.add(e)}doc(e){return new nB(this.ref.doc(e),this.afs)}}class nB{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:a}=oB(i,t);return new tB(r,a,this.afs)}snapshotChanges(){return function D4(n,e){return X2(n,e).pipe(Xs(void 0),vE(),(0,ct.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ri.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ct.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,en.D)(this.ref.get(e)).pipe(ri.iC)}}class S4{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?ZC(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),ii(t=>t.length>0),ri.iC):ZC(this.query,this.afs.schedulers.outsideAngular).pipe(ri.iC)}auditTrail(e){return this.stateChanges(e).pipe(Kc((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=eB(e);return J2(this.query,t,this.afs.schedulers.outsideAngular).pipe(ri.iC)}valueChanges(e={}){return BR(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),ri.iC)}get(e){return(0,en.D)(this.query.get(e)).pipe(ri.iC)}}const iB=new u.OlP("angularfire2.enableFirestorePersistence"),rB=new u.OlP("angularfire2.firestore.persistenceSettings"),T4=new u.OlP("angularfire2.firestore.settings"),A4=new u.OlP("angularfire2.firestore.use-emulator");function oB(n,e=(t=>t)){return{query:e(n),ref:n}}let jR=(()=>{class n{constructor(t,i,r,a,c,f,_,w,D,S,N,U,$,ee,de,Qe,at){this.schedulers=_;const bt=(0,_o.on)(t,f,i),yt=D;S&&Q2(bt,f,N,$,ee,de,U,Qe),[this.firestore,this.persistenceEnabled$]=(0,_o.cc)(`${bt.name}.firestore`,"AngularFirestore",bt.name,()=>{const Vt=f.runOutsideAngular(()=>bt.firestore());if(a&&Vt.settings(a),yt&&Vt.useEmulator(...yt),r&&!Ec(c)){const $t=()=>{try{return(0,en.D)(Vt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(vn){return typeof console<"u"&&console.warn(vn),Xe(!1)}};return[Vt,f.runOutsideAngular($t)]}return[Vt,Xe(!1)]},[a,yt,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:c}=oB(r,i),f=this.schedulers.ngZone.run(()=>a);return new tB(f,c,this)}collectionGroup(t,i){const r=i||(c=>c),a=this.firestore.collectionGroup(t);return new S4(r(a),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new nB(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(_o.Dh),u.LFG(_o.xv,8),u.LFG(iB,8),u.LFG(T4,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(ri.HU),u.LFG(rB,8),u.LFG(A4,8),u.LFG(VR,8),u.LFG(G2,8),u.LFG(q2,8),u.LFG(W2,8),u.LFG(K2,8),u.LFG(Z2,8),u.LFG(Y2,8),u.LFG(FR,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),M4=(()=>{class n{constructor(){KC.Z.registerVersion("angularfire",ri.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:iB,useValue:!0},{provide:rB,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[jR]}),n})();class HR{}class cd{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),a=r.toLowerCase(),c=t.slice(i+1).trim();this.maybeSetNormalizedName(r,a),this.headers.has(a)?this.headers.get(a).push(c):this.headers.set(a,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof cd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new cd;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof cd?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const a=e.value;if(a){let c=this.headers.get(t);if(!c)return;c=c.filter(f=>-1===a.indexOf(f)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class R4{encodeKey(e){return aB(e)}encodeValue(e){return aB(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const k4=/%(\d[a-f0-9])/gi,P4={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function aB(n){return encodeURIComponent(n).replace(k4,(e,t)=>P4[t]??e)}function YC(n){return`${n}`}class ud{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new R4,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function O4(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const a=r.indexOf("="),[c,f]=-1==a?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,a)),e.decodeValue(r.slice(a+1))],_=t.get(c)||[];_.push(f),t.set(c,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(YC):[YC(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(a=>{t.push({param:i,value:a,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new ud({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(YC(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(YC(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class N4{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function lB(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function cB(n){return typeof Blob<"u"&&n instanceof Blob}function uB(n){return typeof FormData<"u"&&n instanceof FormData}class xv{constructor(e,t,i,r){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function F4(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new cd),this.context||(this.context=new N4),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+c}}else this.params=new ud,this.urlWithParams=t}serializeBody(){return null===this.body?null:lB(this.body)||cB(this.body)||uB(this.body)||function L4(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ud?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||uB(this.body)?null:cB(this.body)?this.body.type||null:lB(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ud?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,w=e.params||this.params;const D=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((S,N)=>S.set(N,e.setHeaders[N]),_)),e.setParams&&(w=Object.keys(e.setParams).reduce((S,N)=>S.set(N,e.setParams[N]),w)),new xv(t,i,a,{params:w,headers:_,context:D,reportProgress:f,responseType:r,withCredentials:c})}}var Ur=(()=>((Ur=Ur||{})[Ur.Sent=0]="Sent",Ur[Ur.UploadProgress=1]="UploadProgress",Ur[Ur.ResponseHeader=2]="ResponseHeader",Ur[Ur.DownloadProgress=3]="DownloadProgress",Ur[Ur.Response=4]="Response",Ur[Ur.User=5]="User",Ur))();class V4{constructor(e,t=200,i="OK"){this.headers=e.headers||new cd,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class $R extends V4{constructor(e={}){super(e),this.type=Ur.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new $R({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function zR(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let GR=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let a;if(t instanceof xv)a=t;else{let _,w;_=r.headers instanceof cd?r.headers:new cd(r.headers),r.params&&(w=r.params instanceof ud?r.params:new ud({fromObject:r.params})),a=new xv(t,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:w,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=Xe(a).pipe(Js(_=>this.handler.handle(_)));if(t instanceof xv||"events"===r.observe)return c;const f=c.pipe(ii(_=>_ instanceof $R));switch(r.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,ct.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,ct.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,ct.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,ct.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new ud).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,zR(r,i))}post(t,i,r={}){return this.request("POST",t,zR(r,i))}put(t,i,r={}){return this.request("PUT",t,zR(r,i))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(HR))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Q4=["*"];let XC;function Sv(n){return function X4(){if(void 0===XC&&(XC=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(XC=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return XC}()?.createHTML(n)||n}function yB(n){return Error(`Unable to find icon with the name "${n}"`)}function vB(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function bB(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Tf{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let JC=(()=>{class n{constructor(t,i,r,a){this._httpClient=t,this._sanitizer=i,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,a){return this._addSvgIconConfig(t,i,new Tf(r,null,a))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,a){const c=this._sanitizer.sanitize(u.q3G.HTML,r);if(!c)throw bB(r);const f=Sv(c);return this._addSvgIconConfig(t,i,new Tf("",f,a))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Tf(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const a=this._sanitizer.sanitize(u.q3G.HTML,i);if(!a)throw bB(i);const c=Sv(a);return this._addSvgIconSetConfig(t,new Tf("",c,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,t);if(!i)throw vB(t);const r=this._cachedIconsByUrl.get(i);return r?Xe(eD(r)):this._loadSvgIconFromConfig(new Tf(t,null)).pipe((0,Ci.b)(a=>this._cachedIconsByUrl.set(i,a)),(0,ct.U)(a=>eD(a)))}getNamedSvgIcon(t,i=""){const r=wB(i,t);let a=this._svgIconConfigs.get(r);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(i,t),a)return this._svgIconConfigs.set(r,a),this._getSvgFromConfig(a);const c=this._iconSetConfigs.get(i);return c?this._getSvgFromIconSetConfigs(t,c):Va(yB(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Xe(eD(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,ct.U)(i=>eD(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?Xe(r):Zw(i.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(Is(f=>{const w=`Loading icon set URL: ${this._sanitizer.sanitize(u.q3G.RESOURCE_URL,c.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(w)),Xe(null)})))).pipe((0,ct.U)(()=>{const c=this._extractIconWithNameFromAnySet(t,i);if(!c)throw yB(t);return c}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const a=i[r];if(a.svgText&&a.svgText.toString().indexOf(t)>-1){const c=this._svgElementFromConfig(a),f=this._extractSvgIconFromSet(c,t,a.options);if(f)return f}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Ci.b)(i=>t.svgText=i),(0,ct.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Xe(null):this._fetchIcon(t).pipe((0,Ci.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const a=t.querySelector(`[id="${i}"]`);if(!a)return null;const c=a.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,r);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),r);const f=this._svgElementFromString(Sv("<svg></svg>"));return f.appendChild(c),this._setSvgAttributes(f,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(Sv("<svg></svg>")),r=t.attributes;for(let a=0;a<r.length;a++){const{name:c,value:f}=r[a];"id"!==c&&i.setAttribute(c,f)}for(let a=0;a<t.childNodes.length;a++)t.childNodes[a].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[a].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,a=r?.withCredentials??!1;if(!this._httpClient)throw function J4(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const c=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,i);if(!c)throw vB(i);const f=this._inProgressUrlFetches.get(c);if(f)return f;const _=this._httpClient.get(c,{responseType:"text",withCredentials:a}).pipe((0,ct.U)(w=>Sv(w)),Fl(()=>this._inProgressUrlFetches.delete(c)),(0,b2.B)());return this._inProgressUrlFetches.set(c,_),_}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(wB(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const a=this._resolvers[r](i,t);if(a)return t6(a)?new Tf(a.url,null,a.options):new Tf(a,null)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(GR,8),u.LFG(Rl),u.LFG(ie,8),u.LFG(u.qLn))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function eD(n){return n.cloneNode(!0)}function wB(n,e){return n+":"+e}function t6(n){return!(!n.url||!n.options)}const n6=nS(class{constructor(n){this._elementRef=n}}),i6=new u.OlP("MAT_ICON_DEFAULT_OPTIONS"),r6=new u.OlP("mat-icon-location",{providedIn:"root",factory:function o6(){const n=(0,u.f3M)(ie),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),EB=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],s6=EB.map(n=>`[${n}]`).join(", "),a6=/^url\(['"]?#(.*?)['"]?\)$/;let l6=(()=>{class n extends n6{constructor(t,i,r,a,c,f){super(t),this._iconRegistry=i,this._location=a,this._errorHandler=c,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=fo.w0.EMPTY,f&&(f.color&&(this.color=this.defaultColor=f.color),f.fontSet&&(this.fontSet=f.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Zr(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,a)=>{r.forEach(c=>{a.setAttribute(c.name,`url('${t}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(s6),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<i.length;a++)EB.forEach(c=>{const f=i[a],_=f.getAttribute(c),w=_?_.match(a6):null;if(w){let D=r.get(f);D||(D=[],r.set(f,D)),D.push({name:c,value:w[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Rr(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${a.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(JC),u.$8M("aria-hidden"),u.Y36(r6),u.Y36(u.qLn),u.Y36(i6,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,i){2&t&&(u.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),u.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[u.qOj],ngContentSelectors:Q4,decls:1,vars:0,template:function(t,i){1&t&&(u.F$t(),u.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),c6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Qr,Qr]}),n})();class Tv{constructor(){this.playerActive=!1}}Tv.\u0275fac=function(e){return new(e||Tv)},Tv.\u0275cmp=u.Xpm({type:Tv,selectors:[["app-player"]],inputs:{name:"name",playerActive:"playerActive"},decls:5,vars:3,consts:[[1,"w-full","flex","flex-col","gap-4","my-2","py-4"],[1,"flex","items-center","bg-yellow-500","rounded-l-3xl","py-2","pl-2"],["src","assets/img/player-icon.png","alt","",1,"w-3","h-3","object-cover"],[1,"text-base","text-white","break-all","ml-4"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"img",2),u.TgZ(3,"span",3),u._uU(4),u.qZA()()()),2&e&&(u.xp6(1),u.ekj("active-player",t.playerActive),u.xp6(3),u.Oqu(t.name))},styles:[".active-player[_ngcontent-%COMP%]{background-color:brown}"]});const u6=["*"],m6=new u.OlP("MAT_CARD_CONFIG");let CB=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(m6,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(t,i){2&t&&u.ekj("mat-mdc-card-outlined","outlined"===i.appearance)("mdc-card--outlined","outlined"===i.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:u6,decls:1,vars:0,template:function(t,i){1&t&&(u.F$t(),u.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),DB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),n})(),IB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),n})(),S6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Qr,Wo,Qr]}),n})();class Av{constructor(){this.cardAction=[{title:"Waterfall",description:"Everyone has to start drinking at the same time. As soon as player 1 stops drinking, player 2 may stop drinking. Player 3 may stop as soon as player 2 stops drinking, and so on."},{title:"You",description:"You decide who drinks"},{title:"Me",description:"Congrats! Drink a shot!"},{title:"Category",description:"Come up with a category (e.g. Colors). Each player must enumerate one item from the category."},{title:"Bust a jive",description:"Player 1 makes a dance move. Player 2 repeats the dance move and adds a second one. "},{title:"Chicks",description:"All girls drink."},{title:"Heaven",description:"Put your hands up! The last player drinks!"},{title:"Mate",description:"Pick a mate. Your mate must always drink when you drink and the other way around."},{title:"Thumbmaster",description:""},{title:"Men",description:"All men drink."},{title:"Quizmaster",description:""},{title:"Never have i ever...",description:"Say something you nnever did. Everyone who did it has to drink."},{title:"Rule",description:"Make a rule. Everyone needs to drink when he breaks the rule."}],this.title="",this.description="",this.card=""}ngOnChanges(e){if(""!=this.card){let t=+this.card.split("_")[1];this.title=this.cardAction[t-1].title,this.description=this.cardAction[t-1].description}}}function T6(n,e){if(1&n&&u._UZ(0,"app-player",12),2&n){const t=e.$implicit,i=e.index,r=u.oxw();u.Q6J("name",t)("playerActive",i==r.game.currentPlayer)}}Av.\u0275fac=function(e){return new(e||Av)},Av.\u0275cmp=u.Xpm({type:Av,selectors:[["app-game-info"]],inputs:{card:"card"},features:[u.TTD],decls:5,vars:2,consts:[[1,"text-sm","text-center"],[1,"text-xs","text-center"]],template:function(e,t){1&e&&(u.TgZ(0,"mat-card")(1,"mat-card-title",0),u._uU(2),u.qZA(),u.TgZ(3,"mat-card-content",1),u._uU(4),u.qZA()()),2&e&&(u.xp6(2),u.Oqu(t.card?t.title:"Please pick a card!"),u.xp6(2),u.hij("",t.card?t.description:"Pick click on the card stack to select the next card."," "))},dependencies:[CB,IB,DB]});const A6=function(n){return{"right.px":n}};function M6(n,e){1&n&&u._UZ(0,"img",13),2&n&&u.Q6J("ngStyle",u.VKq(1,A6,5*e.index))}function R6(n,e){1&n&&u._UZ(0,"img",14),2&n&&u.MGl("src","assets/img/cards/",e.$implicit,".png",u.LSH)}function O6(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"img",15),u.NdJ("click",function(){u.CHM(t);const r=u.oxw();return u.KtG(r.takeCard())}),u.qZA()}if(2&n){const t=u.oxw();u.MGl("src","assets/img/cards/",t.game.currentCard,".png",u.LSH)}}const k6=function(){return[0,1,2,3]};class Mv{constructor(e,t,i){this.route=e,this.firestore=t,this.dialog=i,this.game=new Jg,this.gameId=""}ngOnInit(){this.newGame(),this.route.params.subscribe(e=>{console.log(e.id),this.gameId=e.id,this.firestore.collection("games").doc(this.gameId).valueChanges().subscribe(t=>{console.log("Game update",t),this.game.currentPlayer=t.currentPlayer,this.game.playerCard=t.playerCard,this.game.players=t.players,this.game.stack=t.stack,this.game.pickCardAnimation=t.pickCardAnimation,this.game.currentCard=t.currentCard})})}newGame(){this.game=new Jg}takeCard(){this.game.pickCardAnimation||(this.game.currentCard=this.game.stack.pop(),this.game.pickCardAnimation=!0,this.game.currentPlayer++,this.game.currentPlayer=this.game.currentPlayer%this.game.players.length,this.saveGame(),setTimeout(()=>{this.game.playerCard.push(this.game.currentCard),this.game.pickCardAnimation=!1,this.saveGame()},1e3))}openDialog(){this.dialog.open(_y).afterClosed().subscribe(t=>{t&&t.length>0&&(this.game.players.push(t),this.saveGame())})}saveGame(){this.firestore.collection("games").doc(this.gameId).update(this.game.toJson())}}Mv.\u0275fac=function(e){return new(e||Mv)(u.Y36(g),u.Y36(jR),u.Y36(Lh))},Mv.\u0275cmp=u.Xpm({type:Mv,selectors:[["app-game"]],decls:15,vars:6,consts:[[1,"w-full","h-full","grid","grid-cols-12","grid-rows-12","gap-1","p-2","bg-board","bg-cover"],[1,"col-start-9","col-span-4","row-start-2","row-end-11","flex","flex-col","justify-between"],[3,"name","playerActive",4,"ngFor","ngForOf"],[1,"row-start-11","row-span-2","col-start-10","col-span-3","flex","justify-center","items-center"],["mat-fab","","color","primary",3,"click"],[1,"row-start-6","row-span-5","col-start-2","col-span-5","relative","flex","justify-center","items-center"],["class","absolute w-28 h-42","src","assets/img/cards/card_cover.png",3,"ngStyle",4,"ngFor","ngForOf"],["src","assets/img/cards/card_cover.png",1,"absolute","cursor-pointer","w-28","h-42",2,"right","25px",3,"click"],["class","absolute played-card w-28 h-42",3,"src",4,"ngFor","ngForOf"],["class","absolute cursor-pointer w-28 h-42 transition-card pick-Card","style","right:25px",3,"src","click",4,"ngIf"],[1,"row-start-11","row-span-2","col-start-2","col-span-8","flex","justify-center","items-center"],[1,"w-full",3,"card"],[3,"name","playerActive"],["src","assets/img/cards/card_cover.png",1,"absolute","w-28","h-42",3,"ngStyle"],[1,"absolute","played-card","w-28","h-42",3,"src"],[1,"absolute","cursor-pointer","w-28","h-42","transition-card","pick-Card",2,"right","25px",3,"src","click"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div"),u.YNc(3,T6,1,2,"app-player",2),u.qZA()(),u.TgZ(4,"div",3)(5,"button",4),u.NdJ("click",function(){return t.openDialog()}),u.TgZ(6,"mat-icon"),u._uU(7,"add"),u.qZA()()(),u.TgZ(8,"div",5),u.YNc(9,M6,1,3,"img",6),u.TgZ(10,"img",7),u.NdJ("click",function(){return t.takeCard()}),u.qZA(),u.YNc(11,R6,1,1,"img",8),u.YNc(12,O6,1,1,"img",9),u.qZA(),u.TgZ(13,"div",10),u._UZ(14,"app-game-info",11),u.qZA()()),2&e&&(u.xp6(3),u.Q6J("ngForOf",t.game.players),u.xp6(6),u.Q6J("ngForOf",u.DdM(5,k6)),u.xp6(2),u.Q6J("ngForOf",t.game.playerCard),u.xp6(1),u.Q6J("ngIf",t.game.pickCardAnimation),u.xp6(2),u.Q6J("card",t.game.currentCard))},dependencies:[jr,Fn,ro,kS,l6,Tv,Av],styles:[".transition-card[_ngcontent-%COMP%]{transition:all 125ms ease-in-out}.transition-card[_ngcontent-%COMP%]:hover{transform:scale(1.1) translateY(-.5rem)}.pick-Card[_ngcontent-%COMP%]{transform:scale(1.2) translate(1rem) translateY(-12rem) rotate(-10deg);animation:_ngcontent-%COMP%_pick-card-animation 1s ease-in-out}@keyframes _ngcontent-%COMP%_pick-card-animation{0%{transform:scale(1)}40%{transform:scale(1.2)}60%{transform:scale(1.2)}to{transform:scale(1.2) translate(1rem) translateY(-12rem) rotate(-10deg)}}.played-card[_ngcontent-%COMP%]{right:25px;transform:scale(1.2) translate(1rem) translateY(-12rem) rotate(-10deg)}"]});class Rv{constructor(e,t){this.firestore=e,this.router=t}newGame(){this.game=new Jg,this.firestore.collection("games").add(this.game.toJson()).then(e=>{this.router.navigateByUrl("/game/"+e.id)})}}Rv.\u0275fac=function(e){return new(e||Rv)(u.Y36(jR),u.Y36(mr))},Rv.\u0275cmp=u.Xpm({type:Rv,selectors:[["app-start-screen"]],decls:10,vars:0,consts:[[1,"w-full","h-full","grid","grid-cols-8","grid-rows-8"],[1,"row-span-full","col-span-full","grid","grid-cols-8","grid-rows-8"],[1,"text-yellow-400","flex","justify-center","items-center","text-7xl","font-bold","text-center","row-start-2","row-end-5","col-span-full"],[1,"bg-gold-banner","bg-cover","bg-center","row-start-6","row-end-8","col-span-full","flex","justify-center","items-center","text-5xl","text-black","font-bold","hover:opacity-75","cursor-pointer",3,"click"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2),u._uU(3," RING"),u._UZ(4,"br"),u._uU(5,"of"),u._UZ(6,"br"),u._uU(7,"FIRE"),u.qZA(),u.TgZ(8,"div",3),u.NdJ("click",function(){return t.newGame()}),u._uU(9,"Start"),u.qZA()()())}});const P6=[{path:"",component:Rv},{path:"game/:id",component:Mv}];class ug{}ug.\u0275fac=function(e){return new(e||ug)},ug.\u0275mod=u.oAB({type:ug}),ug.\u0275inj=u.cJS({imports:[Bb.forRoot(P6),Bb]});class Ov{constructor(){this.title="ringoffire"}}function xB(n){return new u.vHH(3e3,!1)}function g5(){return typeof window<"u"&&typeof window.document<"u"}function WR(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function dd(n){switch(n.length){case 0:return new ac;case 1:return n[0];default:return new cm(n)}}function SB(n,e,t,i,r=new Map,a=new Map){const c=[],f=[];let _=-1,w=null;if(i.forEach(D=>{const S=D.get("offset"),N=S==_,U=N&&w||new Map;D.forEach(($,ee)=>{let de=ee,Qe=$;if("offset"!==ee)switch(de=e.normalizePropertyName(de,c),Qe){case"!":Qe=r.get(ee);break;case Ki:Qe=a.get(ee);break;default:Qe=e.normalizeStyleValue(ee,de,Qe,c)}U.set(de,Qe)}),N||f.push(U),w=U,_=S}),c.length)throw function r5(n){return new u.vHH(3502,!1)}();return f}function KR(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&ZR(t,"start",n)));break;case"done":n.onDone(()=>i(t&&ZR(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&ZR(t,"destroy",n)))}}function ZR(n,e,t){const a=YR(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(a._data=c),a}function YR(n,e,t,i,r="",a=0,c){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:a,disabled:!!c}}function cs(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function TB(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}Ov.\u0275fac=function(e){return new(e||Ov)},Ov.\u0275cmp=u.Xpm({type:Ov,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"w-screen","h-screen","grid","grid-cols-6","grid-rows-6","bg-start","bg-cover","bg-center"],[1,"row-span-full","col-span-full"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"router-outlet"),u.qZA()())},dependencies:[rh],styles:[".bg-start[_ngcontent-%COMP%]{background-image:url(card_game_start.f3b61495270d52f7.jpg)}"]});let QR=(n,e)=>!1,AB=(n,e,t)=>[],MB=null;function XR(n){const e=n.parentNode||n.host;return e===MB?null:e}(WR()||typeof Element<"u")&&(g5()?(MB=(()=>document.documentElement)(),QR=(n,e)=>{for(;e;){if(e===n)return!0;e=XR(e)}return!1}):QR=(n,e)=>n.contains(e),AB=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Af=null,RB=!1;const OB=QR,kB=AB;let PB=(()=>{class n{validateStyleProperty(t){return function y5(n){Af||(Af=function v5(){return typeof document<"u"?document.body:null}()||{},RB=!!Af.style&&"WebkitAppearance"in Af.style);let e=!0;return Af.style&&!function _5(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Af.style,!e&&RB&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Af.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return OB(t,i)}getParentElement(t){return XR(t)}query(t,i,r){return kB(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,a,c,f=[],_){return new ac(r,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),JR=(()=>{class n{}return n.NOOP=new PB,n})();const eO="ng-enter",tD="ng-leave",nD="ng-trigger",iD=".ng-trigger",FB="ng-animating",tO=".ng-animating";function yc(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:nO(parseFloat(e[1]),e[2])}function nO(n,e){return"s"===e?1e3*n:n}function rD(n,e,t){return n.hasOwnProperty("duration")?n:function E5(n,e,t){let r,a=0,c="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(xB()),{duration:0,delay:0,easing:""};r=nO(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=nO(parseFloat(_),f[4]));const w=f[5];w&&(c=w)}else r=n;if(!t){let f=!1,_=e.length;r<0&&(e.push(function N6(){return new u.vHH(3100,!1)}()),f=!0),a<0&&(e.push(function F6(){return new u.vHH(3101,!1)}()),f=!0),f&&e.splice(_,0,xB())}return{duration:r,delay:a,easing:c}}(n,e,t)}function kv(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function LB(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function hd(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function BB(n,e,t){return t?e+":"+t+";":""}function UB(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=BB(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=BB(0,x5(t),n.style[t]));n.setAttribute("style",e)}function ml(n,e,t){n.style&&(e.forEach((i,r)=>{const a=rO(r);t&&!t.has(r)&&t.set(r,n.style[a]),n.style[a]=i}),WR()&&UB(n))}function Mf(n,e){n.style&&(e.forEach((t,i)=>{const r=rO(i);n.style[r]=""}),WR()&&UB(n))}function Pv(n){return Array.isArray(n)?1==n.length?n[0]:pw(n):n}const iO=new RegExp("{{\\s*(.+?)\\s*}}","g");function jB(n){let e=[];if("string"==typeof n){let t;for(;t=iO.exec(n);)e.push(t[1]);iO.lastIndex=0}return e}function Nv(n,e,t){const i=n.toString(),r=i.replace(iO,(a,c)=>{let f=e[c];return null==f&&(t.push(function V6(n){return new u.vHH(3003,!1)}()),f=""),f.toString()});return r==i?n:r}function oD(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const I5=/-+([a-z0-9])/g;function rO(n){return n.replace(I5,(...e)=>e[1].toUpperCase())}function x5(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function us(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function B6(n){return new u.vHH(3004,!1)}()}}function HB(n,e){return window.getComputedStyle(n)[e]}function O5(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function k5(n,e,t){if(":"==n[0]){const _=function P5(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function J6(n){return new u.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function X6(n){return new u.vHH(3015,!1)}()),e;const r=i[1],a=i[2],c=i[3];e.push($B(r,c));"<"==a[0]&&!("*"==r&&"*"==c)&&e.push($B(c,r))}(i,t,e)):t.push(n),t}const cD=new Set(["true","1"]),uD=new Set(["false","0"]);function $B(n,e){const t=cD.has(n)||uD.has(n),i=cD.has(e)||uD.has(e);return(r,a)=>{let c="*"==n||n==r,f="*"==e||e==a;return!c&&t&&"boolean"==typeof r&&(c=r?cD.has(n):uD.has(n)),!f&&i&&"boolean"==typeof a&&(f=a?cD.has(e):uD.has(e)),c&&f}}const N5=new RegExp("s*:selfs*,?","g");function oO(n,e,t,i){return new F5(n).build(e,t,i)}class F5{constructor(e){this._driver=e}build(e,t,i){const r=new B5(t);return this._resetContextStyleTimingState(r),us(this,Pv(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const a=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function j6(){return new u.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,w=_.name;w.toString().split(/\s*,\s*/).forEach(D=>{_.name=D,a.push(this.visitState(_,t))}),_.name=w}else if(1==f.type){const _=this.visitTransition(f,t);i+=_.queryCount,r+=_.depCount,c.push(_)}else t.errors.push(function H6(){return new u.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:c,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const a=new Set,c=r||{};i.styles.forEach(f=>{f instanceof Map&&f.forEach(_=>{jB(_).forEach(w=>{c.hasOwnProperty(w)||a.add(w)})})}),a.size&&(oD(a.values()),t.errors.push(function $6(n,e){return new u.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=us(this,Pv(e.animation),t);return{type:1,matchers:O5(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Rf(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>us(this,i,t)),options:Rf(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const a=e.steps.map(c=>{t.currentTime=i;const f=us(this,c,t);return r=Math.max(r,t.currentTime),f});return t.currentTime=r,{type:3,steps:a,options:Rf(e.options)}}visitAnimate(e,t){const i=function j5(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return sO(rD(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=sO(0,0,"");return a.dynamic=!0,a.strValue=t,a}const r=rD(t,e);return sO(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,a=e.styles?e.styles:al({});if(5==a.type)r=this.visitKeyframes(a,t);else{let c=e.styles,f=!1;if(!c){f=!0;const w={};i.easing&&(w.easing=i.easing),c=al(w)}t.currentTime+=i.duration+i.delay;const _=this.visitStyle(c,t);_.isEmptyStep=f,r=_}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of r)"string"==typeof f?f===Ki?i.push(f):t.errors.push(new u.vHH(3002,!1)):i.push(LB(f));let a=!1,c=null;return i.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(c=f.get("easing"),f.delete("easing")),!a))for(let _ of f.values())if(_.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:i,easing:c,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,a=t.currentTime;i&&a>0&&(a-=i.duration+i.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((f,_)=>{const w=t.collectedStyles.get(t.currentQuerySelector),D=w.get(_);let S=!0;D&&(a!=r&&a>=D.startTime&&r<=D.endTime&&(t.errors.push(function G6(n,e,t,i,r){return new u.vHH(3010,!1)}()),S=!1),a=D.startTime),S&&w.set(_,{startTime:a,endTime:r}),t.options&&function D5(n,e,t){const i=e.params||{},r=jB(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||t.push(function L6(n){return new u.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function q6(){return new u.vHH(3011,!1)}()),i;let a=0;const c=[];let f=!1,_=!1,w=0;const D=e.steps.map(Qe=>{const at=this._makeStyleAst(Qe,t);let bt=null!=at.offset?at.offset:function U5(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(at.styles),yt=0;return null!=bt&&(a++,yt=at.offset=bt),_=_||yt<0||yt>1,f=f||yt<w,w=yt,c.push(yt),at});_&&t.errors.push(function W6(){return new u.vHH(3012,!1)}()),f&&t.errors.push(function K6(){return new u.vHH(3200,!1)}());const S=e.steps.length;let N=0;a>0&&a<S?t.errors.push(function Z6(){return new u.vHH(3202,!1)}()):0==a&&(N=1/(S-1));const U=S-1,$=t.currentTime,ee=t.currentAnimateTimings,de=ee.duration;return D.forEach((Qe,at)=>{const bt=N>0?at==U?1:N*at:c[at],yt=bt*de;t.currentTime=$+ee.delay+yt,ee.duration=yt,this._validateStyleAst(Qe,t),Qe.offset=bt,i.styles.push(Qe)}),i}visitReference(e,t){return{type:8,animation:us(this,Pv(e.animation),t),options:Rf(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Rf(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Rf(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[a,c]=function L5(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(N5,"")),n=n.replace(/@\*/g,iD).replace(/@\w+/g,t=>iD+"-"+t.slice(1)).replace(/:animating/g,tO),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+a:a,cs(t.collectedStyles,t.currentQuerySelector,new Map);const f=us(this,Pv(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:f,originalSelector:e.selector,options:Rf(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Y6(){return new u.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:rD(e.timings,t.errors,!0);return{type:12,animation:us(this,Pv(e.animation),t),timings:i,options:null}}}class B5{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Rf(n){return n?(n=kv(n)).params&&(n.params=function V5(n){return n?kv(n):null}(n.params)):n={},n}function sO(n,e,t){return{duration:n,delay:e,easing:t}}function aO(n,e,t,i,r,a,c=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:c,subTimeline:f}}class dD{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const z5=new RegExp(":enter","g"),q5=new RegExp(":leave","g");function lO(n,e,t,i,r,a=new Map,c=new Map,f,_,w=[]){return(new W5).buildKeyframes(n,e,t,i,r,a,c,f,_,w)}class W5{buildKeyframes(e,t,i,r,a,c,f,_,w,D=[]){w=w||new dD;const S=new cO(e,t,w,r,a,D,[]);S.options=_;const N=_.delay?yc(_.delay):0;S.currentTimeline.delayNextStep(N),S.currentTimeline.setStyles([c],null,S.errors,_),us(this,i,S);const U=S.timelines.filter($=>$.containsAnimation());if(U.length&&f.size){let $;for(let ee=U.length-1;ee>=0;ee--){const de=U[ee];if(de.element===t){$=de;break}}$&&!$.allowOnlyTimelineStyles()&&$.setStyles([f],null,S.errors,_)}return U.length?U.map($=>$.buildKeyframes()):[aO(t,[],[],[],0,N,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),a=t.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);a!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const a=r?.delay;if(a){const c="number"==typeof a?a:yc(Nv(a,r?.params??{},t.errors));i.delayNextStep(c)}}}_visitSubInstructions(e,t,i){let a=t.currentTimeline.currentTime;const c=null!=i.duration?yc(i.duration):null,f=null!=i.delay?yc(i.delay):null;return 0!==c&&e.forEach(_=>{const w=t.appendInstructionToTimeline(_,c,f);a=Math.max(a,w.duration+w.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),us(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const a=e.options;if(a&&(a.params||a.delay)&&(r=t.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=hD);const c=yc(a.delay);r.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>us(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?yc(e.options.delay):0;e.steps.forEach(c=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),us(this,c,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return rD(t.params?Nv(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(i.duration),this.visitStyle(a,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const a=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(a):i.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,a=i.duration,f=t.createSubContext().currentTimeline;f.easing=i.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(r+a),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},a=r.delay?yc(r.delay):0;a&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=hD);let c=i;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((w,D)=>{t.currentQueryIndex=D;const S=t.createSubContext(e.options,w);a&&S.delayNextStep(a),w===t.element&&(_=S.currentTimeline),us(this,e.animation,S),S.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,S.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,a=e.timings,c=Math.abs(a.duration),f=c*(t.currentQueryTotal-1);let _=c*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=i.currentStaggerTime}const D=t.currentTimeline;_&&D.delayNextStep(_);const S=D.currentTime;us(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-S+(r.startTime-i.currentTimeline.startTime)}}const hD={};class cO{constructor(e,t,i,r,a,c,f,_){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=c,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=hD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new fD(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=yc(i.duration)),null!=i.delay&&(r.delay=yc(i.delay));const a=i.params;if(a){let c=r.params;c||(c=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!c.hasOwnProperty(f))&&(c[f]=Nv(a[f],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,a=new cO(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=hD,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},a=new K5(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,a,c){let f=[];if(r&&f.push(this.element),e.length>0){e=(e=e.replace(z5,"."+this._enterClassName)).replace(q5,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=i);0!==i&&(w=i<0?w.slice(w.length+i,w.length):w.slice(0,i)),f.push(...w)}return!a&&0==f.length&&c.push(function Q6(n){return new u.vHH(3014,!1)}()),f}}class fD{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new fD(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Ki),this._currentKeyframe.set(t,Ki);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const a=r&&r.params||{},c=function Z5(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let a of i)t.set(a,Ki)}else hd(r,t)}),t}(e,this._globalTimelineStyles);for(let[f,_]of c){const w=Nv(_,a,i);this._pendingStyles.set(f,w),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??Ki),this._updateStyle(f,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,_)=>{const w=hd(f,new Map,this._backFill);w.forEach((D,S)=>{"!"===D?e.add(S):D===Ki&&t.add(S)}),i||w.set("offset",_/this.duration),r.push(w)});const a=e.size?oD(e.values()):[],c=t.size?oD(t.values()):[];if(i){const f=r[0],_=new Map(f);f.set("offset",0),_.set("offset",1),r=[f,_]}return aO(this.element,r,a,c,this.duration,this.startTime,this.easing,!1)}}class K5 extends fD{constructor(e,t,i,r,a,c,f=!1){super(e,t,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],c=i+t,f=t/c,_=hd(e[0]);_.set("offset",0),a.push(_);const w=hd(e[0]);w.set("offset",qB(f)),a.push(w);const D=e.length-1;for(let S=1;S<=D;S++){let N=hd(e[S]);const U=N.get("offset");N.set("offset",qB((t+U*i)/c)),a.push(N)}i=c,t=0,r="",e=a}return aO(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function qB(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class uO{}const Y5=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Q5 extends uO{normalizePropertyName(e,t){return rO(e)}normalizeStyleValue(e,t,i,r){let a="";const c=i.toString().trim();if(Y5.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function U6(n,e){return new u.vHH(3005,!1)}())}return c+a}}function WB(n,e,t,i,r,a,c,f,_,w,D,S,N){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:a,toState:i,toStyles:c,timelines:f,queriedElements:_,preStyleProps:w,postStyleProps:D,totalTime:S,errors:N}}const dO={};class KB{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function X5(n,e,t,i,r){return n.some(a=>a(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,a,c,f,_,w,D){const S=[],N=this.ast.options&&this.ast.options.params||dO,$=this.buildStyles(i,f&&f.params||dO,S),ee=_&&_.params||dO,de=this.buildStyles(r,ee,S),Qe=new Set,at=new Map,bt=new Map,yt="void"===r,Vt={params:J5(ee,N),delay:this.ast.options?.delay},$t=D?[]:lO(e,t,this.ast.animation,a,c,$,de,Vt,w,S);let vn=0;if($t.forEach(vc=>{vn=Math.max(vc.duration+vc.delay,vn)}),S.length)return WB(t,this._triggerName,i,r,yt,$,de,[],[],at,bt,vn,S);$t.forEach(vc=>{const bc=vc.element,mU=cs(at,bc,new Set);vc.preStyleProps.forEach(Of=>mU.add(Of));const Bv=cs(bt,bc,new Set);vc.postStyleProps.forEach(Of=>Bv.add(Of)),bc!==t&&Qe.add(bc)});const Do=oD(Qe.values());return WB(t,this._triggerName,i,r,yt,$,de,$t,Do,at,bt,vn)}}function J5(n,e){const t=kv(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class eq{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=kv(this.defaultParams);return Object.keys(e).forEach(a=>{const c=e[a];null!==c&&(r[a]=c)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((c,f)=>{c&&(c=Nv(c,r,t));const _=this.normalizer.normalizePropertyName(f,t);c=this.normalizer.normalizeStyleValue(f,_,c,t),i.set(_,c)})}),i}}class nq{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new eq(r.style,r.options&&r.options.params||{},i))}),ZB(this.states,"true","1"),ZB(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new KB(e,r,this.states))}),this.fallbackTransition=function iq(n,e,t){return new KB(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(c=>c.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function ZB(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const rq=new dD;class oq{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],a=oO(this._driver,t,i,[]);if(i.length)throw function o5(n){return new u.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,i){const r=e.element,a=SB(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],a=this._animations.get(e);let c;const f=new Map;if(a?(c=lO(this._driver,t,a,eO,tD,new Map,new Map,i,rq,r),c.forEach(D=>{const S=cs(f,D.element,new Map);D.postStyleProps.forEach(N=>S.set(N,null))})):(r.push(function s5(){return new u.vHH(3300,!1)}()),c=[]),r.length)throw function a5(n){return new u.vHH(3504,!1)}();f.forEach((D,S)=>{D.forEach((N,U)=>{D.set(U,this._driver.computeStyle(S,U,Ki))})});const w=dd(c.map(D=>{const S=f.get(D.element);return this._buildPlayer(D,new Map,S)}));return this._playersById.set(e,w),w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function l5(n){return new u.vHH(3301,!1)}();return t}listen(e,t,i,r){const a=YR(t,"","","");return KR(this._getPlayer(e),i,a,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const a=this._getPlayer(e);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const YB="ng-animate-queued",hO="ng-animate-disabled",uq=[],QB={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},dq={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ls="__ng_removed";class fO{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function mq(n){return n??null}(i?e.value:e),i){const a=kv(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Fv="void",pO=new fO(Fv);class hq{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Vs(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function c5(n,e){return new u.vHH(3302,!1)}();if(null==i||0==i.length)throw function u5(n){return new u.vHH(3303,!1)}();if(!function gq(n){return"start"==n||"done"==n}(i))throw function d5(n,e){return new u.vHH(3400,!1)}();const a=cs(this._elementListeners,e,[]),c={name:t,phase:i,callback:r};a.push(c);const f=cs(this._engine.statesByElement,e,new Map);return f.has(t)||(Vs(e,nD),Vs(e,nD+"-"+t),f.set(t,pO)),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(c);_>=0&&a.splice(_,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function h5(n){return new u.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const a=this._getTrigger(t),c=new mO(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Vs(e,nD),Vs(e,nD+"-"+t),this._engine.statesByElement.set(e,f=new Map));let _=f.get(t);const w=new fO(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&w.absorbOptions(_.options),f.set(t,w),_||(_=pO),w.value!==Fv&&_.value===w.value){if(!function vq(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const a=t[r];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,w.params)){const ee=[],de=a.matchStyles(_.value,_.params,ee),Qe=a.matchStyles(w.value,w.params,ee);ee.length?this._engine.reportError(ee):this._engine.afterFlush(()=>{Mf(e,de),ml(e,Qe)})}return}const N=cs(this._engine.playersByElement,e,[]);N.forEach(ee=>{ee.namespaceId==this.id&&ee.triggerName==t&&ee.queued&&ee.destroy()});let U=a.matchTransition(_.value,w.value,e,w.params),$=!1;if(!U){if(!r)return;U=a.fallbackTransition,$=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:U,fromState:_,toState:w,player:c,isFallbackTransition:$}),$||(Vs(e,YB),c.onStart(()=>{dg(e,YB)})),c.onDone(()=>{let ee=this.players.indexOf(c);ee>=0&&this.players.splice(ee,1);const de=this._engine.playersByElement.get(e);if(de){let Qe=de.indexOf(c);Qe>=0&&de.splice(Qe,1)}}),this.players.push(c),N.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,iD,!0);i.forEach(r=>{if(r[Ls])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(c=>c.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const a=this._engine.statesByElement.get(e),c=new Map;if(a){const f=[];if(a.forEach((_,w)=>{if(c.set(w,_.value),this._triggers.has(w)){const D=this.trigger(e,w,Fv,r);D&&f.push(D)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),i&&dd(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(a=>{const c=a.name;if(r.has(c))return;r.add(c);const _=this._triggers.get(c).fallbackTransition,w=i.get(c)||pO,D=new fO(Fv),S=new mO(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:_,fromState:w,toState:D,player:S,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(e):[];if(a&&a.length)r=!0;else{let c=e;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Ls];(!a||a===QB)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Vs(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,c=this._elementListeners.get(a);c&&c.forEach(f=>{if(f.name==i.triggerName){const _=YR(a,i.triggerName,i.fromState.value,i.toState.value);_._data=e,KR(i.player,f.phase,_,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const a=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==a||0==c?a-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class fq{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new hq(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let c=!1,f=this.driver.getParentElement(t);for(;f;){const _=r.get(f);if(_){const w=i.indexOf(_);i.splice(w+1,0,e),c=!0;break}f=this.driver.getParentElement(f)}c||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const a=this._fetchNamespace(r.namespaceId);a&&t.add(a)}return t}trigger(e,t,i,r){if(pD(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!pD(t))return;const a=t[Ls];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Vs(e,hO)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),dg(e,hO))}removeNode(e,t,i,r){if(pD(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,a){this.collectedLeaveElements.push(t),t[Ls]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,i,r,a){return pD(t)?this._fetchNamespace(e).listen(t,i,r,a):()=>{}}_buildInstruction(e,t,i,r,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,iD,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,tO,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return dd(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ls];if(t&&t.setForRemoval){if(e[Ls]=QB,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(hO)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Vs(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?dd(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function f5(n){return new u.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new dD,r=[],a=new Map,c=[],f=new Map,_=new Map,w=new Map,D=new Set;this.disabledNodes.forEach(wt=>{D.add(wt);const Bt=this.driver.query(wt,".ng-animate-queued",!0);for(let qt=0;qt<Bt.length;qt++)D.add(Bt[qt])});const S=this.bodyNode,N=Array.from(this.statesByElement.keys()),U=eU(N,this.collectedEnterElements),$=new Map;let ee=0;U.forEach((wt,Bt)=>{const qt=eO+ee++;$.set(Bt,qt),wt.forEach(xn=>Vs(xn,qt))});const de=[],Qe=new Set,at=new Set;for(let wt=0;wt<this.collectedLeaveElements.length;wt++){const Bt=this.collectedLeaveElements[wt],qt=Bt[Ls];qt&&qt.setForRemoval&&(de.push(Bt),Qe.add(Bt),qt.hasAnimation?this.driver.query(Bt,".ng-star-inserted",!0).forEach(xn=>Qe.add(xn)):at.add(Bt))}const bt=new Map,yt=eU(N,Array.from(Qe));yt.forEach((wt,Bt)=>{const qt=tD+ee++;bt.set(Bt,qt),wt.forEach(xn=>Vs(xn,qt))}),e.push(()=>{U.forEach((wt,Bt)=>{const qt=$.get(Bt);wt.forEach(xn=>dg(xn,qt))}),yt.forEach((wt,Bt)=>{const qt=bt.get(Bt);wt.forEach(xn=>dg(xn,qt))}),de.forEach(wt=>{this.processLeaveNode(wt)})});const Vt=[],$t=[];for(let wt=this._namespaceList.length-1;wt>=0;wt--)this._namespaceList[wt].drainQueuedTransitions(t).forEach(qt=>{const xn=qt.player,Cr=qt.element;if(Vt.push(xn),this.collectedEnterElements.length){const to=Cr[Ls];if(to&&to.setForMove){if(to.previousTriggersValues&&to.previousTriggersValues.has(qt.triggerName)){const kf=to.previousTriggersValues.get(qt.triggerName),Bs=this.statesByElement.get(qt.element);if(Bs&&Bs.has(qt.triggerName)){const yD=Bs.get(qt.triggerName);yD.value=kf,Bs.set(qt.triggerName,yD)}}return void xn.destroy()}}const gl=!S||!this.driver.containsElement(S,Cr),ds=bt.get(Cr),fd=$.get(Cr),bi=this._buildInstruction(qt,i,fd,ds,gl);if(bi.errors&&bi.errors.length)return void $t.push(bi);if(gl)return xn.onStart(()=>Mf(Cr,bi.fromStyles)),xn.onDestroy(()=>ml(Cr,bi.toStyles)),void r.push(xn);if(qt.isFallbackTransition)return xn.onStart(()=>Mf(Cr,bi.fromStyles)),xn.onDestroy(()=>ml(Cr,bi.toStyles)),void r.push(xn);const yU=[];bi.timelines.forEach(to=>{to.stretchStartingKeyframe=!0,this.disabledNodes.has(to.element)||yU.push(to)}),bi.timelines=yU,i.append(Cr,bi.timelines),c.push({instruction:bi,player:xn,element:Cr}),bi.queriedElements.forEach(to=>cs(f,to,[]).push(xn)),bi.preStyleProps.forEach((to,kf)=>{if(to.size){let Bs=_.get(kf);Bs||_.set(kf,Bs=new Set),to.forEach((yD,EO)=>Bs.add(EO))}}),bi.postStyleProps.forEach((to,kf)=>{let Bs=w.get(kf);Bs||w.set(kf,Bs=new Set),to.forEach((yD,EO)=>Bs.add(EO))})});if($t.length){const wt=[];$t.forEach(Bt=>{wt.push(function p5(n,e){return new u.vHH(3505,!1)}())}),Vt.forEach(Bt=>Bt.destroy()),this.reportError(wt)}const vn=new Map,Do=new Map;c.forEach(wt=>{const Bt=wt.element;i.has(Bt)&&(Do.set(Bt,Bt),this._beforeAnimationBuild(wt.player.namespaceId,wt.instruction,vn))}),r.forEach(wt=>{const Bt=wt.element;this._getPreviousPlayers(Bt,!1,wt.namespaceId,wt.triggerName,null).forEach(xn=>{cs(vn,Bt,[]).push(xn),xn.destroy()})});const vc=de.filter(wt=>nU(wt,_,w)),bc=new Map;JB(bc,this.driver,at,w,Ki).forEach(wt=>{nU(wt,_,w)&&vc.push(wt)});const Bv=new Map;U.forEach((wt,Bt)=>{JB(Bv,this.driver,new Set(wt),_,"!")}),vc.forEach(wt=>{const Bt=bc.get(wt),qt=Bv.get(wt);bc.set(wt,new Map([...Array.from(Bt?.entries()??[]),...Array.from(qt?.entries()??[])]))});const Of=[],gU=[],_U={};c.forEach(wt=>{const{element:Bt,player:qt,instruction:xn}=wt;if(i.has(Bt)){if(D.has(Bt))return qt.onDestroy(()=>ml(Bt,xn.toStyles)),qt.disabled=!0,qt.overrideTotalTime(xn.totalTime),void r.push(qt);let Cr=_U;if(Do.size>1){let ds=Bt;const fd=[];for(;ds=ds.parentNode;){const bi=Do.get(ds);if(bi){Cr=bi;break}fd.push(ds)}fd.forEach(bi=>Do.set(bi,Cr))}const gl=this._buildAnimation(qt.namespaceId,xn,vn,a,Bv,bc);if(qt.setRealPlayer(gl),Cr===_U)Of.push(qt);else{const ds=this.playersByElement.get(Cr);ds&&ds.length&&(qt.parentPlayer=dd(ds)),r.push(qt)}}else Mf(Bt,xn.fromStyles),qt.onDestroy(()=>ml(Bt,xn.toStyles)),gU.push(qt),D.has(Bt)&&r.push(qt)}),gU.forEach(wt=>{const Bt=a.get(wt.element);if(Bt&&Bt.length){const qt=dd(Bt);wt.setRealPlayer(qt)}}),r.forEach(wt=>{wt.parentPlayer?wt.syncPlayerEvents(wt.parentPlayer):wt.destroy()});for(let wt=0;wt<de.length;wt++){const Bt=de[wt],qt=Bt[Ls];if(dg(Bt,tD),qt&&qt.hasAnimation)continue;let xn=[];if(f.size){let gl=f.get(Bt);gl&&gl.length&&xn.push(...gl);let ds=this.driver.query(Bt,tO,!0);for(let fd=0;fd<ds.length;fd++){let bi=f.get(ds[fd]);bi&&bi.length&&xn.push(...bi)}}const Cr=xn.filter(gl=>!gl.destroyed);Cr.length?_q(this,Bt,Cr):this.processLeaveNode(Bt)}return de.length=0,Of.forEach(wt=>{this.players.push(wt),wt.onDone(()=>{wt.destroy();const Bt=this.players.indexOf(wt);this.players.splice(Bt,1)}),wt.play()}),Of}elementContainsData(e,t){let i=!1;const r=t[Ls];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,a){let c=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(c=f)}else{const f=this.playersByElement.get(e);if(f){const _=!a||a==Fv;f.forEach(w=>{w.queued||!_&&w.triggerName!=r||c.push(w)})}}return(i||r)&&(c=c.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),c}_beforeAnimationBuild(e,t,i){const a=t.element,c=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const w=_.element,D=w!==a,S=cs(i,w,[]);this._getPreviousPlayers(w,D,c,f,t.toState).forEach(U=>{const $=U.getRealPlayer();$.beforeDestroy&&$.beforeDestroy(),U.destroy(),S.push(U)})}Mf(a,t.fromStyles)}_buildAnimation(e,t,i,r,a,c){const f=t.triggerName,_=t.element,w=[],D=new Set,S=new Set,N=t.timelines.map($=>{const ee=$.element;D.add(ee);const de=ee[Ls];if(de&&de.removedBeforeQueried)return new ac($.duration,$.delay);const Qe=ee!==_,at=function yq(n){const e=[];return tU(n,e),e}((i.get(ee)||uq).map(vn=>vn.getRealPlayer())).filter(vn=>!!vn.element&&vn.element===ee),bt=a.get(ee),yt=c.get(ee),Vt=SB(0,this._normalizer,0,$.keyframes,bt,yt),$t=this._buildPlayer($,Vt,at);if($.subTimeline&&r&&S.add(ee),Qe){const vn=new mO(e,f,ee);vn.setRealPlayer($t),w.push(vn)}return $t});w.forEach($=>{cs(this.playersByQueriedElement,$.element,[]).push($),$.onDone(()=>function pq(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,$.element,$))}),D.forEach($=>Vs($,FB));const U=dd(N);return U.onDestroy(()=>{D.forEach($=>dg($,FB)),ml(_,t.toStyles)}),S.forEach($=>{cs(r,$,[]).push(U)}),U}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new ac(e.duration,e.delay)}}class mO{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new ac,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>KR(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){cs(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function pD(n){return n&&1===n.nodeType}function XB(n,e){const t=n.style.display;return n.style.display=e??"none",t}function JB(n,e,t,i,r){const a=[];t.forEach(_=>a.push(XB(_)));const c=[];i.forEach((_,w)=>{const D=new Map;_.forEach(S=>{const N=e.computeStyle(w,S,r);D.set(S,N),(!N||0==N.length)&&(w[Ls]=dq,c.push(w))}),n.set(w,D)});let f=0;return t.forEach(_=>XB(_,a[f++])),c}function eU(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=new Set(e),a=new Map;function c(f){if(!f)return 1;let _=a.get(f);if(_)return _;const w=f.parentNode;return _=t.has(w)?w:r.has(w)?1:c(w),a.set(f,_),_}return e.forEach(f=>{const _=c(f);1!==_&&t.get(_).push(f)}),t}function Vs(n,e){n.classList?.add(e)}function dg(n,e){n.classList?.remove(e)}function _q(n,e,t){dd(t).onDone(()=>n.processLeaveNode(e))}function tU(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof cm?tU(i.players,e):e.push(i)}}function nU(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(a=>r.add(a)):e.set(n,i),t.delete(n),!0}class mD{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new fq(e,t,i),this._timelineEngine=new oq(e,t,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(e,t,i,r,a){const c=e+"-"+r;let f=this._triggerCache[c];if(!f){const _=[],D=oO(this._driver,a,_,[]);if(_.length)throw function n5(n,e){return new u.vHH(3404,!1)}();f=function tq(n,e,t){return new nq(n,e,t)}(r,D,this._normalizer),this._triggerCache[c]=f}this._transitionEngine.registerTrigger(t,r,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[a,c]=TB(i);this._timelineEngine.command(a,t,c,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,a){if("@"==i.charAt(0)){const[c,f]=TB(i);return this._timelineEngine.listen(c,t,f,a)}return this._transitionEngine.listen(e,t,i,r,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let wq=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&ml(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ml(this._element,this._initialStyles),this._endStyles&&(ml(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Mf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Mf(this._element,this._endStyles),this._endStyles=null),ml(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function gO(n){let e=null;return n.forEach((t,i)=>{(function Eq(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class iU{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:HB(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Cq{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return OB(e,t)}getParentElement(e){return XR(e)}query(e,t,i){return kB(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,a,c=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(_.easing=a);const w=new Map,D=c.filter(U=>U instanceof iU);(function S5(n,e){return 0===n||0===e})(i,r)&&D.forEach(U=>{U.currentSnapshot.forEach(($,ee)=>w.set(ee,$))});let S=function C5(n){return n.length?n[0]instanceof Map?n:n.map(e=>LB(e)):[]}(t).map(U=>hd(U));S=function T5(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((a,c)=>{i.has(c)||r.push(c),i.set(c,a)}),r.length)for(let a=1;a<e.length;a++){let c=e[a];r.forEach(f=>c.set(f,HB(n,f)))}}return e}(e,S,w);const N=function bq(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=gO(e[0]),e.length>1&&(i=gO(e[e.length-1]))):e instanceof Map&&(t=gO(e)),t||i?new wq(n,t,i):null}(e,S);return new iU(e,S,_,N)}}let Dq=(()=>{class n extends hw{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?pw(t):t;return rU(this._renderer,null,i,"register",[r]),new Iq(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Iq extends U_{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new xq(this._id,e,t||{},this._renderer)}}class xq{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return rU(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function rU(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const oU="@.disabled";let Sq=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,c)=>{const f=c?.parentNode(a);f&&c.removeChild(f,a)}}createRenderer(t,i){const a=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let D=this._rendererCache.get(a);return D||(D=new sU("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,D)),D}const c=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=D=>{Array.isArray(D)?D.forEach(_):this.engine.registerTrigger(c,f,t,D.name,D)};return i.data.animation.forEach(_),new Tq(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[c,f]=a;c(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(mD),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class sU{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==oU?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Tq extends sU{constructor(e,t,i,r,a){super(t,i,r,a),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==oU?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function Aq(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),c="";return"@"!=a.charAt(0)&&([a,c]=function Mq(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,r,a,c,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(e,t,i)}}let Rq=(()=>{class n extends mD{constructor(t,i,r,a){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ie),u.LFG(JR),u.LFG(uO),u.LFG(u.z2F))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const aU=[{provide:hw,useClass:Dq},{provide:uO,useFactory:function Oq(){return new Q5}},{provide:mD,useClass:Rq},{provide:u.FYo,useFactory:function kq(n,e,t){return new Sq(n,e,t)},deps:[Ys,mD,u.R0b]}],_O=[{provide:JR,useFactory:()=>new Cq},{provide:u.QbO,useValue:"BrowserAnimations"},...aU],lU=[{provide:JR,useClass:PB},{provide:u.QbO,useValue:"NoopAnimations"},...aU];let Pq=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?lU:_O}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:_O,imports:[jc]}),n})();var cU=k(655),Fq=k(5132);const dU="firebase_screen_id",vO="outlet",Lv="screen_class",hU="screen_name";let Zq=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const bO={},Yq=n=>{const e=[n[Lv],n[vO]].join("#");if(bO.hasOwnProperty(e))return bO[e];{const t=Zq++;return bO[e]=t,t}},nW=new u.OlP("angularfire2.analytics.analyticsCollectionEnabled"),iW=new u.OlP("angularfire2.analytics.appVersion"),rW=new u.OlP("angularfire2.analytics.appName"),oW=new u.OlP("angularfire2.analytics.debugMode"),sW=new u.OlP("angularfire2.analytics.config"),_D="dataLayer";let Vv=(()=>{class n{constructor(t,i,r,a,c,f,_,w,D){if(this.analyticsInitialized=new Promise(()=>{}),bl(_)){window[_D]=window[_D]||[];const N=(...ee)=>"config"===ee[0]&&"firebase"===ee[2].origin&&(this.measurementId=ee[1],!0),U=ee=>{window.gtag=(...de)=>{ee&&ee(...de),"event"===de[0]&&de[2].send_to===this.measurementId&&(a&&(de[2].app_name=a),r&&(de[2].app_version=r)),c&&typeof console<"u"&&console.info(...de),function(...Qe){window[_D].push(arguments)}(...de)}};window[_D].some(N)?(this.analyticsInitialized=Promise.resolve(),U()):this.analyticsInitialized=new Promise(ee=>{U((...de)=>{N(...de)&&ee()})}),f&&this.updateConfig(f),c&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const S=Xe(void 0).pipe((0,Ev.Q)(D.outsideAngular),qn(Fq.Gb),qn(N=>N?w.runOutsideAngular(()=>k.e(814).then(k.bind(k,3814))):Po.E),(0,ct.U)(()=>(0,_o.cc)("analytics","AngularFireAnalytics",t.name,()=>{const N=t.analytics();return!1===i&&N.setAnalyticsCollectionEnabled(!1),N},[t,i,f,c])),gR({bufferSize:1,refCount:!1}));return(0,_o.pX)(this,S,w)}updateConfig(t){return(0,cU.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},t),{update:!0}))})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(_o.Ot),u.LFG(nW,8),u.LFG(iW,8),u.LFG(rW,8),u.LFG(oW,8),u.LFG(sW,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(ri.HU))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),pU=(()=>{class n{constructor(t,i,r,a){if(this.disposables=[],KC.Z.registerVersion("angularfire",ri.q4.full,"compat-user-tracking"),Ec(i))this.initialized=Promise.resolve();else{let c;this.initialized=a.runOutsideAngular(()=>new Promise(f=>c=f)),this.disposables=[r.authState.subscribe(f=>{t.setUserId(f?.uid),c()}),r.credential.subscribe(f=>{if(f){const _=f.user.isAnonymous?"anonymous":f.additionalUserInfo.providerId;f.additionalUserInfo.isNewUser&&t.logEvent("sign_up",{method:_}),t.logEvent("login",{method:_})}})]}}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Vv),u.LFG(u.Lbi),u.LFG(VR),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),fW=(()=>{class n{constructor(t,i,r,a,c,f){if(KC.Z.registerVersion("angularfire",ri.q4.full,"compat-screen-tracking"),!i||!t)return this;c.runOutsideAngular(()=>{this.disposable=((n,e,t)=>n.events.pipe(ii(r=>r instanceof na)).pipe(qn(r=>{var a;const f=(null===(a=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,U=>U.replace("://",":///"))).root.children[r.snapshot.outlet])||void 0===a?void 0:a.toString())||"",_=n.routerState.root.children.map(U=>U).find(U=>U.outlet===r.snapshot.outlet);if(!_)return Xe(null);let w=_;for(;w.firstChild;)w=w.firstChild;const D=w.pathFromRoot.map(U=>{var $;return null===($=U.routeConfig)||void 0===$?void 0:$.path}).filter(U=>U).join("/")||"/",S={[hU]:D,page_path:`/${f}`,firebase_event_origin:"auto",firebase_screen:D,[vO]:r.snapshot.outlet};e&&(S.page_title=e.getTitle());let N=_.component;if(N){if(N===Ya){let U=r.snapshot;for(;U.firstChild;)U=U.firstChild;N=U.component}}else N=r.snapshot.component;if("string"==typeof N)return Xe(Object.assign(Object.assign({},S),{[Lv]:N}));if(N){const U=t.resolveComponentFactory(N);return Xe(Object.assign(Object.assign({},S),{[Lv]:U.selector}))}return Xe(null)}),ii(r=>!!r),(0,ct.U)(r=>Object.assign({firebase_screen_class:r[Lv],[dU]:Yq(r)},r)),function Lq(n,e,t,i){return(0,ui.e)((r,a)=>{let c;e&&"function"!=typeof e?({duration:t,element:c,connector:i}=e):c=e;const f=new Map,_=$=>{f.forEach($),$(a)},w=$=>_(ee=>ee.error($));let D=0,S=!1;const N=new Ln.Q(a,$=>{try{const ee=n($);let de=f.get(ee);if(!de){f.set(ee,de=i?i():new dn.x);const Qe=function U($,ee){const de=new Oi.y(Qe=>{D++;const at=ee.subscribe(Qe);return()=>{at.unsubscribe(),0==--D&&S&&N.unsubscribe()}});return de.key=$,de}(ee,de);if(a.next(Qe),t){const at=(0,Ln.x)(de,()=>{de.complete(),at?.unsubscribe()},void 0,void 0,()=>f.delete(ee));N.add((0,Qo.Xf)(t(Qe)).subscribe(at))}}de.next(c?c($):$)}catch(ee){w(ee)}},()=>_($=>$.complete()),w,()=>f.clear(),()=>(S=!0,0===D));r.subscribe(N)})}(r=>r[vO]),(0,ki.z)(r=>r.pipe(nm((a,c)=>JSON.stringify(a)===JSON.stringify(c)),Xs(void 0),vE(),(0,ct.U)(([a,c])=>a?Object.assign({firebase_previous_class:a[Lv],firebase_previous_screen:a[hU],firebase_previous_id:a[dU]},c):c)))))(i,r,a).pipe(qn(_=>(0,cU.mG)(this,void 0,void 0,function*(){return f&&(yield f.initialized),yield t.logEvent("screen_view",_)}))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Vv),u.LFG(mr,8),u.LFG(Cs,8),u.LFG(u._Vd),u.LFG(u.R0b),u.LFG(pU,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),pW=(()=>{class n{constructor(t,i,r){KC.Z.registerVersion("angularfire",ri.q4.full,"analytics-compat"),t.app.then(()=>{})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Vv),u.LFG(fW,8),u.LFG(pU,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Vv]}),n})();class hg{}hg.\u0275fac=function(e){return new(e||hg)},hg.\u0275mod=u.oAB({type:hg,bootstrap:[Ov]}),hg.\u0275inj=u.cJS({imports:[jc,ug,Pq,kw,c6,S1,Xr,lj,_j,S6,_o.hO.initializeApp({apiKey:"AIzaSyCysOHr9EsGx_pA3uRhMNXZK0unqfklPp4",authDomain:"ring-of-fire-50fec.firebaseapp.com",databaseURL:"<your-database-URL>",projectId:"ring-of-fire-50fec",storageBucket:"ring-of-fire-50fec.appspot.com",messagingSenderId:"1095780342068",appId:"1:1095780342068:web:701250f524301d4769ed61",measurementId:"<your-measurement-id>"}),pW,M4]}),Jf().bootstrapModule(hg).catch(n=>console.error(n))},9751:(ht,xe,k)=>{k.d(xe,{y:()=>ye});var u=k(930),ne=k(727),F=k(8822),se=k(9635),fe=k(2416),ie=k(576),_e=k(2806);let ye=(()=>{class J{constructor(be){be&&(this._subscribe=be)}lift(be){const We=new J;return We.source=this,We.operator=be,We}subscribe(be,We,tt){const me=function q(J){return J&&J instanceof u.Lv||function G(J){return J&&(0,ie.m)(J.next)&&(0,ie.m)(J.error)&&(0,ie.m)(J.complete)}(J)&&(0,ne.Nn)(J)}(be)?be:new u.Hp(be,We,tt);return(0,_e.x)(()=>{const{operator:Se,source:Pe}=this;me.add(Se?Se.call(me,Pe):Pe?this._subscribe(me):this._trySubscribe(me))}),me}_trySubscribe(be){try{return this._subscribe(be)}catch(We){be.error(We)}}forEach(be,We){return new(We=ue(We))((tt,me)=>{const Se=new u.Hp({next:Pe=>{try{be(Pe)}catch(Fe){me(Fe),Se.unsubscribe()}},error:me,complete:tt});this.subscribe(Se)})}_subscribe(be){var We;return null===(We=this.source)||void 0===We?void 0:We.subscribe(be)}[F.L](){return this}pipe(...be){return(0,se.U)(be)(this)}toPromise(be){return new(be=ue(be))((We,tt)=>{let me;this.subscribe(Se=>me=Se,Se=>tt(Se),()=>We(me))})}}return J.create=Re=>new J(Re),J})();function ue(J){var Re;return null!==(Re=J??fe.v.Promise)&&void 0!==Re?Re:Promise}},7579:(ht,xe,k)=>{k.d(xe,{x:()=>_e});var u=k(9751),ne=k(727);const se=(0,k(3888).d)(ue=>function(){ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=k(8737),ie=k(2806);let _e=(()=>{class ue extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const J=new ye(this,this);return J.operator=q,J}_throwIfClosed(){if(this.closed)throw new se}next(q){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const J of this.currentObservers)J.next(q)}})}error(q){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:J}=this;for(;J.length;)J.shift().error(q)}})}complete(){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:J,isStopped:Re,observers:be}=this;return J||Re?ne.Lc:(this.currentObservers=null,be.push(q),new ne.w0(()=>{this.currentObservers=null,(0,fe.P)(be,q)}))}_checkFinalizedStatuses(q){const{hasError:J,thrownError:Re,isStopped:be}=this;J?q.error(Re):be&&q.complete()}asObservable(){const q=new u.y;return q.source=this,q}}return ue.create=(G,q)=>new ye(G,q),ue})();class ye extends _e{constructor(G,q){super(),this.destination=G,this.source=q}next(G){var q,J;null===(J=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===J||J.call(q,G)}error(G){var q,J;null===(J=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===J||J.call(q,G)}complete(){var G,q;null===(q=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===q||q.call(G)}_subscribe(G){var q,J;return null!==(J=null===(q=this.source)||void 0===q?void 0:q.subscribe(G))&&void 0!==J?J:ne.Lc}}},930:(ht,xe,k)=>{k.d(xe,{Hp:()=>tt,Lv:()=>J});var u=k(576),ne=k(727),F=k(2416),se=k(7849),fe=k(5032);const ie=ue("C",void 0,void 0);function ue(ke,Ee,Te){return{kind:ke,value:Ee,error:Te}}var G=k(3410),q=k(2806);class J extends ne.w0{constructor(Ee){super(),this.isStopped=!1,Ee?(this.destination=Ee,(0,ne.Nn)(Ee)&&Ee.add(this)):this.destination=Fe}static create(Ee,Te,ze){return new tt(Ee,Te,ze)}next(Ee){this.isStopped?Pe(function ye(ke){return ue("N",ke,void 0)}(Ee),this):this._next(Ee)}error(Ee){this.isStopped?Pe(function _e(ke){return ue("E",void 0,ke)}(Ee),this):(this.isStopped=!0,this._error(Ee))}complete(){this.isStopped?Pe(ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ee){this.destination.next(Ee)}_error(Ee){try{this.destination.error(Ee)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Re=Function.prototype.bind;function be(ke,Ee){return Re.call(ke,Ee)}class We{constructor(Ee){this.partialObserver=Ee}next(Ee){const{partialObserver:Te}=this;if(Te.next)try{Te.next(Ee)}catch(ze){me(ze)}}error(Ee){const{partialObserver:Te}=this;if(Te.error)try{Te.error(Ee)}catch(ze){me(ze)}else me(Ee)}complete(){const{partialObserver:Ee}=this;if(Ee.complete)try{Ee.complete()}catch(Te){me(Te)}}}class tt extends J{constructor(Ee,Te,ze){let Ae;if(super(),(0,u.m)(Ee)||!Ee)Ae={next:Ee??void 0,error:Te??void 0,complete:ze??void 0};else{let j;this&&F.v.useDeprecatedNextContext?(j=Object.create(Ee),j.unsubscribe=()=>this.unsubscribe(),Ae={next:Ee.next&&be(Ee.next,j),error:Ee.error&&be(Ee.error,j),complete:Ee.complete&&be(Ee.complete,j)}):Ae=Ee}this.destination=new We(Ae)}}function me(ke){F.v.useDeprecatedSynchronousErrorHandling?(0,q.O)(ke):(0,se.h)(ke)}function Pe(ke,Ee){const{onStoppedNotification:Te}=F.v;Te&&G.z.setTimeout(()=>Te(ke,Ee))}const Fe={closed:!0,next:fe.Z,error:function Se(ke){throw ke},complete:fe.Z}},727:(ht,xe,k)=>{k.d(xe,{Lc:()=>ie,w0:()=>fe,Nn:()=>_e});var u=k(576);const F=(0,k(3888).d)(ue=>function(q){ue(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((J,Re)=>`${Re+1}) ${J.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var se=k(8737);class fe{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const be of q)be.remove(this);else q.remove(this);const{initialTeardown:J}=this;if((0,u.m)(J))try{J()}catch(be){G=be instanceof F?be.errors:[be]}const{_finalizers:Re}=this;if(Re){this._finalizers=null;for(const be of Re)try{ye(be)}catch(We){G=G??[],We instanceof F?G=[...G,...We.errors]:G.push(We)}}if(G)throw new F(G)}}add(G){var q;if(G&&G!==this)if(this.closed)ye(G);else{if(G instanceof fe){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(G)}}_hasParent(G){const{_parentage:q}=this;return q===G||Array.isArray(q)&&q.includes(G)}_addParent(G){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(G),q):q?[q,G]:G}_removeParent(G){const{_parentage:q}=this;q===G?this._parentage=null:Array.isArray(q)&&(0,se.P)(q,G)}remove(G){const{_finalizers:q}=this;q&&(0,se.P)(q,G),G instanceof fe&&G._removeParent(this)}}fe.EMPTY=(()=>{const ue=new fe;return ue.closed=!0,ue})();const ie=fe.EMPTY;function _e(ue){return ue instanceof fe||ue&&"closed"in ue&&(0,u.m)(ue.remove)&&(0,u.m)(ue.add)&&(0,u.m)(ue.unsubscribe)}function ye(ue){(0,u.m)(ue)?ue():ue.unsubscribe()}},2416:(ht,xe,k)=>{k.d(xe,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ht,xe,k)=>{k.d(xe,{E:()=>ne});const ne=new(k(9751).y)(fe=>fe.complete())},8996:(ht,xe,k)=>{k.d(xe,{D:()=>Ee});var u=k(8421),ne=k(5363),F=k(9468),ie=k(9751),ye=k(2202),ue=k(576),G=k(9672);function J(Te,ze){if(!Te)throw new Error("Iterable cannot be null");return new ie.y(Ae=>{(0,G.f)(Ae,ze,()=>{const j=Te[Symbol.asyncIterator]();(0,G.f)(Ae,ze,()=>{j.next().then(we=>{we.done?Ae.complete():Ae.next(we.value)})},0,!0)})})}var Re=k(3670),be=k(8239),We=k(1144),tt=k(6495),me=k(2206),Se=k(4532),Pe=k(3260);function Ee(Te,ze){return ze?function ke(Te,ze){if(null!=Te){if((0,Re.c)(Te))return function se(Te,ze){return(0,u.Xf)(Te).pipe((0,F.R)(ze),(0,ne.Q)(ze))}(Te,ze);if((0,We.z)(Te))return function _e(Te,ze){return new ie.y(Ae=>{let j=0;return ze.schedule(function(){j===Te.length?Ae.complete():(Ae.next(Te[j++]),Ae.closed||this.schedule())})})}(Te,ze);if((0,be.t)(Te))return function fe(Te,ze){return(0,u.Xf)(Te).pipe((0,F.R)(ze),(0,ne.Q)(ze))}(Te,ze);if((0,me.D)(Te))return J(Te,ze);if((0,tt.T)(Te))return function q(Te,ze){return new ie.y(Ae=>{let j;return(0,G.f)(Ae,ze,()=>{j=Te[ye.h](),(0,G.f)(Ae,ze,()=>{let we,X;try{({value:we,done:X}=j.next())}catch(te){return void Ae.error(te)}X?Ae.complete():Ae.next(we)},0,!0)}),()=>(0,ue.m)(j?.return)&&j.return()})}(Te,ze);if((0,Pe.L)(Te))return function Fe(Te,ze){return J((0,Pe.Q)(Te),ze)}(Te,ze)}throw(0,Se.z)(Te)}(Te,ze):(0,u.Xf)(Te)}},8421:(ht,xe,k)=>{k.d(xe,{Xf:()=>Re});var u=k(655),ne=k(1144),F=k(8239),se=k(9751),fe=k(3670),ie=k(2206),_e=k(4532),ye=k(6495),ue=k(3260),G=k(576),q=k(7849),J=k(8822);function Re(ke){if(ke instanceof se.y)return ke;if(null!=ke){if((0,fe.c)(ke))return function be(ke){return new se.y(Ee=>{const Te=ke[J.L]();if((0,G.m)(Te.subscribe))return Te.subscribe(Ee);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ke);if((0,ne.z)(ke))return function We(ke){return new se.y(Ee=>{for(let Te=0;Te<ke.length&&!Ee.closed;Te++)Ee.next(ke[Te]);Ee.complete()})}(ke);if((0,F.t)(ke))return function tt(ke){return new se.y(Ee=>{ke.then(Te=>{Ee.closed||(Ee.next(Te),Ee.complete())},Te=>Ee.error(Te)).then(null,q.h)})}(ke);if((0,ie.D)(ke))return Se(ke);if((0,ye.T)(ke))return function me(ke){return new se.y(Ee=>{for(const Te of ke)if(Ee.next(Te),Ee.closed)return;Ee.complete()})}(ke);if((0,ue.L)(ke))return function Pe(ke){return Se((0,ue.Q)(ke))}(ke)}throw(0,_e.z)(ke)}function Se(ke){return new se.y(Ee=>{(function Fe(ke,Ee){var Te,ze,Ae,j;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Te=(0,u.KL)(ke);!(ze=yield Te.next()).done;)if(Ee.next(ze.value),Ee.closed)return}catch(we){Ae={error:we}}finally{try{ze&&!ze.done&&(j=Te.return)&&(yield j.call(Te))}finally{if(Ae)throw Ae.error}}Ee.complete()})})(ke,Ee).catch(Te=>Ee.error(Te))})}},6451:(ht,xe,k)=>{k.d(xe,{T:()=>ie});var u=k(8189),ne=k(8421),F=k(515),se=k(3269),fe=k(8996);function ie(..._e){const ye=(0,se.yG)(_e),ue=(0,se._6)(_e,1/0),G=_e;return G.length?1===G.length?(0,ne.Xf)(G[0]):(0,u.J)(ue)((0,fe.D)(G,ye)):F.E}},5403:(ht,xe,k)=>{k.d(xe,{Q:()=>F,x:()=>ne});var u=k(930);function ne(se,fe,ie,_e,ye){return new F(se,fe,ie,_e,ye)}class F extends u.Lv{constructor(fe,ie,_e,ye,ue,G){super(fe),this.onFinalize=ue,this.shouldUnsubscribe=G,this._next=ie?function(q){try{ie(q)}catch(J){fe.error(J)}}:super._next,this._error=ye?function(q){try{ye(q)}catch(J){fe.error(J)}finally{this.unsubscribe()}}:super._error,this._complete=_e?function(){try{_e()}catch(q){fe.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ie}=this;super.unsubscribe(),!ie&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},4004:(ht,xe,k)=>{k.d(xe,{U:()=>F});var u=k(4482),ne=k(5403);function F(se,fe){return(0,u.e)((ie,_e)=>{let ye=0;ie.subscribe((0,ne.x)(_e,ue=>{_e.next(se.call(fe,ue,ye++))}))})}},8189:(ht,xe,k)=>{k.d(xe,{J:()=>F});var u=k(5577),ne=k(4671);function F(se=1/0){return(0,u.z)(ne.y,se)}},5577:(ht,xe,k)=>{k.d(xe,{z:()=>ye});var u=k(4004),ne=k(8421),F=k(4482),se=k(9672),fe=k(5403),_e=k(576);function ye(ue,G,q=1/0){return(0,_e.m)(G)?ye((J,Re)=>(0,u.U)((be,We)=>G(J,be,Re,We))((0,ne.Xf)(ue(J,Re))),q):("number"==typeof G&&(q=G),(0,F.e)((J,Re)=>function ie(ue,G,q,J,Re,be,We,tt){const me=[];let Se=0,Pe=0,Fe=!1;const ke=()=>{Fe&&!me.length&&!Se&&G.complete()},Ee=ze=>Se<J?Te(ze):me.push(ze),Te=ze=>{be&&G.next(ze),Se++;let Ae=!1;(0,ne.Xf)(q(ze,Pe++)).subscribe((0,fe.x)(G,j=>{Re?.(j),be?Ee(j):G.next(j)},()=>{Ae=!0},void 0,()=>{if(Ae)try{for(Se--;me.length&&Se<J;){const j=me.shift();We?(0,se.f)(G,We,()=>Te(j)):Te(j)}ke()}catch(j){G.error(j)}}))};return ue.subscribe((0,fe.x)(G,Ee,()=>{Fe=!0,ke()})),()=>{tt?.()}}(J,Re,ue,q)))}},5363:(ht,xe,k)=>{k.d(xe,{Q:()=>se});var u=k(9672),ne=k(4482),F=k(5403);function se(fe,ie=0){return(0,ne.e)((_e,ye)=>{_e.subscribe((0,F.x)(ye,ue=>(0,u.f)(ye,fe,()=>ye.next(ue),ie),()=>(0,u.f)(ye,fe,()=>ye.complete(),ie),ue=>(0,u.f)(ye,fe,()=>ye.error(ue),ie)))})}},3099:(ht,xe,k)=>{k.d(xe,{B:()=>fe});var u=k(8421),ne=k(7579),F=k(930),se=k(4482);function fe(_e={}){const{connector:ye=(()=>new ne.x),resetOnError:ue=!0,resetOnComplete:G=!0,resetOnRefCountZero:q=!0}=_e;return J=>{let Re,be,We,tt=0,me=!1,Se=!1;const Pe=()=>{be?.unsubscribe(),be=void 0},Fe=()=>{Pe(),Re=We=void 0,me=Se=!1},ke=()=>{const Ee=Re;Fe(),Ee?.unsubscribe()};return(0,se.e)((Ee,Te)=>{tt++,!Se&&!me&&Pe();const ze=We=We??ye();Te.add(()=>{tt--,0===tt&&!Se&&!me&&(be=ie(ke,q))}),ze.subscribe(Te),!Re&&tt>0&&(Re=new F.Hp({next:Ae=>ze.next(Ae),error:Ae=>{Se=!0,Pe(),be=ie(Fe,ue,Ae),ze.error(Ae)},complete:()=>{me=!0,Pe(),be=ie(Fe,G),ze.complete()}}),(0,u.Xf)(Ee).subscribe(Re))})(J)}}function ie(_e,ye,...ue){if(!0===ye)return void _e();if(!1===ye)return;const G=new F.Hp({next:()=>{G.unsubscribe(),_e()}});return ye(...ue).subscribe(G)}},9468:(ht,xe,k)=>{k.d(xe,{R:()=>ne});var u=k(4482);function ne(F,se=0){return(0,u.e)((fe,ie)=>{ie.add(F.schedule(()=>fe.subscribe(ie),se))})}},8505:(ht,xe,k)=>{k.d(xe,{b:()=>fe});var u=k(576),ne=k(4482),F=k(5403),se=k(4671);function fe(ie,_e,ye){const ue=(0,u.m)(ie)||_e||ye?{next:ie,error:_e,complete:ye}:ie;return ue?(0,ne.e)((G,q)=>{var J;null===(J=ue.subscribe)||void 0===J||J.call(ue);let Re=!0;G.subscribe((0,F.x)(q,be=>{var We;null===(We=ue.next)||void 0===We||We.call(ue,be),q.next(be)},()=>{var be;Re=!1,null===(be=ue.complete)||void 0===be||be.call(ue),q.complete()},be=>{var We;Re=!1,null===(We=ue.error)||void 0===We||We.call(ue,be),q.error(be)},()=>{var be,We;Re&&(null===(be=ue.unsubscribe)||void 0===be||be.call(ue)),null===(We=ue.finalize)||void 0===We||We.call(ue)}))}):se.y}},4408:(ht,xe,k)=>{k.d(xe,{o:()=>fe});var u=k(727);class ne extends u.w0{constructor(_e,ye){super()}schedule(_e,ye=0){return this}}const F={setInterval(ie,_e,...ye){const{delegate:ue}=F;return ue?.setInterval?ue.setInterval(ie,_e,...ye):setInterval(ie,_e,...ye)},clearInterval(ie){const{delegate:_e}=F;return(_e?.clearInterval||clearInterval)(ie)},delegate:void 0};var se=k(8737);class fe extends ne{constructor(_e,ye){super(_e,ye),this.scheduler=_e,this.work=ye,this.pending=!1}schedule(_e,ye=0){var ue;if(this.closed)return this;this.state=_e;const G=this.id,q=this.scheduler;return null!=G&&(this.id=this.recycleAsyncId(q,G,ye)),this.pending=!0,this.delay=ye,this.id=null!==(ue=this.id)&&void 0!==ue?ue:this.requestAsyncId(q,this.id,ye),this}requestAsyncId(_e,ye,ue=0){return F.setInterval(_e.flush.bind(_e,this),ue)}recycleAsyncId(_e,ye,ue=0){if(null!=ue&&this.delay===ue&&!1===this.pending)return ye;null!=ye&&F.clearInterval(ye)}execute(_e,ye){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ue=this._execute(_e,ye);if(ue)return ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(_e,ye){let G,ue=!1;try{this.work(_e)}catch(q){ue=!0,G=q||new Error("Scheduled action threw falsy error")}if(ue)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:_e,scheduler:ye}=this,{actions:ue}=ye;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(ue,this),null!=_e&&(this.id=this.recycleAsyncId(ye,_e,null)),this.delay=null,super.unsubscribe()}}}},7565:(ht,xe,k)=>{k.d(xe,{v:()=>F});var u=k(6063);class ne{constructor(fe,ie=ne.now){this.schedulerActionCtor=fe,this.now=ie}schedule(fe,ie=0,_e){return new this.schedulerActionCtor(this,fe).schedule(_e,ie)}}ne.now=u.l.now;class F extends ne{constructor(fe,ie=ne.now){super(fe,ie),this.actions=[],this._active=!1}flush(fe){const{actions:ie}=this;if(this._active)return void ie.push(fe);let _e;this._active=!0;do{if(_e=fe.execute(fe.state,fe.delay))break}while(fe=ie.shift());if(this._active=!1,_e){for(;fe=ie.shift();)fe.unsubscribe();throw _e}}}},4986:(ht,xe,k)=>{k.d(xe,{P:()=>se,z:()=>F});var u=k(4408);const F=new(k(7565).v)(u.o),se=F},6063:(ht,xe,k)=>{k.d(xe,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(ht,xe,k)=>{k.d(xe,{z:()=>u});const u={setTimeout(ne,F,...se){const{delegate:fe}=u;return fe?.setTimeout?fe.setTimeout(ne,F,...se):setTimeout(ne,F,...se)},clearTimeout(ne){const{delegate:F}=u;return(F?.clearTimeout||clearTimeout)(ne)},delegate:void 0}},2202:(ht,xe,k)=>{k.d(xe,{h:()=>ne});const ne=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ht,xe,k)=>{k.d(xe,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ht,xe,k)=>{k.d(xe,{_6:()=>ie,jO:()=>se,yG:()=>fe});var u=k(576),ne=k(3532);function F(_e){return _e[_e.length-1]}function se(_e){return(0,u.m)(F(_e))?_e.pop():void 0}function fe(_e){return(0,ne.K)(F(_e))?_e.pop():void 0}function ie(_e,ye){return"number"==typeof F(_e)?_e.pop():ye}},8737:(ht,xe,k)=>{function u(ne,F){if(ne){const se=ne.indexOf(F);0<=se&&ne.splice(se,1)}}k.d(xe,{P:()=>u})},3888:(ht,xe,k)=>{function u(ne){const se=ne(fe=>{Error.call(fe),fe.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}k.d(xe,{d:()=>u})},2806:(ht,xe,k)=>{k.d(xe,{O:()=>se,x:()=>F});var u=k(2416);let ne=null;function F(fe){if(u.v.useDeprecatedSynchronousErrorHandling){const ie=!ne;if(ie&&(ne={errorThrown:!1,error:null}),fe(),ie){const{errorThrown:_e,error:ye}=ne;if(ne=null,_e)throw ye}}else fe()}function se(fe){u.v.useDeprecatedSynchronousErrorHandling&&ne&&(ne.errorThrown=!0,ne.error=fe)}},9672:(ht,xe,k)=>{function u(ne,F,se,fe=0,ie=!1){const _e=F.schedule(function(){se(),ie?ne.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(ne.add(_e),!ie)return _e}k.d(xe,{f:()=>u})},4671:(ht,xe,k)=>{function u(ne){return ne}k.d(xe,{y:()=>u})},1144:(ht,xe,k)=>{k.d(xe,{z:()=>u});const u=ne=>ne&&"number"==typeof ne.length&&"function"!=typeof ne},2206:(ht,xe,k)=>{k.d(xe,{D:()=>ne});var u=k(576);function ne(F){return Symbol.asyncIterator&&(0,u.m)(F?.[Symbol.asyncIterator])}},576:(ht,xe,k)=>{function u(ne){return"function"==typeof ne}k.d(xe,{m:()=>u})},3670:(ht,xe,k)=>{k.d(xe,{c:()=>F});var u=k(8822),ne=k(576);function F(se){return(0,ne.m)(se[u.L])}},6495:(ht,xe,k)=>{k.d(xe,{T:()=>F});var u=k(2202),ne=k(576);function F(se){return(0,ne.m)(se?.[u.h])}},8239:(ht,xe,k)=>{k.d(xe,{t:()=>ne});var u=k(576);function ne(F){return(0,u.m)(F?.then)}},3260:(ht,xe,k)=>{k.d(xe,{L:()=>se,Q:()=>F});var u=k(655),ne=k(576);function F(fe){return(0,u.FC)(this,arguments,function*(){const _e=fe.getReader();try{for(;;){const{value:ye,done:ue}=yield(0,u.qq)(_e.read());if(ue)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(ye)}}finally{_e.releaseLock()}})}function se(fe){return(0,ne.m)(fe?.getReader)}},3532:(ht,xe,k)=>{k.d(xe,{K:()=>ne});var u=k(576);function ne(F){return F&&(0,u.m)(F.schedule)}},4482:(ht,xe,k)=>{k.d(xe,{A:()=>ne,e:()=>F});var u=k(576);function ne(se){return(0,u.m)(se?.lift)}function F(se){return fe=>{if(ne(fe))return fe.lift(function(ie){try{return se(ie,this)}catch(_e){this.error(_e)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ht,xe,k)=>{function u(){}k.d(xe,{Z:()=>u})},9635:(ht,xe,k)=>{k.d(xe,{U:()=>F,z:()=>ne});var u=k(4671);function ne(...se){return F(se)}function F(se){return 0===se.length?u.y:1===se.length?se[0]:function(ie){return se.reduce((_e,ye)=>ye(_e),ie)}}},7849:(ht,xe,k)=>{k.d(xe,{h:()=>F});var u=k(2416),ne=k(3410);function F(se){ne.z.setTimeout(()=>{const{onUnhandledError:fe}=u.v;if(!fe)throw se;fe(se)})}},4532:(ht,xe,k)=>{function u(ne){return new TypeError(`You provided ${null!==ne&&"object"==typeof ne?"an invalid object":`'${ne}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(xe,{z:()=>u})},655:(ht,xe,k)=>{function se(X,te){var ae={};for(var oe in X)Object.prototype.hasOwnProperty.call(X,oe)&&te.indexOf(oe)<0&&(ae[oe]=X[oe]);if(null!=X&&"function"==typeof Object.getOwnPropertySymbols){var He=0;for(oe=Object.getOwnPropertySymbols(X);He<oe.length;He++)te.indexOf(oe[He])<0&&Object.prototype.propertyIsEnumerable.call(X,oe[He])&&(ae[oe[He]]=X[oe[He]])}return ae}function ye(X,te,ae,oe){return new(ae||(ae=Promise))(function(Be,ut){function tn(Ht){try{Mt(oe.next(Ht))}catch(At){ut(At)}}function on(Ht){try{Mt(oe.throw(Ht))}catch(At){ut(At)}}function Mt(Ht){Ht.done?Be(Ht.value):function He(Be){return Be instanceof ae?Be:new ae(function(ut){ut(Be)})}(Ht.value).then(tn,on)}Mt((oe=oe.apply(X,te||[])).next())})}function me(X){return this instanceof me?(this.v=X,this):new me(X)}function Se(X,te,ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,oe=ae.apply(X,te||[]),Be=[];return He={},ut("next"),ut("throw"),ut("return"),He[Symbol.asyncIterator]=function(){return this},He;function ut(un){oe[un]&&(He[un]=function(ei){return new Promise(function(Zn,st){Be.push([un,ei,Zn,st])>1||tn(un,ei)})})}function tn(un,ei){try{!function on(un){un.value instanceof me?Promise.resolve(un.value.v).then(Mt,Ht):At(Be[0][2],un)}(oe[un](ei))}catch(Zn){At(Be[0][3],Zn)}}function Mt(un){tn("next",un)}function Ht(un){tn("throw",un)}function At(un,ei){un(ei),Be.shift(),Be.length&&tn(Be[0][0],Be[0][1])}}function Fe(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae,te=X[Symbol.asyncIterator];return te?te.call(X):(X=function J(X){var te="function"==typeof Symbol&&Symbol.iterator,ae=te&&X[te],oe=0;if(ae)return ae.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&oe>=X.length&&(X=void 0),{value:X&&X[oe++],done:!X}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),ae={},oe("next"),oe("throw"),oe("return"),ae[Symbol.asyncIterator]=function(){return this},ae);function oe(Be){ae[Be]=X[Be]&&function(ut){return new Promise(function(tn,on){!function He(Be,ut,tn,on){Promise.resolve(on).then(function(Mt){Be({value:Mt,done:tn})},ut)}(tn,on,(ut=X[Be](ut)).done,ut.value)})}}}k.d(xe,{FC:()=>Se,KL:()=>Fe,_T:()=>se,mG:()=>ye,qq:()=>me})},4650:(ht,xe,k)=>{k.d(xe,{$8M:()=>ip,$Z:()=>Hp,AFp:()=>mm,AaK:()=>ye,CHM:()=>vd,CRH:()=>ww,CZH:()=>pm,CqO:()=>E_,D6c:()=>Sm,DdM:()=>V_,EJc:()=>qw,EiD:()=>xp,EpF:()=>OI,F$t:()=>w0,F4k:()=>y0,FYo:()=>mb,FiY:()=>Yo,Gf:()=>bw,GfV:()=>gb,Gpc:()=>q,Hsn:()=>VI,Ikx:()=>A0,JOm:()=>nr,JVY:()=>Y,JZr:()=>tt,KtG:()=>pg,L6k:()=>ge,LAX:()=>ot,LFG:()=>je,LSH:()=>Sp,Lbi:()=>$w,Lck:()=>tS,MAs:()=>y_,MGl:()=>Ch,MMx:()=>iw,NdJ:()=>v0,OlP:()=>Nn,Oqu:()=>T0,P3R:()=>rb,PXZ:()=>nE,Q6J:()=>p0,QGY:()=>w_,QP$:()=>Ui,QbO:()=>$S,Qsj:()=>VD,R0b:()=>Xr,RDi:()=>is,Rgc:()=>Nu,SBq:()=>dh,Sil:()=>Ww,Suo:()=>q_,TTD:()=>El,TgZ:()=>em,Udp:()=>I0,VKq:()=>lw,W1O:()=>Cw,X6Q:()=>wm,XFs:()=>gt,Xpm:()=>$o,Xts:()=>Hg,Y36:()=>Zr,YKP:()=>eS,YNc:()=>rl,Yjl:()=>Sn,Yz7:()=>st,Z0I:()=>_i,ZZ4:()=>qh,_Bn:()=>Jx,_UZ:()=>v_,_Vd:()=>uh,_c5:()=>Kh,_uU:()=>ax,aQg:()=>py,c2e:()=>K1,cJS:()=>gi,cg1:()=>x_,dDg:()=>QS,dqk:()=>Dt,eBb:()=>qe,eFA:()=>ny,ekj:()=>x0,eoX:()=>ga,f3M:()=>nt,g9A:()=>Hw,h0i:()=>Oh,hGG:()=>xm,hij:()=>I_,iGM:()=>vw,ifc:()=>Ze,ip1:()=>Uw,jDz:()=>rw,kL8:()=>S_,lG2:()=>vt,lqb:()=>aa,lri:()=>Qw,mCW:()=>ia,n5z:()=>Td,oAB:()=>Q,oxw:()=>b0,pB0:()=>Rt,q3G:()=>Kn,q4F:()=>_b,qLn:()=>_u,qOj:()=>o0,qZA:()=>tm,qzn:()=>x,rWj:()=>Uh,sBO:()=>_a,sIi:()=>Xp,s_b:()=>Fu,soG:()=>gm,tb:()=>zw,tp0:()=>Ol,uIk:()=>c0,vHH:()=>me,vpe:()=>Ki,wAp:()=>Pt,xp6:()=>Ab,z2F:()=>jh,z3N:()=>b,zSh:()=>Gg,zs3:()=>vu});var u=k(7579),ne=k(727),F=k(9751),se=k(6451),fe=k(3099);function ie(o){for(let s in o)if(o[s]===ie)return s;throw Error("Could not find renamed property on target object.")}function _e(o,s){for(const l in s)s.hasOwnProperty(l)&&!o.hasOwnProperty(l)&&(o[l]=s[l])}function ye(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(ye).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const l=s.indexOf("\n");return-1===l?s:s.substring(0,l)}function ue(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const G=ie({__forward_ref__:ie});function q(o){return o.__forward_ref__=q,o.toString=function(){return ye(this())},o}function J(o){return Re(o)?o():o}function Re(o){return"function"==typeof o&&o.hasOwnProperty(G)&&o.__forward_ref__===q}function be(o){return o&&!!o.\u0275providers}const tt="https://g.co/ng/security#xss";class me extends Error{constructor(s,l){super(function Se(o,s){return`NG0${Math.abs(o)}${s?": "+s.trim():""}`}(s,l)),this.code=s}}function Pe(o){return"string"==typeof o?o:null==o?"":String(o)}function ze(o,s){throw new me(-201,!1)}function Ht(o,s){null==o&&function At(o,s,l,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${l} ${d} ${s} <=Actual]`))}(s,o,null,"!=")}function st(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function gi(o){return{providers:o.providers||[],imports:o.imports||[]}}function Qi(o){return Mn(o,$n)||Mn(o,gn)}function _i(o){return null!==Qi(o)}function Mn(o,s){return o.hasOwnProperty(s)?o[s]:null}function Xi(o){return o&&(o.hasOwnProperty(lr)||o.hasOwnProperty(Rn))?o[lr]:null}const $n=ie({\u0275prov:ie}),lr=ie({\u0275inj:ie}),gn=ie({ngInjectableDef:ie}),Rn=ie({ngInjectorDef:ie});var gt=(()=>((gt=gt||{})[gt.Default=0]="Default",gt[gt.Host=1]="Host",gt[gt.Self=2]="Self",gt[gt.SkipSelf=4]="SkipSelf",gt[gt.Optional=8]="Optional",gt))();let Ai;function hn(o){const s=Ai;return Ai=o,s}function li(o,s,l){const d=Qi(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&gt.Optional?null:void 0!==s?s:void ze(ye(o))}const Dt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),nn={},Pn="__NG_DI_FLAG__",Ei="ngTempTokenPath",no=/\n/gm,Mi="__source";let Yt;function ti(o){const s=Yt;return Yt=o,s}function Ji(o,s=gt.Default){if(void 0===Yt)throw new me(-203,!1);return null===Yt?li(o,void 0,s):Yt.get(o,s&gt.Optional?null:void 0,s)}function je(o,s=gt.Default){return(function Bi(){return Ai}()||Ji)(J(o),s)}function nt(o,s=gt.Default){return je(o,It(s))}function It(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function kt(o){const s=[];for(let l=0;l<o.length;l++){const d=J(o[l]);if(Array.isArray(d)){if(0===d.length)throw new me(900,!1);let h,m=gt.Default;for(let v=0;v<d.length;v++){const E=d[v],C=z(E);"number"==typeof C?-1===C?h=E.token:m|=C:h=E}s.push(je(h,m))}else s.push(je(d))}return s}function Nt(o,s){return o[Pn]=s,o.prototype[Pn]=s,o}function z(o){return o[Pn]}function H(o){return{toString:o}.toString()}var V=(()=>((V=V||{})[V.OnPush=0]="OnPush",V[V.Default=1]="Default",V))(),Ze=(()=>{return(o=Ze||(Ze={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",Ze;var o})();const lt={},Ye=[],Ft=ie({\u0275cmp:ie}),ft=ie({\u0275dir:ie}),fn=ie({\u0275pipe:ie}),ci=ie({\u0275mod:ie}),Bn=ie({\u0275fac:ie}),Qn=ie({__NG_ELEMENT_ID__:ie});let Us=0;function $o(o){return H(()=>{const l=!0===o.standalone,d={},h={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===V.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||Ye,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Ze.Emulated,id:"c"+Us++,styles:o.styles||Ye,_:null,setInput:null,schemas:o.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},m=o.dependencies,v=o.features;return h.inputs=Ue(o.inputs,d),h.outputs=Ue(o.outputs),v&&v.forEach(E=>E(h)),h.directiveDefs=m?()=>("function"==typeof m?m():m).map(js).filter(fs):null,h.pipeDefs=m?()=>("function"==typeof m?m():m).map(an).filter(fs):null,h})}function js(o){return pt(o)||pn(o)}function fs(o){return null!==o}function Q(o){return H(()=>({type:o.type,bootstrap:o.bootstrap||Ye,declarations:o.declarations||Ye,imports:o.imports||Ye,exports:o.exports||Ye,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function Ue(o,s){if(null==o)return lt;const l={};for(const d in o)if(o.hasOwnProperty(d)){let h=o[d],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),l[h]=d,s&&(s[h]=m)}return l}const vt=$o;function Sn(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function pt(o){return o[Ft]||null}function pn(o){return o[ft]||null}function an(o){return o[fn]||null}function Ui(o){const s=pt(o)||pn(o)||an(o);return null!==s&&s.standalone}function Dn(o,s){const l=o[ci]||null;if(!l&&!0===s)throw new Error(`Type ${ye(o)} does not have '\u0275mod' property.`);return l}function Ri(o){return Array.isArray(o)&&"object"==typeof o[1]}function zr(o){return Array.isArray(o)&&!0===o[1]}function ba(o){return 0!=(4&o.flags)}function Ir(o){return o.componentOffset>-1}function wa(o){return 1==(1&o.flags)}function xr(o){return null!==o.template}function $s(o){return 0!=(256&o[2])}function dr(o,s){return o.hasOwnProperty(Bn)?o[Bn]:null}class wl{constructor(s,l,d){this.previousValue=s,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function El(){return Gs}function Gs(o){return o.type.prototype.ngOnChanges&&(o.setInput=Dc),so}function so(){const o=Ic(this),s=o?.current;if(s){const l=o.previous;if(l===lt)o.previous=s;else for(let d in s)l[d]=s[d];o.current=null,this.ngOnChanges(s)}}function Dc(o,s,l,d){const h=this.declaredInputs[l],m=Ic(o)||function Cl(o,s){return o[Sr]=s}(o,{previous:lt,current:null}),v=m.current||(m.current={}),E=m.previous,C=E[h];v[h]=new wl(C&&C.currentValue,s,E===lt),o[d]=s}El.ngInherit=!0;const Sr="__ngSimpleChanges__";function Ic(o){return o[Sr]||null}function O(o){for(;Array.isArray(o);)o=o[0];return o}function le(o,s){return O(s[o])}function Me(o,s){return O(s[o.index])}function xt(o,s){return o.data[s]}function cn(o,s){const l=s[o];return Ri(l)?l:l[0]}function wn(o){return 64==(64&o[2])}function zi(o,s){return null==s?null:o[s]}function Tr(o){o[18]=0}function _s(o,s){o[5]+=s;let l=o,d=o[3];for(;null!==d&&(1===s&&1===l[5]||-1===s&&0===l[5]);)d[5]+=s,l=d,d=d[3]}const Lt={lFrame:$v(null),bindingsEnabled:!0};function Sc(){return Lt.bindingsEnabled}function Ne(){return Lt.lFrame.lView}function mn(){return Lt.lFrame.tView}function vd(o){return Lt.lFrame.contextLView=o,o[8]}function pg(o){return Lt.lFrame.contextLView=null,o}function Gi(){let o=Tc();for(;null!==o&&64===o.type;)o=o.parent;return o}function Tc(){return Lt.lFrame.currentTNode}function lo(o,s){const l=Lt.lFrame;l.currentTNode=o,l.isParent=s}function Ff(){return Lt.lFrame.isParent}function Sa(){Lt.lFrame.isParent=!1}function ni(){const o=Lt.lFrame;let s=o.bindingRootIndex;return-1===s&&(s=o.bindingRootIndex=o.tView.bindingStartIndex),s}function Ws(){return Lt.lFrame.bindingIndex++}function Vf(o,s){const l=Lt.lFrame;l.bindingIndex=l.bindingRootIndex=o,Bf(s)}function Bf(o){Lt.lFrame.currentDirectiveIndex=o}function Uf(){return Lt.lFrame.currentQueryIndex}function jf(o){Lt.lFrame.currentQueryIndex=o}function Hv(o){const s=o[1];return 2===s.type?s.declTNode:1===s.type?o[6]:null}function _g(o,s,l){if(l&gt.SkipSelf){let h=s,m=o;for(;!(h=h.parent,null!==h||l&gt.Host||(h=Hv(m),null===h||(m=m[15],10&h.type))););if(null===h)return!1;s=h,o=m}const d=Lt.lFrame=yg();return d.currentTNode=s,d.lView=o,!0}function Hf(o){const s=yg(),l=o[1];Lt.lFrame=s,s.currentTNode=l.firstChild,s.lView=o,s.tView=l,s.contextLView=o,s.bindingIndex=l.bindingStartIndex,s.inI18n=!1}function yg(){const o=Lt.lFrame,s=null===o?null:o.child;return null===s?$v(o):s}function $v(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function vg(){const o=Lt.lFrame;return Lt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const $f=vg;function bg(){const o=vg();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Ar(){return Lt.lFrame.selectedIndex}function Dl(o){Lt.lFrame.selectedIndex=o}function Un(){const o=Lt.lFrame;return xt(o.tView,o.selectedIndex)}function bs(o,s){for(let l=s.directiveStart,d=s.directiveEnd;l<d;l++){const m=o.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:C,ngAfterViewChecked:I,ngOnDestroy:T}=m;v&&(o.contentHooks||(o.contentHooks=[])).push(-l,v),E&&((o.contentHooks||(o.contentHooks=[])).push(l,E),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(l,E)),C&&(o.viewHooks||(o.viewHooks=[])).push(-l,C),I&&((o.viewHooks||(o.viewHooks=[])).push(l,I),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(l,I)),null!=T&&(o.destroyHooks||(o.destroyHooks=[])).push(l,T)}}function To(o,s,l){wd(o,s,3,l)}function Oc(o,s,l,d){(3&o[2])===l&&wd(o,s,l,d)}function Ko(o,s){let l=o[2];(3&l)===s&&(l&=2047,l+=1,o[2]=l)}function wd(o,s,l,d){const m=d??-1,v=s.length-1;let E=0;for(let C=void 0!==d?65535&o[18]:0;C<v;C++)if("number"==typeof s[C+1]){if(E=s[C],null!=d&&E>=d)break}else s[C]<0&&(o[18]+=65536),(E<m||-1==m)&&(Gf(o,l,s,C),o[18]=(4294901760&o[18])+C+2),C++}function Gf(o,s,l,d){const h=l[d]<0,m=l[d+1],E=o[h?-l[d]:l[d]];if(h){if(o[2]>>11<o[18]>>16&&(3&o[2])===s){o[2]+=2048;try{m.call(E)}finally{}}}else try{m.call(E)}finally{}}class Il{constructor(s,l,d){this.factory=s,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function Gn(o,s,l){let d=0;for(;d<l.length;){const h=l[d];if("number"==typeof h){if(0!==h)break;d++;const m=l[d++],v=l[d++],E=l[d++];o.setAttribute(s,v,E,m)}else{const m=h,v=l[++d];Sl(m)?o.setProperty(s,m,v):o.setAttribute(s,m,v),d++}}return d}function kc(o){return 3===o||4===o||6===o}function Sl(o){return 64===o.charCodeAt(0)}function Ma(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let l=-1;for(let d=0;d<s.length;d++){const h=s[d];"number"==typeof h?l=h:0===l||Pc(o,l,h,null,-1===l||2===l?s[++d]:null)}}return o}function Pc(o,s,l,d,h){let m=0,v=o.length;if(-1===s)v=-1;else for(;m<o.length;){const E=o[m++];if("number"==typeof E){if(E===s){v=-1;break}if(E>s){v=m-1;break}}}for(;m<o.length;){const E=o[m];if("number"==typeof E)break;if(E===l){if(null===d)return void(null!==h&&(o[m+1]=h));if(d===o[m+1])return void(o[m+2]=h)}m++,null!==d&&m++,null!==h&&m++}-1!==v&&(o.splice(v,0,s),m=v+1),o.splice(m++,0,l),null!==d&&o.splice(m++,0,d),null!==h&&o.splice(m++,0,h)}function Kf(o){return-1!==o}function Nc(o){return 32767&o}function Ra(o,s){let l=function Zf(o){return o>>16}(o),d=s;for(;l>0;)d=d[15],l--;return d}let Zs=!0;function Fc(o){const s=Zs;return Zs=o,s}let Lc=0;const qr={};function Vc(o,s){const l=Bc(o,s);if(-1!==l)return l;const d=s[1];d.firstCreatePass&&(o.injectorIndex=s.length,Tl(d.data,o),Tl(s,null),Tl(d.blueprint,null));const h=Dd(o,s),m=o.injectorIndex;if(Kf(h)){const v=Nc(h),E=Ra(h,s),C=E[1].data;for(let I=0;I<8;I++)s[m+I]=E[v+I]|C[v+I]}return s[m+8]=h,m}function Tl(o,s){o.push(0,0,0,0,0,0,0,0,s)}function Bc(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function Dd(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let l=0,d=null,h=s;for(;null!==h;){if(d=np(h),null===d)return-1;if(l++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function Id(o,s,l){!function Cd(o,s,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(Qn)&&(d=l[Qn]),null==d&&(d=l[Qn]=Lc++);const h=255&d;s.data[o+(h>>5)]|=1<<h}(o,s,l)}function Zo(o,s,l){if(l&gt.Optional||void 0!==o)return o;ze()}function Cg(o,s,l,d){if(l&gt.Optional&&void 0===d&&(d=null),0==(l&(gt.Self|gt.Host))){const h=o[9],m=hn(void 0);try{return h?h.get(s,d,l&gt.Optional):li(s,d,l&gt.Optional)}finally{hn(m)}}return Zo(d,0,l)}function Dg(o,s,l,d=gt.Default,h){if(null!==o){if(1024&s[2]){const v=function tp(o,s,l,d,h){let m=o,v=s;for(;null!==m&&null!==v&&1024&v[2]&&!(256&v[2]);){const E=xd(m,v,l,d|gt.Self,qr);if(E!==qr)return E;let C=m.parent;if(!C){const I=v[21];if(I){const T=I.get(l,qr,d);if(T!==qr)return T}C=np(v),v=v[15]}m=C}return h}(o,s,l,d,qr);if(v!==qr)return v}const m=xd(o,s,l,d,qr);if(m!==qr)return m}return Cg(s,l,d,h)}function xd(o,s,l,d,h){const m=function Xf(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty(Qn)?o[Qn]:void 0;return"number"==typeof s?s>=0?255&s:ep:s}(l);if("function"==typeof m){if(!_g(s,o,d))return d&gt.Host?Zo(h,0,d):Cg(s,l,d,h);try{const v=m(d);if(null!=v||d&gt.Optional)return v;ze()}finally{$f()}}else if("number"==typeof m){let v=null,E=Bc(o,s),C=-1,I=d&gt.Host?s[16][6]:null;for((-1===E||d&gt.SkipSelf)&&(C=-1===E?Dd(o,s):s[E+8],-1!==C&&Jf(d,!1)?(v=s[1],E=Nc(C),s=Ra(C,s)):E=-1);-1!==E;){const T=s[1];if(Sd(m,E,T.data)){const L=Qf(E,s,l,v,d,I);if(L!==qr)return L}C=s[E+8],-1!==C&&Jf(d,s[1].data[E+8]===I)&&Sd(m,E,s)?(v=T,E=Nc(C),s=Ra(C,s)):E=-1}}return h}function Qf(o,s,l,d,h,m){const v=s[1],E=v.data[o+8],T=Uc(E,v,l,null==d?Ir(E)&&Zs:d!=v&&0!=(3&E.type),h&gt.Host&&m===E);return null!==T?Es(s,v,T,E):qr}function Uc(o,s,l,d,h){const m=o.providerIndexes,v=s.data,E=1048575&m,C=o.directiveStart,T=m>>20,K=h?E+T:o.directiveEnd;for(let re=d?E:E+T;re<K;re++){const Ce=v[re];if(re<C&&l===Ce||re>=C&&Ce.type===l)return re}if(h){const re=v[C];if(re&&xr(re)&&re.type===l)return C}return null}function Es(o,s,l,d){let h=o[l];const m=s.data;if(function Zv(o){return o instanceof Il}(h)){const v=h;v.resolving&&function ke(o,s){const l=s?`. Dependency path: ${s.join(" > ")} > ${o}`:"";throw new me(-200,`Circular dependency in DI detected for ${o}${l}`)}(function Fe(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Pe(o)}(m[l]));const E=Fc(v.canSeeViewProviders);v.resolving=!0;const C=v.injectImpl?hn(v.injectImpl):null;_g(o,d,gt.Default);try{h=o[l]=v.factory(void 0,m,o,d),s.firstCreatePass&&l>=d.directiveStart&&function wg(o,s,l){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:m}=s.type.prototype;if(d){const v=Gs(s);(l.preOrderHooks||(l.preOrderHooks=[])).push(o,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(o,v)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-o,h),m&&((l.preOrderHooks||(l.preOrderHooks=[])).push(o,m),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(o,m))}(l,m[l],s)}finally{null!==C&&hn(C),Fc(E),v.resolving=!1,$f()}}return h}function Sd(o,s,l){return!!(l[s+(o>>5)]&1<<o)}function Jf(o,s){return!(o&gt.Self||o&gt.Host&&s)}class Mo{constructor(s,l){this._tNode=s,this._lView=l}get(s,l,d){return Dg(this._tNode,this._lView,s,It(d),l)}}function ep(){return new Mo(Gi(),Ne())}function Td(o){return H(()=>{const s=o.prototype.constructor,l=s[Bn]||jc(s),d=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==d;){const m=h[Bn]||jc(h);if(m&&m!==l)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function jc(o){return Re(o)?()=>{const s=jc(J(o));return s&&s()}:dr(o)}function np(o){const s=o[1],l=s.type;return 2===l?s.declTNode:1===l?o[6]:null}function ip(o){return function Yv(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const l=o.attrs;if(l){const d=l.length;let h=0;for(;h<d;){const m=l[h];if(kc(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<d&&"string"==typeof l[h];)h++;else{if(m===s)return l[h+1];h+=2}}}return null}(Gi(),o)}const Cs="__parameters__";function Al(o,s,l){return H(()=>{const d=function rp(o){return function(...l){if(o){const d=o(...l);for(const h in d)this[h]=d[h]}}}(s);function h(...m){if(this instanceof h)return d.apply(this,m),this;const v=new h(...m);return E.annotation=v,E;function E(C,I,T){const L=C.hasOwnProperty(Cs)?C[Cs]:Object.defineProperty(C,Cs,{value:[]})[Cs];for(;L.length<=T;)L.push(null);return(L[T]=L[T]||[]).push(v),C}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}class Nn{constructor(s,l){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=st({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ds(o,s){o.forEach(l=>Array.isArray(l)?Ds(l,s):s(l))}function cp(o,s,l){s>=o.length?o.push(l):o.splice(s,0,l)}function Od(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}function zc(o,s){const l=[];for(let d=0;d<o;d++)l.push(s);return l}function en(o,s,l){let d=Xe(o,s);return d>=0?o[1|d]=l:(d=~d,function Gc(o,s,l,d){let h=o.length;if(h==s)o.push(l,d);else if(1===h)o.push(d,o[0]),o[0]=l;else{for(h--,o.push(o[h-1],o[h]);h>s;)o[h]=o[h-2],h--;o[s]=l,o[s+1]=d}}(o,d,s,l)),d}function Oo(o,s){const l=Xe(o,s);if(l>=0)return o[1|l]}function Xe(o,s){return function Mr(o,s,l){let d=0,h=o.length>>l;for(;h!==d;){const m=d+(h-d>>1),v=o[m<<l];if(s===v)return m<<l;v>s?h=m:d=m+1}return~(h<<l)}(o,s,1)}const Yo=Nt(Al("Optional"),8),Ol=Nt(Al("SkipSelf"),4);var nr=(()=>((nr=nr||{})[nr.Important=1]="Important",nr[nr.DashCase=2]="DashCase",nr))();const fr=new Map;let fp=0;const Xc="__ngContext__";function qi(o,s){Ri(s)?(o[Xc]=s[20],function pp(o){fr.set(o[20],o)}(s)):o[Xc]=s}function Bl(o,s){return undefined(o,s)}function Fo(o){const s=o[3];return zr(s)?s[3]:s}function xs(o){return Jc(o[13])}function zd(o){return Jc(o[4])}function Jc(o){for(;null!==o&&!zr(o);)o=o[4];return o}function ts(o,s,l,d,h){if(null!=d){let m,v=!1;zr(d)?m=d:Ri(d)&&(v=!0,d=d[0]);const E=O(d);0===o&&null!==l?null==h?Ha(s,l,E):ea(s,l,E,h||null,!0):1===o&&null!==l?ea(s,l,E,h||null,!0):2===o?function ns(o,s,l){const d=ql(o,s);d&&function za(o,s,l,d){o.removeChild(s,l,d)}(o,d,s,l)}(s,E,v):3===o&&s.destroyNode(E),null!=m&&function Qd(o,s,l,d,h){const m=l[7];m!==O(l)&&ts(s,o,d,m,h);for(let E=10;E<l.length;E++){const C=l[E];qa(C[1],C,o,s,d,m)}}(s,o,m,l,h)}}function jl(o,s,l){return o.createElement(s,l)}function Hl(o,s){const l=o[9],d=l.indexOf(s),h=s[3];512&s[2]&&(s[2]&=-513,_s(h,-1)),l.splice(d,1)}function $l(o,s){if(o.length<=10)return;const l=10+s,d=o[l];if(d){const h=d[17];null!==h&&h!==o&&Hl(h,d),s>0&&(o[l-1][4]=d[4]);const m=Od(o,10+s);!function Lg(o,s){qa(o,s,s[11],2,null,null),s[0]=null,s[6]=null}(d[1],d);const v=m[19];null!==v&&v.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function zl(o,s){if(!(128&s[2])){const l=s[11];l.destroyNode&&qa(o,s,l,3,null,null),function Wd(o){let s=o[13];if(!s)return Kd(o[1],o);for(;s;){let l=null;if(Ri(s))l=s[13];else{const d=s[10];d&&(l=d)}if(!l){for(;s&&!s[4]&&s!==o;)Ri(s)&&Kd(s[1],s),s=s[3];null===s&&(s=o),Ri(s)&&Kd(s[1],s),l=s&&s[4]}s=l}}(s)}}function Kd(o,s){if(!(128&s[2])){s[2]&=-65,s[2]|=128,function Zd(o,s){let l;if(null!=o&&null!=(l=o.destroyHooks))for(let d=0;d<l.length;d+=2){const h=s[l[d]];if(!(h instanceof Il)){const m=l[d+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const E=h[m[v]],C=m[v+1];try{C.call(E)}finally{}}else try{m.call(h)}finally{}}}}(o,s),function Ss(o,s){const l=o.cleanup,d=s[7];let h=-1;if(null!==l)for(let m=0;m<l.length-1;m+=2)if("string"==typeof l[m]){const v=l[m+3];v>=0?d[h=v]():d[h=-v].unsubscribe(),m+=2}else{const v=d[h=l[m+1]];l[m].call(v)}if(null!==d){for(let m=h+1;m<d.length;m++)(0,d[m])();s[7]=null}}(o,s),1===s[1].type&&s[11].destroy();const l=s[17];if(null!==l&&zr(s[3])){l!==s[3]&&Hl(l,s);const d=s[19];null!==d&&d.detachView(o)}!function Pi(o){fr.delete(o[20])}(s)}}function Ug(o,s,l){return function bp(o,s,l){let d=s;for(;null!==d&&40&d.type;)d=(s=d).parent;if(null===d)return l[0];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:m}=o.data[d.directiveStart+h];if(m===Ze.None||m===Ze.Emulated)return null}return Me(d,l)}}(o,s.parent,l)}function ea(o,s,l,d,h){o.insertBefore(s,l,d,h)}function Ha(o,s,l){o.appendChild(s,l)}function $a(o,s,l,d,h){null!==d?ea(o,s,l,d,h):Ha(o,s,l)}function ql(o,s){return o.parentNode(s)}function Yd(o,s,l){return nu(o,s,l)}let lu,th,Wa,nu=function Ts(o,s,l){return 40&o.type?Me(o,l):null};function ru(o,s,l,d){const h=Ug(o,d,s),m=s[11],E=Yd(d.parent||s[6],d,s);if(null!=h)if(Array.isArray(l))for(let C=0;C<l.length;C++)$a(m,h,l[C],E,!1);else $a(m,h,l,E,!1)}function As(o,s){if(null!==s){const l=s.type;if(3&l)return Me(s,o);if(4&l)return ir(-1,o[s.index]);if(8&l){const d=s.child;if(null!==d)return As(o,d);{const h=o[s.index];return zr(h)?ir(-1,h):O(h)}}if(32&l)return Bl(s,o)()||O(o[s.index]);{const d=Ga(o,s);return null!==d?Array.isArray(d)?d[0]:As(Fo(o[16]),d):As(o,s.next)}}return null}function Ga(o,s){return null!==s?o[16][6].projection[s.projection]:null}function ir(o,s){const l=10+o+1;if(l<s.length){const d=s[l],h=d[1].firstChild;if(null!==h)return As(d,h)}return s[7]}function ou(o,s,l,d,h,m,v){for(;null!=l;){const E=d[l.index],C=l.type;if(v&&0===s&&(E&&qi(O(E),d),l.flags|=2),32!=(32&l.flags))if(8&C)ou(o,s,l.child,d,h,m,!1),ts(s,o,h,E,m);else if(32&C){const I=Bl(l,d);let T;for(;T=I();)ts(s,o,h,T,m);ts(s,o,h,E,m)}else 16&C?Wr(o,s,d,l,h,m):ts(s,o,h,E,m);l=v?l.projectionNext:l.next}}function qa(o,s,l,d,h,m){ou(l,d,o.firstChild,s,h,m,!1)}function Wr(o,s,l,d,h,m){const v=l[16],C=v[6].projection[d.projection];if(Array.isArray(C))for(let I=0;I<C.length;I++)ts(s,o,h,C[I],m);else ou(o,s,C,v[3],h,m,!0)}function Lo(o,s,l){""===l?o.removeAttribute(s,"class"):o.setAttribute(s,"class",l)}function Xd(o,s,l){const{mergedAttrs:d,classes:h,styles:m}=l;null!==d&&Gn(o,s,d),null!==h&&Lo(o,s,h),null!==m&&function au(o,s,l){o.setAttribute(s,"style",l)}(o,s,m)}function ta(o){return function Jd(){if(void 0===lu&&(lu=null,Dt.trustedTypes))try{lu=Dt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return lu}()?.createHTML(o)||o}function is(o){th=o}function uu(o){return function cu(){if(void 0===Wa&&(Wa=null,Dt.trustedTypes))try{Wa=Dt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Wa}()?.createScriptURL(o)||o}class rr{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${tt})`}}class Za extends rr{getTypeName(){return"HTML"}}class Dp extends rr{getTypeName(){return"Style"}}class y extends rr{getTypeName(){return"Script"}}class p extends rr{getTypeName(){return"URL"}}class g extends rr{getTypeName(){return"ResourceURL"}}function b(o){return o instanceof rr?o.changingThisBreaksApplicationSecurity:o}function x(o,s){const l=function M(o){return o instanceof rr&&o.getTypeName()||null}(o);if(null!=l&&l!==s){if("ResourceURL"===l&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${l} (see ${tt})`)}return l===s}function Y(o){return new Za(o)}function ge(o){return new Dp(o)}function qe(o){return new y(o)}function ot(o){return new p(o)}function Rt(o){return new g(o)}class Wn{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const l=(new window.DOMParser).parseFromString(ta(s),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(s):(l.removeChild(l.firstChild),l)}catch{return null}}}class mo{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const d=this.inertDocument.createElement("body");l.appendChild(d)}}getInertBodyElement(s){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=ta(s),l;const d=this.inertDocument.createElement("body");return d.innerHTML=ta(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(s){const l=s.attributes;for(let h=l.length-1;0<h;h--){const v=l.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&s.removeAttribute(v)}let d=s.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const hu=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function ia(o){return(o=String(o)).match(hu)?o:"unsafe:"+o}function go(o){const s={};for(const l of o.split(","))s[l]=!0;return s}function ra(...o){const s={};for(const l of o)for(const d in l)l.hasOwnProperty(d)&&(s[d]=!0);return s}const Kl=go("area,br,col,hr,img,wbr"),ih=go("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),oa=go("rp,rt"),Yl=ra(Kl,ra(ih,go("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ra(oa,go("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ra(oa,ih)),Ya=go("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ED=ra(Ya,go("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),go("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),CO=go("script,style,template");class DO{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let l=s.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(s){const l=s.nodeName.toLowerCase();if(!Yl.hasOwnProperty(l))return this.sanitizedSomething=!0,!CO.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=s.attributes;for(let h=0;h<d.length;h++){const m=d.item(h),v=m.name,E=v.toLowerCase();if(!ED.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let C=m.value;Ya[E]&&(C=ia(C)),this.buf.push(" ",v,'="',nb(C),'"')}return this.buf.push(">"),!0}endElement(s){const l=s.nodeName.toLowerCase();Yl.hasOwnProperty(l)&&!Kl.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(s){this.buf.push(nb(s))}checkClobberedElement(s,l){if(l&&(s.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return l}}const jg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,CD=/([^\#-~ |!])/g;function nb(o){return o.replace(/&/g,"&amp;").replace(jg,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(CD,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ip;function xp(o,s){let l=null;try{Ip=Ip||function St(o){const s=new mo(o);return function du(){try{return!!(new window.DOMParser).parseFromString(ta(""),"text/html")}catch{return!1}}()?new Wn(s):s}(o);let d=s?String(s):"";l=Ip.getInertBodyElement(d);let h=5,m=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=m,m=l.innerHTML,l=Ip.getInertBodyElement(d)}while(d!==m);return ta((new DO).sanitizeChildren(Kr(l)||l))}finally{if(l){const d=Kr(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Kr(o){return"content"in o&&function ib(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Kn=(()=>((Kn=Kn||{})[Kn.NONE=0]="NONE",Kn[Kn.HTML=1]="HTML",Kn[Kn.STYLE=2]="STYLE",Kn[Kn.SCRIPT=3]="SCRIPT",Kn[Kn.URL=4]="URL",Kn[Kn.RESOURCE_URL=5]="RESOURCE_URL",Kn))();function Sp(o){const s=sa();return s?s.sanitize(Kn.URL,o)||"":x(o,"URL")?b(o):ia(Pe(o))}function oh(o){const s=sa();if(s)return uu(s.sanitize(Kn.RESOURCE_URL,o)||"");if(x(o,"ResourceURL"))return uu(b(o));throw new me(904,!1)}function rb(o,s,l){return function sh(o,s){return"src"===s&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===s&&("base"===o||"link"===o)?oh:Sp}(s,l)(o)}function sa(){const o=Ne();return o&&o[12]}const Hg=new Nn("ENVIRONMENT_INITIALIZER"),ob=new Nn("INJECTOR",-1),sb=new Nn("INJECTOR_DEF_TYPES");class ab{get(s,l=nn){if(l===nn){const d=new Error(`NullInjectorError: No provider for ${ye(s)}!`);throw d.name="NullInjectorError",d}return l}}function TD(...o){return{\u0275providers:AD(0,o),\u0275fromNgModule:!0}}function AD(o,...s){const l=[],d=new Set;let h;return Ds(s,m=>{const v=m;ah(v,l,[],d)&&(h||(h=[]),h.push(v))}),void 0!==h&&lb(h,l),l}function lb(o,s){for(let l=0;l<o.length;l++){const{providers:h}=o[l];Qa(h,m=>{s.push(m)})}}function ah(o,s,l,d){if(!(o=J(o)))return!1;let h=null,m=Xi(o);const v=!m&&pt(o);if(m||v){if(v&&!v.standalone)return!1;h=o}else{const C=o.ngModule;if(m=Xi(C),!m)return!1;h=C}const E=d.has(h);if(v){if(E)return!1;if(d.add(h),v.dependencies){const C="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const I of C)ah(I,s,l,d)}}else{if(!m)return!1;{if(null!=m.imports&&!E){let I;d.add(h);try{Ds(m.imports,T=>{ah(T,s,l,d)&&(I||(I=[]),I.push(T))})}finally{}void 0!==I&&lb(I,s)}if(!E){const I=dr(h)||(()=>new h);s.push({provide:h,useFactory:I,deps:Ye},{provide:sb,useValue:h,multi:!0},{provide:Hg,useValue:()=>je(h),multi:!0})}const C=m.providers;null==C||E||Qa(C,T=>{s.push(T)})}}return h!==o&&void 0!==o.providers}function Qa(o,s){for(let l of o)be(l)&&(l=l.\u0275providers),Array.isArray(l)?Qa(l,s):s(l)}const MD=ie({provide:String,useValue:ie});function zg(o){return null!==o&&"object"==typeof o&&MD in o}function Ql(o){return"function"==typeof o}const Gg=new Nn("Set Injector scope."),Ap={},OD={};let Mp;function Rp(){return void 0===Mp&&(Mp=new ab),Mp}class aa{}class qg extends aa{constructor(s,l,d,h){super(),this.parent=l,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Pp(s,v=>this.processProvider(v)),this.records.set(ob,pu(void 0,this)),h.has("environment")&&this.records.set(aa,pu(void 0,this));const m=this.records.get(Gg);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(sb.multi,Ye,gt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const l=ti(this),d=hn(void 0);try{return s()}finally{ti(l),hn(d)}}get(s,l=nn,d=gt.Default){this.assertNotDestroyed(),d=It(d);const h=ti(this),m=hn(void 0);try{if(!(d&gt.SkipSelf)){let E=this.records.get(s);if(void 0===E){const C=function hb(o){return"function"==typeof o||"object"==typeof o&&o instanceof Nn}(s)&&Qi(s);E=C&&this.injectableDefInScope(C)?pu(lh(s),Ap):null,this.records.set(s,E)}if(null!=E)return this.hydrate(s,E)}return(d&gt.Self?Rp():this.parent).get(s,l=d&gt.Optional&&l===nn?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[Ei]=v[Ei]||[]).unshift(ye(s)),h)throw v;return function B(o,s,l,d){const h=o[Ei];throw s[Mi]&&h.unshift(s[Mi]),o.message=function R(o,s,l,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let h=ye(s);if(Array.isArray(s))h=s.map(ye).join(" -> ");else if("object"==typeof s){let m=[];for(let v in s)if(s.hasOwnProperty(v)){let E=s[v];m.push(v+":"+("string"==typeof E?JSON.stringify(E):ye(E)))}h=`{${m.join(", ")}}`}return`${l}${d?"("+d+")":""}[${h}]: ${o.replace(no,"\n  ")}`}("\n"+o.message,h,l,d),o.ngTokenPath=h,o[Ei]=null,o}(v,s,"R3InjectorError",this.source)}throw v}finally{hn(m),ti(h)}}resolveInjectorInitializers(){const s=ti(this),l=hn(void 0);try{const d=this.get(Hg.multi,Ye,gt.Self);for(const h of d)h()}finally{ti(s),hn(l)}}toString(){const s=[],l=this.records;for(const d of l.keys())s.push(ye(d));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new me(205,!1)}processProvider(s){let l=Ql(s=J(s))?s:J(s&&s.provide);const d=function kD(o){return zg(o)?pu(void 0,o.useValue):pu(db(o),Ap)}(s);if(Ql(s)||!0!==s.multi)this.records.get(l);else{let h=this.records.get(l);h||(h=pu(void 0,Ap,!0),h.factory=()=>kt(h.multi),this.records.set(l,h)),l=s,h.multi.push(s)}this.records.set(l,d)}hydrate(s,l){return l.value===Ap&&(l.value=OD,l.value=l.factory()),"object"==typeof l.value&&l.value&&function kp(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(s){if(!s.providedIn)return!1;const l=J(s.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function lh(o){const s=Qi(o),l=null!==s?s.factory:dr(o);if(null!==l)return l;if(o instanceof Nn)throw new me(204,!1);if(o instanceof Function)return function Op(o){const s=o.length;if(s>0)throw zc(s,"?"),new me(204,!1);const l=function ar(o){const s=o&&(o[$n]||o[gn]);if(s){const l=function wi(o){if(o.hasOwnProperty("name"))return o.name;const s=(""+o).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),s}return null}(o);return null!==l?()=>l.factory(o):()=>new o}(o);throw new me(204,!1)}function db(o,s,l){let d;if(Ql(o)){const h=J(o);return dr(h)||lh(h)}if(zg(o))d=()=>J(o.useValue);else if(function ub(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...kt(o.deps||[]));else if(function cb(o){return!(!o||!o.useExisting)}(o))d=()=>je(J(o.useExisting));else{const h=J(o&&(o.useClass||o.provide));if(!function PD(o){return!!o.deps}(o))return dr(h)||lh(h);d=()=>new h(...kt(o.deps))}return d}function pu(o,s,l=!1){return{factory:o,value:s,multi:l?[]:void 0}}function Pp(o,s){for(const l of o)Array.isArray(l)?Pp(l,s):l&&be(l)?Pp(l.\u0275providers,s):s(l)}class Np{}class ch{}class FD{resolveComponentFactory(s){throw function fb(o){const s=Error(`No component factory found for ${ye(o)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=o,s}(s)}}let uh=(()=>{class o{}return o.NULL=new FD,o})();function LD(){return gu(Gi(),Ne())}function gu(o,s){return new dh(Me(o,s))}let dh=(()=>{class o{constructor(l){this.nativeElement=l}}return o.__NG_ELEMENT_ID__=LD,o})();function pb(o){return o instanceof dh?o.nativeElement:o}class mb{}let VD=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function BD(){const o=Ne(),l=cn(Gi().index,o);return(Ri(l)?l:o)[11]}(),o})(),UD=(()=>{class o{}return o.\u0275prov=st({token:o,providedIn:"root",factory:()=>null}),o})();class gb{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const _b=new gb("15.0.3"),Wg={};function Lp(o){return o.ngOriginalError}class _u{constructor(){this._console=console}handleError(s){const l=this._findOriginalError(s);this._console.error("ERROR",s),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(s){let l=s&&Lp(s);for(;l&&Lp(l);)l=Lp(l);return l||null}}function la(o){return o instanceof Function?o():o}function Eb(o,s,l){let d=o.length;for(;;){const h=o.indexOf(s,l);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const m=s.length;if(h+m===d||o.charCodeAt(h+m)<=32)return h}l=h+1}}const Zg="ng-template";function Cb(o,s,l){let d=0;for(;d<o.length;){let h=o[d++];if(l&&"class"===h){if(h=o[d],-1!==Eb(h.toLowerCase(),s,0))return!0}else if(1===h){for(;d<o.length&&"string"==typeof(h=o[d++]);)if(h.toLowerCase()===s)return!0;return!1}}return!1}function Vp(o){return 4===o.type&&o.value!==Zg}function Db(o,s,l){return s===(4!==o.type||l?o.value:Zg)}function Ib(o,s,l){let d=4;const h=o.attrs||[],m=function ZD(o){for(let s=0;s<o.length;s++)if(kc(o[s]))return s;return o.length}(h);let v=!1;for(let E=0;E<s.length;E++){const C=s[E];if("number"!=typeof C){if(!v)if(4&d){if(d=2|1&d,""!==C&&!Db(o,C,l)||""===C&&1===s.length){if(rs(d))return!1;v=!0}}else{const I=8&d?C:s[++E];if(8&d&&null!==o.attrs){if(!Cb(o.attrs,I,l)){if(rs(d))return!1;v=!0}continue}const L=WD(8&d?"class":C,h,Vp(o),l);if(-1===L){if(rs(d))return!1;v=!0;continue}if(""!==I){let K;K=L>m?"":h[L+1].toLowerCase();const re=8&d?K:null;if(re&&-1!==Eb(re,I,0)||2&d&&I!==K){if(rs(d))return!1;v=!0}}}}else{if(!v&&!rs(d)&&!rs(C))return!1;if(v&&rs(C))continue;v=!1,d=C|1&d}}return rs(d)||v}function rs(o){return 0==(1&o)}function WD(o,s,l,d){if(null===s)return-1;let h=0;if(d||!l){let m=!1;for(;h<s.length;){const v=s[h];if(v===o)return h;if(3===v||6===v)m=!0;else{if(1===v||2===v){let E=s[++h];for(;"string"==typeof E;)E=s[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=m?1:2}return-1}return function Bp(o,s){let l=o.indexOf(4);if(l>-1)for(l++;l<o.length;){const d=o[l];if("number"==typeof d)return-1;if(d===s)return l;l++}return-1}(s,o)}function xb(o,s,l=!1){for(let d=0;d<s.length;d++)if(Ib(o,s[d],l))return!0;return!1}function YD(o,s){e:for(let l=0;l<s.length;l++){const d=s[l];if(o.length===d.length){for(let h=0;h<o.length;h++)if(o[h]!==d[h])continue e;return!0}}return!1}function Sb(o,s){return o?":not("+s.trim()+")":s}function Tb(o){let s=o[0],l=1,d=2,h="",m=!1;for(;l<o.length;){let v=o[l];if("string"==typeof v)if(2&d){const E=o[++l];h+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!rs(v)&&(s+=Sb(m,h),h=""),d=v,m=m||!rs(d);l++}return""!==h&&(s+=Sb(m,h)),s}const Kt={};function Ab(o){mr(mn(),Ne(),Ar()+o,!1)}function mr(o,s,l,d){if(!d)if(3==(3&s[2])){const m=o.preOrderCheckHooks;null!==m&&To(s,m,l)}else{const m=o.preOrderHooks;null!==m&&Oc(s,m,0,l)}Dl(l)}function Qg(o,s=null,l=null,d){const h=Jl(o,s,l,d);return h.resolveInjectorInitializers(),h}function Jl(o,s=null,l=null,d,h=new Set){const m=[l||Ye,TD(o)];return d=d||("object"==typeof o?void 0:ye(o)),new qg(m,s||Rp(),d||null,h)}let vu=(()=>{class o{static create(l,d){if(Array.isArray(l))return Qg({name:""},d,l,"");{const h=l.name??"";return Qg({name:h},l.parent,l.providers,h)}}}return o.THROW_IF_NOT_FOUND=nn,o.NULL=new ab,o.\u0275prov=st({token:o,providedIn:"any",factory:()=>je(ob)}),o.__NG_ELEMENT_ID__=-1,o})();function Zr(o,s=gt.Default){const l=Ne();return null===l?je(o,s):Dg(Gi(),l,J(o),s)}function Hp(){throw new Error("invalid")}function ph(o,s){const l=o.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const h=l[d],m=l[d+1];if(-1!==m){const v=o.data[m];jf(h),v.contentQueries(2,s[m],m)}}}function e_(o,s,l,d,h,m,v,E,C,I,T){const L=s.blueprint.slice();return L[0]=h,L[2]=76|d,(null!==T||o&&1024&o[2])&&(L[2]|=1024),Tr(L),L[3]=L[15]=o,L[8]=l,L[10]=v||o&&o[10],L[11]=E||o&&o[11],L[12]=C||o&&o[12]||null,L[9]=I||o&&o[9]||null,L[6]=m,L[20]=function Zc(){return fp++}(),L[21]=T,L[16]=2==s.type?o[16]:L,L}function wu(o,s,l,d,h){let m=o.data[s];if(null===m)m=function t_(o,s,l,d,h){const m=Tc(),v=Ff(),C=o.data[s]=function hI(o,s,l,d,h,m){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,l,s,d,h);return null===o.firstChild&&(o.firstChild=C),null!==m&&(v?null==m.child&&null!==C.parent&&(m.child=C):null===m.next&&(m.next=C)),C}(o,s,l,d,h),function jv(){return Lt.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=l,m.value=d,m.attrs=h;const v=function Ac(){const o=Lt.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return lo(m,!0),m}function mh(o,s,l,d){if(0===l)return-1;const h=s.length;for(let m=0;m<l;m++)s.push(d),o.blueprint.push(d),o.data.push(null);return h}function n_(o,s,l){Hf(s);try{const d=o.viewQuery;null!==d&&Rs(1,d,l);const h=o.template;null!==h&&i_(o,s,h,1,l),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&ph(o,s),o.staticViewQueries&&Rs(2,o.viewQuery,l);const m=o.components;null!==m&&function ca(o,s){for(let l=0;l<s.length;l++)EI(o,s[l])}(s,m)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{s[2]&=-5,bg()}}function Eu(o,s,l,d){const h=s[2];if(128!=(128&h)){Hf(s);try{Tr(s),function bd(o){return Lt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==l&&i_(o,s,l,2,d);const v=3==(3&h);if(v){const I=o.preOrderCheckHooks;null!==I&&To(s,I,null)}else{const I=o.preOrderHooks;null!==I&&Oc(s,I,0,null),Ko(s,0)}if(function _h(o){for(let s=xs(o);null!==s;s=zd(s)){if(!s[2])continue;const l=s[9];for(let d=0;d<l.length;d++){const h=l[d],m=h[3];0==(512&h[2])&&_s(m,1),h[2]|=512}}}(s),function wI(o){for(let s=xs(o);null!==s;s=zd(s))for(let l=10;l<s.length;l++){const d=s[l],h=d[1];wn(d)&&Eu(h,d,h.template,d[8])}}(s),null!==o.contentQueries&&ph(o,s),v){const I=o.contentCheckHooks;null!==I&&To(s,I)}else{const I=o.contentHooks;null!==I&&Oc(s,I,1),Ko(s,1)}!function uI(o,s){const l=o.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const h=l[d];if(h<0)Dl(~h);else{const m=h,v=l[++d],E=l[++d];Vf(v,m),E(2,s[m])}}}finally{Dl(-1)}}(o,s);const E=o.components;null!==E&&function Di(o,s){for(let l=0;l<s.length;l++)Gp(o,s[l])}(s,E);const C=o.viewQuery;if(null!==C&&Rs(2,C,d),v){const I=o.viewCheckHooks;null!==I&&To(s,I)}else{const I=o.viewHooks;null!==I&&Oc(s,I,2),Ko(s,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),s[2]&=-41,512&s[2]&&(s[2]&=-513,_s(s[3],-1))}finally{bg()}}}function i_(o,s,l,d,h){const m=Ar(),v=2&d;try{Dl(-1),v&&s.length>22&&mr(o,s,22,!1),l(d,h)}finally{Dl(m)}}function r_(o,s,l){if(ba(s)){const h=s.directiveEnd;for(let m=s.directiveStart;m<h;m++){const v=o.data[m];v.contentQueries&&v.contentQueries(1,l[m],m)}}}function o_(o,s,l){!Sc()||(function gI(o,s,l,d){const h=l.directiveStart,m=l.directiveEnd;Ir(l)&&function gr(o,s,l){const d=Me(s,o),h=a_(l),m=o[10],v=Du(o,e_(o,h,null,l.onPush?32:16,d,s,m,m.createRenderer(d,l),null,null,null));o[s.index]=v}(s,l,o.data[h+l.componentOffset]),o.firstCreatePass||Vc(l,s),qi(d,s);const v=l.initialInputs;for(let E=h;E<m;E++){const C=o.data[E],I=Es(s,o,E,l);qi(I,s),null!==v&&Zb(0,E-h,I,C,0,v),xr(C)&&(cn(l.index,s)[8]=Es(s,o,E,l))}}(o,s,l,Me(l,s)),64==(64&l.flags)&&_I(o,s,l))}function s_(o,s,l=Me){const d=s.localNames;if(null!==d){let h=s.index+1;for(let m=0;m<d.length;m+=2){const v=d[m+1],E=-1===v?l(s,o):o[v];o[h++]=E}}}function a_(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=ec(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):s}function ec(o,s,l,d,h,m,v,E,C,I){const T=22+d,L=T+h,K=function dI(o,s){const l=[];for(let d=0;d<s;d++)l.push(d<o?null:Kt);return l}(T,L),re="function"==typeof I?I():I;return K[1]={type:o,blueprint:K,template:l,queries:null,viewQuery:E,declTNode:s,data:K.slice().fill(null,T),bindingStartIndex:T,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:C,consts:re,incompleteFirstPass:!1}}function Gb(o,s,l,d){const h=Jb(s);null===l?h.push(d):(h.push(l),o.firstCreatePass&&e0(o).push(d,h.length-1))}function fI(o,s,l,d){for(let h in o)if(o.hasOwnProperty(h)){l=null===l?{}:l;const m=o[h];null===d?qb(l,s,h,m):d.hasOwnProperty(h)&&qb(l,s,d[h],m)}return l}function qb(o,s,l,d){o.hasOwnProperty(l)?o[l].push(s,d):o[l]=[s,d]}function Yr(o,s,l,d,h,m,v,E){const C=Me(s,l);let T,I=s.inputs;!E&&null!=I&&(T=I[d])?(Iu(o,l,T,d,h),Ir(s)&&Wb(l,s.index)):3&s.type&&(d=function $p(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),h=null!=v?v(h,s.value||"",d):h,m.setProperty(C,d,h))}function Wb(o,s){const l=cn(s,o);16&l[2]||(l[2]|=32)}function c_(o,s,l,d){let h=!1;if(Sc()){const m=null===d?null:{"":-1},v=function yI(o,s){const l=o.directiveRegistry;let d=null,h=null;if(l)for(let m=0;m<l.length;m++){const v=l[m];if(xb(s,v.selectors,!1))if(d||(d=[]),xr(v))if(null!==v.findHostDirectiveDefs){const E=[];h=h||new Map,v.findHostDirectiveDefs(v,E,h),d.unshift(...E,v),u_(o,s,E.length)}else d.unshift(v),u_(o,s,0);else h=h||new Map,v.findHostDirectiveDefs?.(v,d,h),d.push(v)}return null===d?null:[d,h]}(o,l);let E,C;null===v?E=C=null:[E,C]=v,null!==E&&(h=!0,gh(o,s,l,E,m,C)),m&&function vI(o,s,l){if(s){const d=o.localNames=[];for(let h=0;h<s.length;h+=2){const m=l[s[h+1]];if(null==m)throw new me(-301,!1);d.push(s[h],m)}}}(l,d,m)}return l.mergedAttrs=Ma(l.mergedAttrs,l.attrs),h}function gh(o,s,l,d,h,m){for(let I=0;I<d.length;I++)Id(Vc(l,s),o,d[I].type);!function Kb(o,s,l){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+l,o.providerIndexes=s}(l,o.data.length,d.length);for(let I=0;I<d.length;I++){const T=d[I];T.providersResolver&&T.providersResolver(T)}let v=!1,E=!1,C=mh(o,s,d.length,null);for(let I=0;I<d.length;I++){const T=d[I];l.mergedAttrs=Ma(l.mergedAttrs,T.hostAttrs),d_(o,l,s,C,T),bI(C,T,h),null!==T.contentQueries&&(l.flags|=4),(null!==T.hostBindings||null!==T.hostAttrs||0!==T.hostVars)&&(l.flags|=64);const L=T.type.prototype;!v&&(L.ngOnChanges||L.ngOnInit||L.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(l.index),v=!0),!E&&(L.ngOnChanges||L.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(l.index),E=!0),C++}!function l_(o,s,l){const h=s.directiveEnd,m=o.data,v=s.attrs,E=[];let C=null,I=null;for(let T=s.directiveStart;T<h;T++){const L=m[T],K=l?l.get(L):null,Ce=K?K.outputs:null;C=fI(L.inputs,T,C,K?K.inputs:null),I=fI(L.outputs,T,I,Ce);const Ge=null===C||null===v||Vp(s)?null:Yb(C,T,v);E.push(Ge)}null!==C&&(C.hasOwnProperty("class")&&(s.flags|=8),C.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=E,s.inputs=C,s.outputs=I}(o,l,m)}function _I(o,s,l){const d=l.directiveStart,h=l.directiveEnd,m=l.index,v=function Rc(){return Lt.lFrame.currentDirectiveIndex}();try{Dl(m);for(let E=d;E<h;E++){const C=o.data[E],I=s[E];Bf(E),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&zp(C,I)}}finally{Dl(-1),Bf(v)}}function zp(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function u_(o,s,l){s.componentOffset=l,(o.components||(o.components=[])).push(s.index)}function bI(o,s,l){if(l){if(s.exportAs)for(let d=0;d<s.exportAs.length;d++)l[s.exportAs[d]]=o;xr(s)&&(l[""]=o)}}function d_(o,s,l,d,h){o.data[d]=h;const m=h.factory||(h.factory=dr(h.type)),v=new Il(m,xr(h),Zr);o.blueprint[d]=v,l[d]=v,function pI(o,s,l,d,h){const m=h.hostBindings;if(m){let v=o.hostBindingOpCodes;null===v&&(v=o.hostBindingOpCodes=[]);const E=~s.index;(function mI(o){let s=o.length;for(;s>0;){const l=o[--s];if("number"==typeof l&&l<0)return l}return 0})(v)!=E&&v.push(E),v.push(l,d,m)}}(o,s,d,mh(o,l,h.hostVars,Kt),h)}function ua(o,s,l,d,h,m){const v=Me(o,s);!function Ja(o,s,l,d,h,m,v){if(null==m)o.removeAttribute(s,h,l);else{const E=null==v?Pe(m):v(m,d||"",h);o.setAttribute(s,h,E,l)}}(s[11],v,m,o.value,l,d,h)}function Zb(o,s,l,d,h,m){const v=m[s];if(null!==v){const E=d.setInput;for(let C=0;C<v.length;){const I=v[C++],T=v[C++],L=v[C++];null!==E?d.setInput(l,L,I,T):l[T]=L}}}function Yb(o,s,l){let d=null,h=0;for(;h<l.length;){const m=l[h];if(0!==m)if(5!==m){if("number"==typeof m)break;if(o.hasOwnProperty(m)){null===d&&(d=[]);const v=o[m];for(let E=0;E<v.length;E+=2)if(v[E]===s){d.push(m,v[E+1],l[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function Cu(o,s,l,d){return[o,!0,!1,s,null,0,d,l,null,null]}function Gp(o,s){const l=cn(s,o);if(wn(l)){const d=l[1];48&l[2]?Eu(d,l,d.template,l[8]):l[5]>0&&da(l)}}function da(o){for(let d=xs(o);null!==d;d=zd(d))for(let h=10;h<d.length;h++){const m=d[h];if(wn(m))if(512&m[2]){const v=m[1];Eu(v,m,v.template,m[8])}else m[5]>0&&da(m)}const l=o[1].components;if(null!==l)for(let d=0;d<l.length;d++){const h=cn(l[d],o);wn(h)&&h[5]>0&&da(h)}}function EI(o,s){const l=cn(s,o),d=l[1];(function NO(o,s){for(let l=s.length;l<o.blueprint.length;l++)s.push(o.blueprint[l])})(d,l),n_(d,l,l[8])}function Du(o,s){return o[13]?o[14][4]=s:o[13]=s,o[14]=s,s}function h_(o){for(;o;){o[2]|=32;const s=Fo(o);if($s(o)&&!s)return o;o=s}return null}function qp(o,s,l,d=!0){const h=s[10];h.begin&&h.begin();try{Eu(o,s,o.template,l)}catch(v){throw d&&n0(s,v),v}finally{h.end&&h.end()}}function Rs(o,s,l){jf(0),s(o,l)}function Jb(o){return o[7]||(o[7]=[])}function e0(o){return o.cleanup||(o.cleanup=[])}function n0(o,s){const l=o[9],d=l?l.get(_u,null):null;d&&d.handleError(s)}function Iu(o,s,l,d,h){for(let m=0;m<l.length;){const v=l[m++],E=l[m++],C=s[v],I=o.data[v];null!==I.setInput?I.setInput(C,h,d,E):C[E]=h}}function tl(o,s,l){let d=l?o.styles:null,h=l?o.classes:null,m=0;if(null!==s)for(let v=0;v<s.length;v++){const E=s[v];"number"==typeof E?m=E:1==m?h=ue(h,E):2==m&&(d=ue(d,E+": "+s[++v]+";"))}l?o.styles=d:o.stylesWithoutHost=d,l?o.classes=h:o.classesWithoutHost=h}function f_(o,s,l,d,h=!1){for(;null!==l;){const m=s[l.index];if(null!==m&&d.push(O(m)),zr(m))for(let E=10;E<m.length;E++){const C=m[E],I=C[1].firstChild;null!==I&&f_(C[1],C,I,d)}const v=l.type;if(8&v)f_(o,s,l.child,d);else if(32&v){const E=Bl(l,s);let C;for(;C=E();)d.push(C)}else if(16&v){const E=Ga(s,l);if(Array.isArray(E))d.push(...E);else{const C=Fo(s[16]);f_(C[1],C,E,d,!0)}}l=h?l.projectionNext:l.next}return d}class Wp{constructor(s,l){this._lView=s,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,l=s[1];return f_(l,s,l.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(zr(s)){const l=s[8],d=l?l.indexOf(this):-1;d>-1&&($l(s,d),Od(l,d))}this._attachedToViewContainer=!1}zl(this._lView[1],this._lView)}onDestroy(s){Gb(this._lView[1],this._lView,null,s)}markForCheck(){h_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){qp(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new me(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function qd(o,s){qa(o,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new me(902,!1);this._appRef=s}}class FO extends Wp{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;qp(s[1],s,s[8],!1)}checkNoChanges(){}get context(){return null}}class CI extends uh{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const l=pt(s);return new yh(l,this.ngModule)}}function DI(o){const s=[];for(let l in o)o.hasOwnProperty(l)&&s.push({propName:o[l],templateName:l});return s}class II{constructor(s,l){this.injector=s,this.parentInjector=l}get(s,l,d){d=It(d);const h=this.injector.get(s,Wg,d);return h!==Wg||l===Wg?h:this.parentInjector.get(s,l,d)}}class yh extends ch{constructor(s,l){super(),this.componentDef=s,this.ngModule=l,this.componentType=s.type,this.selector=function QD(o){return o.map(Tb).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return DI(this.componentDef.inputs)}get outputs(){return DI(this.componentDef.outputs)}create(s,l,d,h){let m=(h=h||this.ngModule)instanceof aa?h:h?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new II(s,m):s,E=v.get(mb,null);if(null===E)throw new me(407,!1);const C=v.get(UD,null),I=E.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",L=d?function zb(o,s,l){return o.selectRootElement(s,l===Ze.ShadowDom)}(I,d,this.componentDef.encapsulation):jl(I,T,function LO(o){const s=o.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(T)),K=this.componentDef.onPush?288:272,re=ec(0,null,null,1,0,null,null,null,null,null),Ce=e_(null,re,null,K,null,null,E,I,C,v,null);let Ge,Je;Hf(Ce);try{const mt=this.componentDef;let jt,Ve=null;mt.findHostDirectiveDefs?(jt=[],Ve=new Map,mt.findHostDirectiveDefs(mt,jt,Ve),jt.push(mt)):jt=[mt];const Zt=function r0(o,s){const l=o[1];return o[22]=s,wu(l,22,2,"#host",null)}(Ce,L),Jn=function UO(o,s,l,d,h,m,v,E){const C=h[1];!function jO(o,s,l,d){for(const h of o)s.mergedAttrs=Ma(s.mergedAttrs,h.hostAttrs);null!==s.mergedAttrs&&(tl(s,s.mergedAttrs,!0),null!==l&&Xd(d,l,s))}(d,o,s,v);const I=m.createRenderer(s,l),T=e_(h,a_(l),null,l.onPush?32:16,h[o.index],o,m,I,E||null,null,null);return C.firstCreatePass&&u_(C,o,d.length-1),Du(h,T),h[o.index]=T}(Zt,L,mt,jt,Ce,E,I);Je=xt(re,22),L&&function $O(o,s,l,d){if(d)Gn(o,l,["ng-version",_b.full]);else{const{attrs:h,classes:m}=function XD(o){const s=[],l=[];let d=1,h=2;for(;d<o.length;){let m=o[d];if("string"==typeof m)2===h?""!==m&&s.push(m,o[++d]):8===h&&l.push(m);else{if(!rs(h))break;h=m}d++}return{attrs:s,classes:l}}(s.selectors[0]);h&&Gn(o,l,h),m&&m.length>0&&Lo(o,l,m.join(" "))}}(I,mt,L,d),void 0!==l&&function zO(o,s,l){const d=o.projection=[];for(let h=0;h<s.length;h++){const m=l[h];d.push(null!=m?Array.from(m):null)}}(Je,this.ngContentSelectors,l),Ge=function HO(o,s,l,d,h,m){const v=Gi(),E=h[1],C=Me(v,h);gh(E,h,v,l,null,d);for(let T=0;T<l.length;T++)qi(Es(h,E,v.directiveStart+T,v),h);_I(E,h,v),C&&qi(C,h);const I=Es(h,E,v.directiveStart+v.componentOffset,v);if(o[8]=h[8]=I,null!==m)for(const T of m)T(I,s);return r_(E,v,o),I}(Jn,mt,jt,Ve,Ce,[GO]),n_(re,Ce,null)}finally{bg()}return new VO(this.componentType,Ge,gu(Je,Ce),Ce,Je)}}class VO extends Np{constructor(s,l,d,h,m){super(),this.location=d,this._rootLView=h,this._tNode=m,this.instance=l,this.hostView=this.changeDetectorRef=new FO(h),this.componentType=s}setInput(s,l){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[s])){const m=this._rootLView;Iu(m[1],m,h,s,l),Wb(m,this._tNode.index)}}get injector(){return new Mo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function GO(){const o=Gi();bs(Ne()[1],o)}function o0(o){let s=function xI(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),l=!0;const d=[o];for(;s;){let h;if(xr(o))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new me(903,!1);h=s.\u0275dir}if(h){if(l){d.push(h);const v=o;v.inputs=Kp(o.inputs),v.declaredInputs=Kp(o.declaredInputs),v.outputs=Kp(o.outputs);const E=h.hostBindings;E&&KO(o,E);const C=h.viewQuery,I=h.contentQueries;if(C&&s0(o,C),I&&WO(o,I),_e(o.inputs,h.inputs),_e(o.declaredInputs,h.declaredInputs),_e(o.outputs,h.outputs),xr(h)&&h.data.animation){const T=o.data;T.animation=(T.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let v=0;v<m.length;v++){const E=m[v];E&&E.ngInherit&&E(o),E===o0&&(l=!1)}}s=Object.getPrototypeOf(s)}!function qO(o){let s=0,l=null;for(let d=o.length-1;d>=0;d--){const h=o[d];h.hostVars=s+=h.hostVars,h.hostAttrs=Ma(h.hostAttrs,l=Ma(l,h.hostAttrs))}}(d)}function Kp(o){return o===lt?{}:o===Ye?[]:o}function s0(o,s){const l=o.viewQuery;o.viewQuery=l?(d,h)=>{s(d,h),l(d,h)}:s}function WO(o,s){const l=o.contentQueries;o.contentQueries=l?(d,h,m)=>{s(d,h,m),l(d,h,m)}:s}function KO(o,s){const l=o.hostBindings;o.hostBindings=l?(d,h)=>{s(d,h),l(d,h)}:s}let p_=null;function tc(){if(!p_){const o=Dt.Symbol;if(o&&o.iterator)p_=o.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<s.length;++l){const d=s[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(p_=d)}}}return p_}function Xp(o){return!!l0(o)&&(Array.isArray(o)||!(o instanceof Map)&&tc()in o)}function l0(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function ha(o,s,l){return o[s]=l}function _r(o,s,l){return!Object.is(o[s],l)&&(o[s]=l,!0)}function c0(o,s,l,d){const h=Ne();return _r(h,Ws(),s)&&(mn(),ua(Un(),h,o,s,l,d)),c0}function nc(o,s,l,d){return _r(o,Ws(),l)?s+Pe(l)+d:Kt}function rl(o,s,l,d,h,m,v,E){const C=Ne(),I=mn(),T=o+22,L=I.firstCreatePass?function MI(o,s,l,d,h,m,v,E,C){const I=s.consts,T=wu(s,o,4,v||null,zi(I,E));c_(s,l,T,zi(I,C)),bs(s,T);const L=T.tViews=ec(2,T,d,h,m,s.directiveRegistry,s.pipeRegistry,null,s.schemas,I);return null!==s.queries&&(s.queries.template(s,T),L.queries=s.queries.embeddedTView(T)),T}(T,I,C,s,l,d,h,m,v):I.data[T];lo(L,!1);const K=C[11].createComment("");ru(I,C,K,L),qi(K,C),Du(C,C[T]=Cu(K,C,K,L)),wa(L)&&o_(I,C,L),null!=v&&s_(C,L,E)}function y_(o){return function bn(o,s){return o[s]}(function mg(){return Lt.lFrame.contextLView}(),22+o)}function p0(o,s,l){const d=Ne();return _r(d,Ws(),s)&&Yr(mn(),Un(),d,o,s,d[11],l,!1),p0}function m0(o,s,l,d,h){const v=h?"class":"style";Iu(o,l,s.inputs[v],v,d)}function em(o,s,l,d){const h=Ne(),m=mn(),v=22+o,E=h[11],C=h[v]=jl(E,s,function Kv(){return Lt.lFrame.currentNamespace}()),I=m.firstCreatePass?function g0(o,s,l,d,h,m,v){const E=s.consts,I=wu(s,o,2,h,zi(E,m));return c_(s,l,I,zi(E,v)),null!==I.attrs&&tl(I,I.attrs,!1),null!==I.mergedAttrs&&tl(I,I.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,I),I}(v,m,h,0,s,l,d):m.data[v];return lo(I,!0),Xd(E,C,I),32!=(32&I.flags)&&ru(m,h,C,I),0===function ao(){return Lt.lFrame.elementDepthCount}()&&qi(C,h),function xa(){Lt.lFrame.elementDepthCount++}(),wa(I)&&(o_(m,h,I),r_(m,I,h)),null!==d&&s_(h,I),em}function tm(){let o=Gi();Ff()?Sa():(o=o.parent,lo(o,!1));const s=o;!function Uv(){Lt.lFrame.elementDepthCount--}();const l=mn();return l.firstCreatePass&&(bs(l,o),ba(o)&&l.queries.elementEnd(o)),null!=s.classesWithoutHost&&function qf(o){return 0!=(8&o.flags)}(s)&&m0(l,s,Ne(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Wf(o){return 0!=(16&o.flags)}(s)&&m0(l,s,Ne(),s.stylesWithoutHost,!1),tm}function v_(o,s,l,d){return em(o,s,l,d),tm(),v_}function OI(){return Ne()}function w_(o){return!!o&&"function"==typeof o.then}function y0(o){return!!o&&"function"==typeof o.subscribe}const E_=y0;function v0(o,s,l,d){const h=Ne(),m=mn(),v=Gi();return function PI(o,s,l,d,h,m,v){const E=wa(d),I=o.firstCreatePass&&e0(o),T=s[8],L=Jb(s);let K=!0;if(3&d.type||v){const Ge=Me(d,s),Je=v?v(Ge):Ge,mt=L.length,jt=v?Zt=>v(O(Zt[d.index])):d.index;let Ve=null;if(!v&&E&&(Ve=function tk(o,s,l,d){const h=o.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const v=h[m];if(v===l&&h[m+1]===d){const E=s[7],C=h[m+2];return E.length>C?E[C]:null}"string"==typeof v&&(m+=2)}return null}(o,s,h,d.index)),null!==Ve)(Ve.__ngLastListenerFn__||Ve).__ngNextListenerFn__=m,Ve.__ngLastListenerFn__=m,K=!1;else{m=FI(d,s,T,m,!1);const Zt=l.listen(Je,h,m);L.push(m,Zt),I&&I.push(h,jt,mt,mt+1)}}else m=FI(d,s,T,m,!1);const re=d.outputs;let Ce;if(K&&null!==re&&(Ce=re[h])){const Ge=Ce.length;if(Ge)for(let Je=0;Je<Ge;Je+=2){const Jn=s[Ce[Je]][Ce[Je+1]].subscribe(m),hi=L.length;L.push(m,Jn),I&&I.push(h,d.index,hi,-(hi+1))}}}(m,h,h[11],v,o,s,d),v0}function NI(o,s,l,d){try{return!1!==l(d)}catch(h){return n0(o,h),!1}}function FI(o,s,l,d,h){return function m(v){if(v===Function)return d;h_(o.componentOffset>-1?cn(o.index,s):s);let C=NI(s,0,d,v),I=m.__ngNextListenerFn__;for(;I;)C=NI(s,0,I,v)&&C,I=I.__ngNextListenerFn__;return h&&!1===C&&(v.preventDefault(),v.returnValue=!1),C}}function b0(o=1){return function zv(o){return(Lt.lFrame.contextLView=function Gv(o,s){for(;o>0;)s=s[15],o--;return s}(o,Lt.lFrame.contextLView))[8]}(o)}function LI(o,s){let l=null;const d=function KD(o){const s=o.attrs;if(null!=s){const l=s.indexOf(5);if(0==(1&l))return s[l+1]}return null}(o);for(let h=0;h<s.length;h++){const m=s[h];if("*"!==m){if(null===d?xb(o,m,!0):YD(d,m))return h}else l=h}return l}function w0(o){const s=Ne()[16][6];if(!s.projection){const d=s.projection=zc(o?o.length:1,null),h=d.slice();let m=s.child;for(;null!==m;){const v=o?LI(m,o):0;null!==v&&(h[v]?h[v].projectionNext=m:d[v]=m,h[v]=m),m=m.next}}}function VI(o,s=0,l){const d=Ne(),h=mn(),m=wu(h,22+o,16,null,l||null);null===m.projection&&(m.projection=s),Sa(),32!=(32&m.flags)&&function su(o,s,l){Wr(s[11],0,s,l,Ug(o,l,s),Yd(l.parent||s[6],l,s))}(h,d,m)}function Ch(o,s,l,d,h){const m=Ne(),v=nc(m,s,l,d);return v!==Kt&&Yr(mn(),Un(),m,o,v,m[11],h,!1),Ch}function C_(o,s){return o<<17|s<<2}function oc(o){return o>>17&32767}function E0(o){return 2|o}function Ru(o){return(131068&o)>>2}function C0(o,s){return-131069&o|s<<2}function D0(o){return 1|o}function KI(o,s,l,d,h){const m=o[l+1],v=null===s;let E=d?oc(m):Ru(m),C=!1;for(;0!==E&&(!1===C||v);){const T=o[E+1];ak(o[E],s)&&(C=!0,o[E+1]=d?D0(T):E0(T)),E=d?oc(T):Ru(T)}C&&(o[l+1]=d?E0(m):D0(m))}function ak(o,s){return null===o||null==s||(Array.isArray(o)?o[1]:o)===s||!(!Array.isArray(o)||"string"!=typeof s)&&Xe(o,s)>=0}function I0(o,s,l){return Os(o,s,l,!1),I0}function x0(o,s){return Os(o,s,null,!0),x0}function Os(o,s,l,d){const h=Ne(),m=mn(),v=function Gr(o){const s=Lt.lFrame,l=s.bindingIndex;return s.bindingIndex=s.bindingIndex+o,l}(2);m.firstUpdatePass&&function nx(o,s,l,d){const h=o.data;if(null===h[l+1]){const m=h[Ar()],v=function tx(o,s){return s>=o.expandoStartIndex}(o,l);(function sx(o,s){return 0!=(o.flags&(s?8:16))})(m,d)&&null===s&&!v&&(s=!1),s=function gk(o,s,l,d){const h=function Ks(o){const s=Lt.lFrame.currentDirectiveIndex;return-1===s?null:o[s]}(o);let m=d?s.residualClasses:s.residualStyles;if(null===h)0===(d?s.classBindings:s.styleBindings)&&(l=Ih(l=S0(null,o,s,l,d),s.attrs,d),m=null);else{const v=s.directiveStylingLast;if(-1===v||o[v]!==h)if(l=S0(h,o,s,l,d),null===m){let C=function _k(o,s,l){const d=l?s.classBindings:s.styleBindings;if(0!==Ru(d))return o[oc(d)]}(o,s,d);void 0!==C&&Array.isArray(C)&&(C=S0(null,o,s,C[1],d),C=Ih(C,s.attrs,d),function yk(o,s,l,d){o[oc(l?s.classBindings:s.styleBindings)]=d}(o,s,d,C))}else m=function vk(o,s,l){let d;const h=s.directiveEnd;for(let m=1+s.directiveStylingLast;m<h;m++)d=Ih(d,o[m].hostAttrs,l);return Ih(d,s.attrs,l)}(o,s,d)}return void 0!==m&&(d?s.residualClasses=m:s.residualStyles=m),l}(h,m,s,d),function ok(o,s,l,d,h,m){let v=m?s.classBindings:s.styleBindings,E=oc(v),C=Ru(v);o[d]=l;let T,I=!1;if(Array.isArray(l)){const L=l;T=L[1],(null===T||Xe(L,T)>0)&&(I=!0)}else T=l;if(h)if(0!==C){const K=oc(o[E+1]);o[d+1]=C_(K,E),0!==K&&(o[K+1]=C0(o[K+1],d)),o[E+1]=function ik(o,s){return 131071&o|s<<17}(o[E+1],d)}else o[d+1]=C_(E,0),0!==E&&(o[E+1]=C0(o[E+1],d)),E=d;else o[d+1]=C_(C,0),0===E?E=d:o[C+1]=C0(o[C+1],d),C=d;I&&(o[d+1]=E0(o[d+1])),KI(o,T,d,!0),KI(o,T,d,!1),function sk(o,s,l,d,h){const m=h?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof s&&Xe(m,s)>=0&&(l[d+1]=D0(l[d+1]))}(s,T,o,d,m),v=C_(E,C),m?s.classBindings=v:s.styleBindings=v}(h,m,s,l,v,d)}}(m,o,v,d),s!==Kt&&_r(h,v,s)&&function rx(o,s,l,d,h,m,v,E){if(!(3&s.type))return;const C=o.data,I=C[E+1],T=function rk(o){return 1==(1&o)}(I)?ox(C,s,l,h,Ru(I),v):void 0;D_(T)||(D_(m)||function nk(o){return 2==(2&o)}(I)&&(m=ox(C,null,l,h,E,v)),function Ms(o,s,l,d,h){if(s)h?o.addClass(l,d):o.removeClass(l,d);else{let m=-1===d.indexOf("-")?void 0:nr.DashCase;null==h?o.removeStyle(l,d,m):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),m|=nr.Important),o.setStyle(l,d,h,m))}}(d,v,le(Ar(),l),h,m))}(m,m.data[Ar()],h,h[11],o,h[v+1]=function Ek(o,s){return null==o||("string"==typeof s?o+=s:"object"==typeof o&&(o=ye(b(o)))),o}(s,l),d,v)}function S0(o,s,l,d,h){let m=null;const v=l.directiveEnd;let E=l.directiveStylingLast;for(-1===E?E=l.directiveStart:E++;E<v&&(m=s[E],d=Ih(d,m.hostAttrs,h),m!==o);)E++;return null!==o&&(l.directiveStylingLast=E),d}function Ih(o,s,l){const d=l?1:2;let h=-1;if(null!==s)for(let m=0;m<s.length;m++){const v=s[m];"number"==typeof v?h=v:h===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),en(o,v,!!l||s[++m]))}return void 0===o?null:o}function ox(o,s,l,d,h,m){const v=null===s;let E;for(;h>0;){const C=o[h],I=Array.isArray(C),T=I?C[1]:C,L=null===T;let K=l[h+1];K===Kt&&(K=L?Ye:void 0);let re=L?Oo(K,d):T===d?K:void 0;if(I&&!D_(re)&&(re=Oo(C,d)),D_(re)&&(E=re,v))return E;const Ce=o[h+1];h=v?oc(Ce):Ru(Ce)}if(null!==s){let C=m?s.residualClasses:s.residualStyles;null!=C&&(E=Oo(C,d))}return E}function D_(o){return void 0!==o}function ax(o,s=""){const l=Ne(),d=mn(),h=o+22,m=d.firstCreatePass?wu(d,h,1,s,null):d.data[h],v=l[h]=function eu(o,s){return o.createText(s)}(l[11],s);ru(d,l,v,m),lo(m,!1)}function T0(o){return I_("",o,""),T0}function I_(o,s,l){const d=Ne(),h=nc(d,o,s,l);return h!==Kt&&function el(o,s,l){const d=le(s,o);!function Gd(o,s,l){o.setValue(s,l)}(o[11],d,l)}(d,Ar(),h),I_}function A0(o,s,l){const d=Ne();return _r(d,Ws(),s)&&Yr(mn(),Un(),d,o,s,d[11],l,!0),A0}const Ou=void 0;var Hk=["en",[["a","p"],["AM","PM"],Ou],[["AM","PM"],Ou,Ou],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ou,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ou,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ou,"{1} 'at' {0}",Ou],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function jk(o){const l=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let xh={};function x_(o){const s=function M0(o){return o.toLowerCase().replace(/_/g,"-")}(o);let l=nm(s);if(l)return l;const d=s.split("-")[0];if(l=nm(d),l)return l;if("en"===d)return Hk;throw new me(701,!1)}function S_(o){return x_(o)[Pt.PluralCase]}function nm(o){return o in xh||(xh[o]=Dt.ng&&Dt.ng.common&&Dt.ng.common.locales&&Dt.ng.common.locales[o]),xh[o]}var Pt=(()=>((Pt=Pt||{})[Pt.LocaleId=0]="LocaleId",Pt[Pt.DayPeriodsFormat=1]="DayPeriodsFormat",Pt[Pt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Pt[Pt.DaysFormat=3]="DaysFormat",Pt[Pt.DaysStandalone=4]="DaysStandalone",Pt[Pt.MonthsFormat=5]="MonthsFormat",Pt[Pt.MonthsStandalone=6]="MonthsStandalone",Pt[Pt.Eras=7]="Eras",Pt[Pt.FirstDayOfWeek=8]="FirstDayOfWeek",Pt[Pt.WeekendRange=9]="WeekendRange",Pt[Pt.DateFormat=10]="DateFormat",Pt[Pt.TimeFormat=11]="TimeFormat",Pt[Pt.DateTimeFormat=12]="DateTimeFormat",Pt[Pt.NumberSymbols=13]="NumberSymbols",Pt[Pt.NumberFormats=14]="NumberFormats",Pt[Pt.CurrencyCode=15]="CurrencyCode",Pt[Pt.CurrencySymbol=16]="CurrencySymbol",Pt[Pt.CurrencyName=17]="CurrencyName",Pt[Pt.Currencies=18]="Currencies",Pt[Pt.Directionality=19]="Directionality",Pt[Pt.PluralCase=20]="PluralCase",Pt[Pt.ExtraData=21]="ExtraData",Pt))();const sc="en-US";let R0=sc;function X0(o,s,l,d,h){if(o=J(o),Array.isArray(o))for(let m=0;m<o.length;m++)X0(o[m],s,l,d,h);else{const m=mn(),v=Ne();let E=Ql(o)?o:J(o.provide),C=db(o);const I=Gi(),T=1048575&I.providerIndexes,L=I.directiveStart,K=I.providerIndexes>>20;if(Ql(o)||!o.multi){const re=new Il(C,h,Zr),Ce=ew(E,s,h?T:T+K,L);-1===Ce?(Id(Vc(I,v),m,E),J0(m,o,s.length),s.push(E),I.directiveStart++,I.directiveEnd++,h&&(I.providerIndexes+=1048576),l.push(re),v.push(re)):(l[Ce]=re,v[Ce]=re)}else{const re=ew(E,s,T+K,L),Ce=ew(E,s,T,T+K),Ge=re>=0&&l[re],Je=Ce>=0&&l[Ce];if(h&&!Je||!h&&!Ge){Id(Vc(I,v),m,E);const mt=function Qr(o,s,l,d,h){const m=new Il(o,l,Zr);return m.multi=[],m.index=s,m.componentProviders=0,F_(m,h,d&&!l),m}(h?Xx:d1,l.length,h,d,C);!h&&Je&&(l[Ce].providerFactory=mt),J0(m,o,s.length,0),s.push(E),I.directiveStart++,I.directiveEnd++,h&&(I.providerIndexes+=1048576),l.push(mt),v.push(mt)}else J0(m,o,re>-1?re:Ce,F_(l[h?Ce:re],C,!h&&d));!h&&d&&Je&&l[Ce].componentProviders++}}}function J0(o,s,l,d){const h=Ql(s),m=function RD(o){return!!o.useClass}(s);if(h||m){const C=(m?J(s.useClass):s).prototype.ngOnDestroy;if(C){const I=o.destroyHooks||(o.destroyHooks=[]);if(!h&&s.multi){const T=I.indexOf(l);-1===T?I.push(l,[d,C]):I[T+1].push(d,C)}else I.push(l,C)}}}function F_(o,s,l){return l&&o.componentProviders++,o.multi.push(s)-1}function ew(o,s,l,d){for(let h=l;h<d;h++)if(s[h]===o)return h;return-1}function d1(o,s,l,d){return L_(this.multi,[])}function Xx(o,s,l,d){const h=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=Es(l,l[1],this.providerFactory.index,d);m=E.slice(0,v),L_(h,m);for(let C=v;C<E.length;C++)m.push(E[C])}else m=[],L_(h,m);return m}function L_(o,s){for(let l=0;l<o.length;l++)s.push((0,o[l])());return s}function Jx(o,s=[]){return l=>{l.providersResolver=(d,h)=>function u1(o,s,l){const d=mn();if(d.firstCreatePass){const h=xr(o);X0(l,d.data,d.blueprint,h,!0),X0(s,d.data,d.blueprint,h,!1)}}(d,h?h(o):o,s)}}class Oh{}class eS{}function tS(o,s){return new tw(o,s??null)}class tw extends Oh{constructor(s,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new CI(this);const d=Dn(s);this._bootstrapComponents=la(d.bootstrap),this._r3Injector=Jl(s,l,[{provide:Oh,useValue:this},{provide:uh,useValue:this.componentFactoryResolver}],ye(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class nw extends eS{constructor(s){super(),this.moduleType=s}create(s){return new tw(this.moduleType,s)}}class iS extends Oh{constructor(s,l,d){super(),this.componentFactoryResolver=new CI(this),this.instance=null;const h=new qg([...s,{provide:Oh,useValue:this},{provide:uh,useValue:this.componentFactoryResolver}],l||Rp(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function iw(o,s,l=null){return new iS(o,s,l).injector}let h1=(()=>{class o{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const d=AD(0,l.type),h=d.length>0?iw([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,h)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=st({token:o,providedIn:"environment",factory:()=>new o(je(aa))}),o})();function rw(o){o.getStandaloneInjector=s=>s.get(h1).getOrCreateStandaloneInjector(o)}function V_(o,s,l){const d=ni()+o,h=Ne();return h[d]===Kt?ha(h,d,l?s.call(l):s()):function nl(o,s){return o[s]}(h,d)}function lw(o,s,l,d){return function fS(o,s,l,d,h,m){const v=s+l;return _r(o,v,h)?ha(o,v+1,m?d.call(m,h):d(h)):function am(o,s){const l=o[s];return l===Kt?void 0:l}(o,v+1)}(Ne(),ni(),o,s,l,d)}function U_(o){return s=>{setTimeout(o,void 0,s)}}const Ki=class hw extends u.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,l,d){let h=s,m=l||(()=>null),v=d;if(s&&"object"==typeof s){const C=s;h=C.next?.bind(C),m=C.error?.bind(C),v=C.complete?.bind(C)}this.__isAsync&&(m=U_(m),h&&(h=U_(h)),v&&(v=U_(v)));const E=super.subscribe({next:h,error:m,complete:v});return s instanceof ne.w0&&s.add(E),E}};function fw(){return this._results[tc()]()}class Nh{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=tc(),d=Nh.prototype;d[l]||(d[l]=fw)}get changes(){return this._changes||(this._changes=new Ki)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,l){return this._results.reduce(s,l)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,l){const d=this;d.dirty=!1;const h=function co(o){return o.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function Qv(o,s,l){if(o.length!==s.length)return!1;for(let d=0;d<o.length;d++){let h=o[d],m=s[d];if(l&&(h=l(h),m=l(m)),m!==h)return!1}return!0}(d._results,h,l))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Nu=(()=>{class o{}return o.__NG_ELEMENT_ID__=j_,o})();const pw=Nu,al=class extends pw{constructor(s,l,d){super(),this._declarationLView=s,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(s,l){const d=this._declarationTContainer.tViews,h=e_(this._declarationLView,d,s,16,null,d.declTNode,null,null,null,null,l||null);h[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(h[19]=v.createEmbeddedView(d)),n_(d,h,s),new Wp(h)}};function j_(){return H_(Gi(),Ne())}function H_(o,s){return 4&o.type?new al(s,o,gu(o,s)):null}let Fu=(()=>{class o{}return o.__NG_ELEMENT_ID__=x1,o})();function x1(){return z_(Gi(),Ne())}const mw=Fu,yS=class extends mw{constructor(s,l,d){super(),this._lContainer=s,this._hostTNode=l,this._hostLView=d}get element(){return gu(this._hostTNode,this._hostLView)}get injector(){return new Mo(this._hostTNode,this._hostLView)}get parentInjector(){const s=Dd(this._hostTNode,this._hostLView);if(Kf(s)){const l=Ra(s,this._hostLView),d=Nc(s);return new Mo(l[1].data[d+8],l)}return new Mo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const l=$_(this._lContainer);return null!==l&&l[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,l,d){let h,m;"number"==typeof d?h=d:null!=d&&(h=d.index,m=d.injector);const v=s.createEmbeddedView(l||{},m);return this.insert(v,h),v}createComponent(s,l,d,h,m){const v=s&&!function Ml(o){return"function"==typeof o}(s);let E;if(v)E=l;else{const L=l||{};E=L.index,d=L.injector,h=L.projectableNodes,m=L.environmentInjector||L.ngModuleRef}const C=v?s:new yh(pt(s)),I=d||this.parentInjector;if(!m&&null==C.ngModule){const K=(v?I:this.parentInjector).get(aa,null);K&&(m=K)}const T=C.create(I,h,void 0,m);return this.insert(T.hostView,E),T}insert(s,l){const d=s._lView,h=d[1];if(function Wt(o){return zr(o[3])}(d)){const T=this.indexOf(s);if(-1!==T)this.detach(T);else{const L=d[3],K=new yS(L,L[6],L[3]);K.detach(K.indexOf(s))}}const m=this._adjustIndex(l),v=this._lContainer;!function Vg(o,s,l,d){const h=10+d,m=l.length;d>0&&(l[h-1][4]=s),d<m-10?(s[4]=l[h],cp(l,10+d,s)):(l.push(s),s[4]=null),s[3]=l;const v=s[17];null!==v&&l!==v&&function Bg(o,s){const l=o[9];s[16]!==s[3][3][16]&&(o[2]=!0),null===l?o[9]=[s]:l.push(s)}(v,s);const E=s[19];null!==E&&E.insertView(o),s[2]|=64}(h,d,v,m);const E=ir(m,v),C=d[11],I=ql(C,v[7]);return null!==I&&function tu(o,s,l,d,h,m){d[0]=h,d[6]=s,qa(o,d,l,1,h,m)}(h,v[6],C,d,I,E),s.attachToViewContainerRef(),cp(gw(v),m,s),s}move(s,l){return this.insert(s,l)}indexOf(s){const l=$_(this._lContainer);return null!==l?l.indexOf(s):-1}remove(s){const l=this._adjustIndex(s,-1),d=$l(this._lContainer,l);d&&(Od(gw(this._lContainer),l),zl(d[1],d))}detach(s){const l=this._adjustIndex(s,-1),d=$l(this._lContainer,l);return d&&null!=Od(gw(this._lContainer),l)?new Wp(d):null}_adjustIndex(s,l=0){return s??this.length+l}};function $_(o){return o[8]}function gw(o){return o[8]||(o[8]=[])}function z_(o,s){let l;const d=s[o.index];if(zr(d))l=d;else{let h;if(8&o.type)h=O(d);else{const m=s[11];h=m.createComment("");const v=Me(o,s);ea(m,ql(m,v),h,function wp(o,s){return o.nextSibling(s)}(m,v),!1)}s[o.index]=l=Cu(d,s,h,o),Du(s,l)}return new yS(l,o,s)}class ac{constructor(s){this.queryList=s,this.matches=null}clone(){return new ac(this.queryList)}setDirty(){this.queryList.setDirty()}}class cm{constructor(s=[]){this.queries=s}createEmbeddedView(s){const l=s.queries;if(null!==l){const d=null!==s.contentQueries?s.contentQueries[0]:l.length,h=[];for(let m=0;m<d;m++){const v=l.getByIndex(m);h.push(this.queries[v.indexInDeclarationView].clone())}return new cm(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let l=0;l<this.queries.length;l++)null!==Lh(s,l).matches&&this.queries[l].setDirty()}}class um{constructor(s,l,d=null){this.predicate=s,this.flags=l,this.read=d}}class G_{constructor(s=[]){this.queries=s}elementStart(s,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(s,l)}elementEnd(s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(s)}embeddedTView(s){let l=null;for(let d=0;d<this.length;d++){const h=null!==l?l.length:0,m=this.getByIndex(d).embeddedTView(s,h);m&&(m.indexInDeclarationView=d,null!==l?l.push(m):l=[m])}return null!==l?new G_(l):null}template(s,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(s,l)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Lu{constructor(s,l=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(s,l){this.isApplyingToNode(l)&&this.matchTNode(s,l)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,l){this.elementStart(s,l)}embeddedTView(s,l){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,l),new Lu(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=s.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(s,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const m=d[h];this.matchTNodeWithReadOption(s,l,vS(l,m)),this.matchTNodeWithReadOption(s,l,Uc(l,s,m,!1,!1))}else d===Nu?4&l.type&&this.matchTNodeWithReadOption(s,l,-1):this.matchTNodeWithReadOption(s,l,Uc(l,s,d,!1,!1))}matchTNodeWithReadOption(s,l,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===dh||h===Fu||h===Nu&&4&l.type)this.addMatch(l.index,-2);else{const m=Uc(l,s,h,!1,!1);null!==m&&this.addMatch(l.index,m)}else this.addMatch(l.index,d)}}addMatch(s,l){null===this.matches?this.matches=[s,l]:this.matches.push(s,l)}}function vS(o,s){const l=o.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===s)return l[d+1];return null}function yw(o,s,l,d){return-1===l?function _w(o,s){return 11&o.type?gu(o,s):4&o.type?H_(o,s):null}(s,o):-2===l?function bS(o,s,l){return l===dh?gu(s,o):l===Nu?H_(s,o):l===Fu?z_(s,o):void 0}(o,s,d):Es(o,o[1],l,s)}function Fh(o,s,l,d){const h=s[19].queries[d];if(null===h.matches){const m=o.data,v=l.matches,E=[];for(let C=0;C<v.length;C+=2){const I=v[C];E.push(I<0?null:yw(s,m[I],v[C+1],l.metadata.read))}h.matches=E}return h.matches}function dm(o,s,l,d){const h=o.queries.getByIndex(l),m=h.matches;if(null!==m){const v=Fh(o,s,h,l);for(let E=0;E<m.length;E+=2){const C=m[E];if(C>0)d.push(v[E/2]);else{const I=m[E+1],T=s[-C];for(let L=10;L<T.length;L++){const K=T[L];K[17]===K[3]&&dm(K[1],K,I,d)}if(null!==T[9]){const L=T[9];for(let K=0;K<L.length;K++){const re=L[K];dm(re[1],re,I,d)}}}}}return d}function vw(o){const s=Ne(),l=mn(),d=Uf();jf(d+1);const h=Lh(l,d);if(o.dirty&&function Tn(o){return 4==(4&o[2])}(s)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const m=h.crossesNgTemplate?dm(l,s,d,[]):Fh(l,s,h,d);o.reset(m,pb),o.notifyOnChanges()}return!0}return!1}function bw(o,s,l){const d=mn();d.firstCreatePass&&(Ew(d,new um(o,s,l),-1),2==(2&s)&&(d.staticViewQueries=!0)),ES(d,Ne(),s)}function q_(o,s,l,d){const h=mn();if(h.firstCreatePass){const m=Gi();Ew(h,new um(s,l,d),m.index),function CS(o,s){const l=o.contentQueries||(o.contentQueries=[]);s!==(l.length?l[l.length-1]:-1)&&l.push(o.queries.length-1,s)}(h,o),2==(2&l)&&(h.staticContentQueries=!0)}ES(h,Ne(),l)}function ww(){return function wS(o,s){return o[19].queries[s].queryList}(Ne(),Uf())}function ES(o,s,l){const d=new Nh(4==(4&l));Gb(o,s,d,d.destroy),null===s[19]&&(s[19]=new cm),s[19].queries.push(new ac(d))}function Ew(o,s,l){null===o.queries&&(o.queries=new G_),o.queries.track(new Lu(s,l))}function Lh(o,s){return o.queries.getByIndex(s)}function Cw(o,s){return H_(o,s)}function fm(...o){}const Uw=new Nn("Application Initializer");let pm=(()=>{class o{constructor(l){this.appInits=l,this.resolve=fm,this.reject=fm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(w_(m))l.push(m);else if(E_(m)){const v=new Promise((E,C)=>{m.subscribe({complete:E,error:C})});l.push(v)}}Promise.all(l).then(()=>{d()}).catch(h=>{this.reject(h)}),0===l.length&&d(),this.initialized=!0}}return o.\u0275fac=function(l){return new(l||o)(je(Uw,8))},o.\u0275prov=st({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const mm=new Nn("AppId",{providedIn:"root",factory:function HS(){return`${jw()}${jw()}${jw()}`}});function jw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Hw=new Nn("Platform Initializer"),$w=new Nn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),zw=new Nn("appBootstrapListener"),$S=new Nn("AnimationModuleType");let K1=(()=>{class o{log(l){console.log(l)}warn(l){console.warn(l)}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=st({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const gm=new Nn("LocaleId",{providedIn:"root",factory:()=>nt(gm,gt.Optional|gt.SkipSelf)||function Gw(){return typeof $localize<"u"&&$localize.locale||sc}()}),qw=new Nn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class qS{constructor(s,l){this.ngModuleFactory=s,this.componentFactories=l}}let Ww=(()=>{class o{compileModuleSync(l){return new nw(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),m=la(Dn(l).declarations).reduce((v,E)=>{const C=pt(E);return C&&v.push(new yh(C)),v},[]);return new qS(d,m)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=st({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const KS=(()=>Promise.resolve(0))();function _m(o){typeof Zone>"u"?KS.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Xr{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ki(!1),this.onMicrotaskEmpty=new Ki(!1),this.onStable=new Ki(!1),this.onError=new Ki(!1),typeof Zone>"u")throw new me(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&l,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function ZS(){let o=Dt.requestAnimationFrame,s=Dt.cancelAnimationFrame;if(typeof Zone<"u"&&o&&s){const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l);const d=s[Zone.__symbol__("OriginalDelegate")];d&&(s=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Ps(o){const s=()=>{!function lc(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Dt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Q_(o),o.isCheckStableRunning=!0,ym(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Q_(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,h,m,v,E)=>{try{return X_(o),l.invokeTask(h,m,v,E)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&s(),Yw(o)}},onInvoke:(l,d,h,m,v,E,C)=>{try{return X_(o),l.invoke(h,m,v,E,C)}finally{o.shouldCoalesceRunChangeDetection&&s(),Yw(o)}},onHasTask:(l,d,h,m)=>{l.hasTask(h,m),d===h&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,Q_(o),ym(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(l,d,h,m)=>(l.handleError(h,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xr.isInAngularZone())throw new me(909,!1)}static assertNotInAngularZone(){if(Xr.isInAngularZone())throw new me(909,!1)}run(s,l,d){return this._inner.run(s,l,d)}runTask(s,l,d,h){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+h,s,Zw,fm,fm);try{return m.runTask(v,l,d)}finally{m.cancelTask(v)}}runGuarded(s,l,d){return this._inner.runGuarded(s,l,d)}runOutsideAngular(s){return this._outer.run(s)}}const Zw={};function ym(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Q_(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function X_(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function Yw(o){o._nesting--,ym(o)}class YS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ki,this.onMicrotaskEmpty=new Ki,this.onStable=new Ki,this.onError=new Ki}run(s,l,d){return s.apply(l,d)}runGuarded(s,l,d){return s.apply(l,d)}runOutsideAngular(s){return s()}runTask(s,l,d,h){return s.apply(l,d)}}const Qw=new Nn(""),Uh=new Nn("");let Zi,QS=(()=>{class o{constructor(l,d,h){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Zi||(function Xw(o){Zi=o}(h),h.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Xr.assertNotInAngularZone(),_m(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())_m(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,h){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:m,updateCb:h})}whenStable(l,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,h){return[]}}return o.\u0275fac=function(l){return new(l||o)(je(Xr),je(ga),je(Uh))},o.\u0275prov=st({token:o,factory:o.\u0275fac}),o})(),ga=(()=>{class o{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return Zi?.findTestabilityInTree(this,l,d)??null}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=st({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),kr=null;const Jw=new Nn("AllowMultipleToken"),J_=new Nn("PlatformDestroyListeners");class nE{constructor(s,l){this.name=s,this.token=l}}function ny(o,s,l=[]){const d=`Platform: ${s}`,h=new Nn(d);return(m=[])=>{let v=ry();if(!v||v.injector.get(Jw,!1)){const E=[...l,...m,{provide:h,useValue:!0}];o?o(E):function iE(o){if(kr&&!kr.get(Jw,!1))throw new me(400,!1);kr=o;const s=o.get(oy);(function ey(o){const s=o.get(Hw,null);s&&s.forEach(l=>l())})(o)}(function iy(o=[],s){return vu.create({name:s,providers:[{provide:Gg,useValue:"platform"},{provide:J_,useValue:new Set([()=>kr=null])},...o]})}(E,d))}return function oE(o){const s=ry();if(!s)throw new me(401,!1);return s}()}}function ry(){return kr?.get(oy)??null}let oy=(()=>{class o{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const h=function vm(o,s){let l;return l="noop"===o?new YS:("zone.js"===o?void 0:o)||new Xr(s),l}(d?.ngZone,function sy(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(d)),m=[{provide:Xr,useValue:h}];return h.run(()=>{const v=vu.create({providers:m,parent:this.injector,name:l.moduleType.name}),E=l.create(v),C=E.injector.get(_u,null);if(!C)throw new me(402,!1);return h.runOutsideAngular(()=>{const I=h.onError.subscribe({next:T=>{C.handleError(T)}});E.onDestroy(()=>{Hh(this._modules,E),I.unsubscribe()})}),function ay(o,s,l){try{const d=l();return w_(d)?d.catch(h=>{throw s.runOutsideAngular(()=>o.handleError(h)),h}):d}catch(d){throw s.runOutsideAngular(()=>o.handleError(d)),d}}(C,h,()=>{const I=E.injector.get(pm);return I.runInitializers(),I.donePromise.then(()=>(function O0(o){Ht(o,"Expected localeId to be defined"),"string"==typeof o&&(R0=o.toLowerCase().replace(/_/g,"-"))}(E.injector.get(gm,sc)||sc),this._moduleDoBootstrap(E),E))})})}bootstrapModule(l,d=[]){const h=bm({},d);return function eE(o,s,l){const d=new nw(l);return Promise.resolve(d)}(0,0,l).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(l){const d=l.injector.get(jh);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new me(403,!1);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new me(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(J_,null);l&&(l.forEach(d=>d()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(l){return new(l||o)(je(vu))},o.\u0275prov=st({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function bm(o,s){return Array.isArray(s)?s.reduce(bm,o):{...o,...s}}let jh=(()=>{class o{constructor(l,d,h){this._zone=l,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new F.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),v=new F.y(E=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{Xr.assertNotInAngularZone(),_m(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const I=this._zone.onUnstable.subscribe(()=>{Xr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{C.unsubscribe(),I.unsubscribe()}});this.isStable=(0,se.T)(m,v.pipe((0,fe.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,d){const h=l instanceof ch;if(!this._injector.get(pm).done)throw!h&&Ui(l),new me(405,false);let v;v=h?l:this._injector.get(uh).resolveComponentFactory(l),this.componentTypes.push(v.componentType);const E=function tE(o){return o.isBoundToModule}(v)?void 0:this._injector.get(Oh),I=v.create(vu.NULL,[],d||v.selector,E),T=I.location.nativeElement,L=I.injector.get(Qw,null);return L?.registerApplication(T),I.onDestroy(()=>{this.detachView(I.hostView),Hh(this.components,I),L?.unregisterApplication(T)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new me(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;Hh(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(zw,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Hh(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new me(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(l){return new(l||o)(je(Xr),je(aa),je(_u))},o.\u0275prov=st({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Hh(o,s){const l=o.indexOf(s);l>-1&&o.splice(l,1)}function wm(){return!1}let _a=(()=>{class o{}return o.__NG_ELEMENT_ID__=sE,o})();function sE(o){return function X1(o,s,l){if(Ir(o)&&!l){const d=cn(o.index,s);return new Wp(d,d)}return 47&o.type?new Wp(s[16],s):null}(Gi(),Ne(),16==(16&o))}class $h{constructor(){}supports(s){return Xp(s)}create(s){return new zh(s)}}const ju=(o,s)=>s;class zh{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||ju}forEachItem(s){let l;for(l=this._itHead;null!==l;l=l._next)s(l)}forEachOperation(s){let l=this._itHead,d=this._removalsHead,h=0,m=null;for(;l||d;){const v=!d||l&&l.currentIndex<dE(d,h,m)?l:d,E=dE(v,h,m),C=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(l=l._next,null==v.previousIndex)h++;else{m||(m=[]);const I=E-h,T=C-h;if(I!=T){for(let K=0;K<I;K++){const re=K<m.length?m[K]:m[K]=0,Ce=re+K;T<=Ce&&Ce<I&&(m[K]=re+1)}m[v.previousIndex]=T-I}}E!==C&&s(v,E,C)}}forEachPreviousItem(s){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)s(l)}forEachAddedItem(s){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)s(l)}forEachMovedItem(s){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)s(l)}forEachRemovedItem(s){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)s(l)}forEachIdentityChange(s){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)s(l)}diff(s){if(null==s&&(s=[]),!Xp(s))throw new me(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,m,v,l=this._itHead,d=!1;if(Array.isArray(s)){this.length=s.length;for(let E=0;E<this.length;E++)m=s[E],v=this._trackByFn(E,m),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,m,v,E)),Object.is(l.item,m)||this._addIdentityChange(l,m)):(l=this._mismatch(l,m,v,E),d=!0),l=l._next}else h=0,function m_(o,s){if(Array.isArray(o))for(let l=0;l<o.length;l++)s(o[l]);else{const l=o[tc()]();let d;for(;!(d=l.next()).done;)s(d.value)}}(s,E=>{v=this._trackByFn(h,E),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,E,v,h)),Object.is(l.item,E)||this._addIdentityChange(l,E)):(l=this._mismatch(l,E,v,h),d=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,l,d,h){let m;return null===s?m=this._itTail:(m=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(s.item,l)||this._addIdentityChange(s,l),this._reinsertAfter(s,m,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(s.item,l)||this._addIdentityChange(s,l),this._moveAfter(s,m,h)):s=this._addAfter(new hy(l,d),m,h),s}_verifyReinsertion(s,l,d,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?s=this._reinsertAfter(m,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const l=s._next;this._addToRemovals(this._unlink(s)),s=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,m=s._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(s,l,d),this._addToMoves(s,d),s}_moveAfter(s,l,d){return this._unlink(s),this._insertAfter(s,l,d),this._addToMoves(s,d),s}_addAfter(s,l,d){return this._insertAfter(s,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,l,d){const h=null===l?this._itHead:l._next;return s._next=h,s._prev=l,null===h?this._itTail=s:h._prev=s,null===l?this._itHead=s:l._next=s,null===this._linkedRecords&&(this._linkedRecords=new Im),this._linkedRecords.put(s),s.currentIndex=d,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const l=s._prev,d=s._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,s}_addToMoves(s,l){return s.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Im),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,l){return s.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class hy{constructor(s,l){this.item=s,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class lT{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,s))return d;return null}remove(s){const l=s._prevDup,d=s._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class Im{constructor(){this.map=new Map}put(s){const l=s.trackById;let d=this.map.get(l);d||(d=new lT,this.map.set(l,d)),d.add(s)}get(s,l){const h=this.map.get(s);return h?h.get(s,l):null}remove(s){const l=s.trackById;return this.map.get(l).remove(s)&&this.map.delete(l),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dE(o,s,l){const d=o.previousIndex;if(null===d)return d;let h=0;return l&&d<l.length&&(h=l[d]),d+s+h}class Gh{constructor(){}supports(s){return s instanceof Map||l0(s)}create(){return new hE}}class hE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let l;for(l=this._mapHead;null!==l;l=l._next)s(l)}forEachPreviousItem(s){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)s(l)}forEachChangedItem(s){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)s(l)}forEachAddedItem(s){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)s(l)}forEachRemovedItem(s){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)s(l)}diff(s){if(s){if(!(s instanceof Map||l0(s)))throw new me(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(s,(d,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const m=this._getOrCreateRecordForKey(h,d);l=this._insertBeforeOrAppend(l,m)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,l){if(s){const d=s._prev;return l._next=s,l._prev=d,s._prev=l,d&&(d._next=l),s===this._mapHead&&(this._mapHead=l),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(s,l){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,l);const m=h._prev,v=h._next;return m&&(m._next=v),v&&(v._prev=m),h._next=null,h._prev=null,h}const d=new fE(s);return this._records.set(s,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,l){Object.is(l,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=l,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,l){s instanceof Map?s.forEach(l):Object.keys(s).forEach(d=>l(s[d],d))}}class fE{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fy(){return new qh([new $h])}let qh=(()=>{class o{constructor(l){this.factories=l}static create(l,d){if(null!=d){const h=d.factories.slice();l=l.concat(h)}return new o(l)}static extend(l){return{provide:o,useFactory:d=>o.create(l,d||fy()),deps:[[o,new Ol,new Yo]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(null!=d)return d;throw new me(901,!1)}}return o.\u0275prov=st({token:o,providedIn:"root",factory:fy}),o})();function cT(){return new py([new Gh])}let py=(()=>{class o{constructor(l){this.factories=l}static create(l,d){if(d){const h=d.factories.slice();l=l.concat(h)}return new o(l)}static extend(l){return{provide:o,useFactory:d=>o.create(l,d||cT()),deps:[[o,new Ol,new Yo]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(d)return d;throw new me(901,!1)}}return o.\u0275prov=st({token:o,providedIn:"root",factory:cT}),o})();const Kh=ny(null,"core",[]);let xm=(()=>{class o{constructor(l){}}return o.\u0275fac=function(l){return new(l||o)(je(jh))},o.\u0275mod=Q({type:o}),o.\u0275inj=gi({}),o})();function Sm(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},579:(ht,xe,k)=>{k.d(xe,{EI:()=>Ie,Gb:()=>Mi,Iv:()=>Ji,Kz:()=>It,Xd:()=>Pn,lT:()=>ti,xP:()=>je});var u=k(5861),ne=k(9681),F=k(1877),se=k(2090),fe=k(4859);k(2833);const _e="analytics",ye="firebase_id",q="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",J="https://www.googletagmanager.com/gtag/js",Re=new F.Yd("@firebase/analytics");function be(R){return Promise.all(R.map(H=>H.catch(V=>V)))}function We(R,H){const V=document.createElement("script");V.src=`${J}?l=${R}&id=${H}`,V.async=!0,document.head.appendChild(V)}function me(R,H,V,he,Oe,Ze){return Se.apply(this,arguments)}function Se(){return(Se=(0,u.Z)(function*(R,H,V,he,Oe,Ze){const lt=he[Oe];try{if(lt)yield H[lt];else{const Ft=(yield be(V)).find(ft=>ft.measurementId===Oe);Ft&&(yield H[Ft.appId])}}catch(Ye){Re.error(Ye)}R("config",Oe,Ze)})).apply(this,arguments)}function Pe(R,H,V,he,Oe){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,u.Z)(function*(R,H,V,he,Oe){try{let Ze=[];if(Oe&&Oe.send_to){let lt=Oe.send_to;Array.isArray(lt)||(lt=[lt]);const Ye=yield be(V);for(const Ft of lt){const ft=Ye.find(ci=>ci.measurementId===Ft),fn=ft&&H[ft.appId];if(!fn){Ze=[];break}Ze.push(fn)}}0===Ze.length&&(Ze=Object.values(H)),yield Promise.all(Ze),R("event",he,Oe||{})}catch(Ze){Re.error(Ze)}})).apply(this,arguments)}function Te(R){const H=window.document.getElementsByTagName("script");for(const V of Object.values(H))if(V.src&&V.src.includes(J)&&V.src.includes(R))return V;return null}const Ae=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),te=new class X{constructor(H={},V=1e3){this.throttleMetadata=H,this.intervalMillis=V}getThrottleMetadata(H){return this.throttleMetadata[H]}setThrottleMetadata(H,V){this.throttleMetadata[H]=V}deleteThrottleMetadata(H){delete this.throttleMetadata[H]}};function ae(R){return new Headers({Accept:"application/json","x-goog-api-key":R})}function oe(R){return He.apply(this,arguments)}function He(){return(He=(0,u.Z)(function*(R){var H;const{appId:V,apiKey:he}=R,Oe={method:"GET",headers:ae(he)},Ze=q.replace("{app-id}",V),lt=yield fetch(Ze,Oe);if(200!==lt.status&&304!==lt.status){let Ye="";try{const Ft=yield lt.json();null!==(H=Ft.error)&&void 0!==H&&H.message&&(Ye=Ft.error.message)}catch{}throw Ae.create("config-fetch-failed",{httpStatus:lt.status,responseMessage:Ye})}return lt.json()})).apply(this,arguments)}function Be(R){return ut.apply(this,arguments)}function ut(){return(ut=(0,u.Z)(function*(R,H=te,V){const{appId:he,apiKey:Oe,measurementId:Ze}=R.options;if(!he)throw Ae.create("no-app-id");if(!Oe){if(Ze)return{measurementId:Ze,appId:he};throw Ae.create("no-api-key")}const lt=H.getThrottleMetadata(he)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ye=new At;return setTimeout((0,u.Z)(function*(){Ye.abort()}),void 0!==V?V:6e4),tn({appId:he,apiKey:Oe,measurementId:Ze},lt,Ye,H)})).apply(this,arguments)}function tn(R,H,V){return on.apply(this,arguments)}function on(){return(on=(0,u.Z)(function*(R,{throttleEndTimeMillis:H,backoffCount:V},he,Oe=te){var Ze;const{appId:lt,measurementId:Ye}=R;try{yield Mt(he,H)}catch(Ft){if(Ye)return Re.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ye} provided in the "measurementId" field in the local Firebase config. [${Ft?.message}]`),{appId:lt,measurementId:Ye};throw Ft}try{const Ft=yield oe(R);return Oe.deleteThrottleMetadata(lt),Ft}catch(Ft){const ft=Ft;if(!Ht(ft)){if(Oe.deleteThrottleMetadata(lt),Ye)return Re.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ye} provided in the "measurementId" field in the local Firebase config. [${ft?.message}]`),{appId:lt,measurementId:Ye};throw Ft}const fn=503===Number(null===(Ze=ft?.customData)||void 0===Ze?void 0:Ze.httpStatus)?(0,se.$s)(V,Oe.intervalMillis,30):(0,se.$s)(V,Oe.intervalMillis),ci={throttleEndTimeMillis:Date.now()+fn,backoffCount:V+1};return Oe.setThrottleMetadata(lt,ci),Re.debug(`Calling attemptFetch again in ${fn} millis`),tn(R,ci,he,Oe)}})).apply(this,arguments)}function Mt(R,H){return new Promise((V,he)=>{const Oe=Math.max(H-Date.now(),0),Ze=setTimeout(V,Oe);R.addEventListener(()=>{clearTimeout(Ze),he(Ae.create("fetch-throttle",{throttleEndTimeMillis:H}))})})}function Ht(R){if(!(R instanceof se.ZR&&R.customData))return!1;const H=Number(R.customData.httpStatus);return 429===H||500===H||503===H||504===H}class At{constructor(){this.listeners=[]}addEventListener(H){this.listeners.push(H)}abort(){this.listeners.forEach(H=>H())}}let un,Xi;function Zn(){return(Zn=(0,u.Z)(function*(R,H,V,he,Oe){if(Oe&&Oe.global)R("event",V,he);else{const Ze=yield H;R("event",V,Object.assign(Object.assign({},he),{send_to:Ze}))}})).apply(this,arguments)}function sn(){return(sn=(0,u.Z)(function*(R,H,V,he){if(he&&he.global)return R("set",{screen_name:V}),Promise.resolve();R("config",yield H,{update:!0,screen_name:V})})).apply(this,arguments)}function Qi(){return(Qi=(0,u.Z)(function*(R,H,V,he){if(he&&he.global)return R("set",{user_id:V}),Promise.resolve();R("config",yield H,{update:!0,user_id:V})})).apply(this,arguments)}function Mn(){return(Mn=(0,u.Z)(function*(R,H,V,he){if(he&&he.global){const Oe={};for(const Ze of Object.keys(V))Oe[`user_properties.${Ze}`]=V[Ze];return R("set",Oe),Promise.resolve()}R("config",yield H,{update:!0,user_properties:V})})).apply(this,arguments)}function wi(){return(wi=(0,u.Z)(function*(R,H){const V=yield R;window[`ga-disable-${V}`]=!H})).apply(this,arguments)}function $n(R){Xi=R}function lr(R){un=R}function gn(){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,u.Z)(function*(){if(!(0,se.hl)())return Re.warn(Ae.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(R){return Re.warn(Ae.create("indexeddb-unavailable",{errorInfo:R?.toString()}).message),!1}return!0})).apply(this,arguments)}function Ai(){return(Ai=(0,u.Z)(function*(R,H,V,he,Oe,Ze,lt){var Ye;const Ft=Be(R);Ft.then(Qn=>{V[Qn.measurementId]=Qn.appId,R.options.measurementId&&Qn.measurementId!==R.options.measurementId&&Re.warn(`The measurement ID in the local Firebase config (${R.options.measurementId}) does not match the measurement ID fetched from the server (${Qn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Qn=>Re.error(Qn)),H.push(Ft);const ft=gn().then(Qn=>{if(Qn)return he.getId()}),[fn,ci]=yield Promise.all([Ft,ft]);Te(Ze)||We(Ze,fn.measurementId),Xi&&(Oe("consent","default",Xi),$n(void 0)),Oe("js",new Date);const Bn=null!==(Ye=lt?.config)&&void 0!==Ye?Ye:{};return Bn.origin="firebase",Bn.update=!0,null!=ci&&(Bn[ye]=ci),Oe("config",fn.measurementId,Bn),un&&(Oe("set",un),lr(void 0)),fn.measurementId})).apply(this,arguments)}class Bi{constructor(H){this.app=H}_delete(){return delete hn[this.app.options.appId],Promise.resolve()}}let hn={},li=[];const Dr={};let Et,On,Dt="dataLayer",_t="gtag",nn=!1;function Pn(R){if(nn)throw Ae.create("already-initialized");R.dataLayerName&&(Dt=R.dataLayerName),R.gtagName&&(_t=R.gtagName)}function Yn(R,H,V){!function Ei(){const R=[];if((0,se.ru)()&&R.push("This is a browser extension environment."),(0,se.zI)()||R.push("Cookies are not available."),R.length>0){const H=R.map((he,Oe)=>`(${Oe+1}) ${he}`).join(" "),V=Ae.create("invalid-analytics-context",{errorInfo:H});Re.warn(V.message)}}();const he=R.options.appId;if(!he)throw Ae.create("no-app-id");if(!R.options.apiKey){if(!R.options.measurementId)throw Ae.create("no-api-key");Re.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${R.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=hn[he])throw Ae.create("already-exists",{id:he});if(!nn){!function tt(R){let H=[];Array.isArray(window[R])?H=window[R]:window[R]=H}(Dt);const{wrappedGtag:Ze,gtagCore:lt}=function Ee(R,H,V,he,Oe){let Ze=function(...lt){window[he].push(arguments)};return window[Oe]&&"function"==typeof window[Oe]&&(Ze=window[Oe]),window[Oe]=function ke(R,H,V,he){function Ze(){return(Ze=(0,u.Z)(function*(lt,Ye,Ft){try{"event"===lt?yield Pe(R,H,V,Ye,Ft):"config"===lt?yield me(R,H,V,he,Ye,Ft):"consent"===lt?R("consent","update",Ft):R("set",Ye)}catch(ft){Re.error(ft)}})).apply(this,arguments)}return function Oe(lt,Ye,Ft){return Ze.apply(this,arguments)}}(Ze,R,H,V),{gtagCore:Ze,wrappedGtag:window[Oe]}}(hn,li,Dr,Dt,_t);On=Ze,Et=lt,nn=!0}return hn[he]=function gt(R,H,V,he,Oe,Ze,lt){return Ai.apply(this,arguments)}(R,li,Dr,H,Et,Dt,V),new Bi(R)}function Mi(){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,u.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}function ti(R,H,V){R=(0,se.m9)(R),function st(R,H,V,he){return sn.apply(this,arguments)}(On,hn[R.app.options.appId],H,V).catch(he=>Re.error(he))}function Ji(R,H,V){R=(0,se.m9)(R),function gi(R,H,V,he){return Qi.apply(this,arguments)}(On,hn[R.app.options.appId],H,V).catch(he=>Re.error(he))}function je(R,H,V){R=(0,se.m9)(R),function _i(R,H,V,he){return Mn.apply(this,arguments)}(On,hn[R.app.options.appId],H,V).catch(he=>Re.error(he))}function Ie(R,H){R=(0,se.m9)(R),function ar(R,H){return wi.apply(this,arguments)}(hn[R.app.options.appId],H).catch(V=>Re.error(V))}function It(R,H,V,he){R=(0,se.m9)(R),function ei(R,H,V,he,Oe){return Zn.apply(this,arguments)}(On,hn[R.app.options.appId],H,V,he).catch(Oe=>Re.error(Oe))}const Nt="@firebase/analytics",z="0.9.0";!function B(){(0,ne._registerComponent)(new fe.wA(_e,(H,{options:V})=>Yn(H.getProvider("app").getImmediate(),H.getProvider("installations-internal").getImmediate(),V),"PUBLIC")),(0,ne._registerComponent)(new fe.wA("analytics-internal",function R(H){try{const V=H.getProvider(_e).getImmediate();return{logEvent:(he,Oe,Ze)=>It(V,he,Oe,Ze)}}catch(V){throw Ae.create("interop-component-reg-failed",{reason:V})}},"PRIVATE")),(0,ne.registerVersion)(Nt,z),(0,ne.registerVersion)(Nt,z,"esm2017")}()},3942:(ht,xe,k)=>{k.d(xe,{Z:()=>We});var u=k(2090),ne=k(4859),F=k(9681),se=k(1877);class fe{constructor(me,Se){this._delegate=me,this.firebase=Se,(0,F._addComponent)(me,new ne.wA("app-compat",()=>this,"PUBLIC")),this.container=me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this._delegate.automaticDataCollectionEnabled=me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(me=>{this._delegate.checkDestroyed(),me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(me,Se=F._DEFAULT_ENTRY_NAME){var Pe;this._delegate.checkDestroyed();const Fe=this._delegate.container.getProvider(me);return!Fe.isInitialized()&&"EXPLICIT"===(null===(Pe=Fe.getComponent())||void 0===Pe?void 0:Pe.instantiationMode)&&Fe.initialize(),Fe.getImmediate({identifier:Se})}_removeServiceInstance(me,Se=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(me).clearInstance(Se)}_addComponent(me){(0,F._addComponent)(this._delegate,me)}_addOrOverwriteComponent(me){(0,F._addOrOverwriteComponent)(this._delegate,me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const _e=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function ue(){const tt=function ye(tt){const me={},Se={__esModule:!0,initializeApp:function ke(Ae,j={}){const we=F.initializeApp(Ae,j);if((0,u.r3)(me,we.name))return me[we.name];const X=new tt(we,Se);return me[we.name]=X,X},app:Fe,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function Te(Ae){const j=Ae.name,we=j.replace("-compat","");if(F._registerComponent(Ae)&&"PUBLIC"===Ae.type){const X=(te=Fe())=>{if("function"!=typeof te[we])throw _e.create("invalid-app-argument",{appName:j});return te[we]()};void 0!==Ae.serviceProps&&(0,u.ZB)(X,Ae.serviceProps),Se[we]=X,tt.prototype[we]=function(...te){return this._getService.bind(this,j).apply(this,Ae.multipleInstances?te:[])}}return"PUBLIC"===Ae.type?Se[we]:null},removeApp:function Pe(Ae){delete me[Ae]},useAsService:function ze(Ae,j){return"serverAuth"===j?null:j},modularAPIs:F}};function Fe(Ae){if(!(0,u.r3)(me,Ae=Ae||F._DEFAULT_ENTRY_NAME))throw _e.create("no-app",{appName:Ae});return me[Ae]}return Se.default=Se,Object.defineProperty(Se,"apps",{get:function Ee(){return Object.keys(me).map(Ae=>me[Ae])}}),Fe.App=tt,Se}(fe);return tt.INTERNAL=Object.assign(Object.assign({},tt.INTERNAL),{createFirebaseNamespace:ue,extendNamespace:function me(Se){(0,u.ZB)(tt,Se)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),tt}(),q=new se.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const tt=self.firebase.SDK_VERSION;tt&&tt.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const We=G;!function be(tt){(0,F.registerVersion)("@firebase/app-compat","0.2.0",tt)}()},9681:(ht,xe,k)=>{k.r(xe),k.d(xe,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>ar,_DEFAULT_ENTRY_NAME:()=>on,_addComponent:()=>un,_addOrOverwriteComponent:()=>ei,_apps:()=>Ht,_clearComponents:()=>gi,_components:()=>At,_getProvider:()=>st,_registerComponent:()=>Zn,_removeServiceInstance:()=>sn,deleteApp:()=>lr,getApp:()=>Xi,getApps:()=>$n,initializeApp:()=>wi,onLog:()=>gt,registerVersion:()=>Rn,setLogLevel:()=>Ai});var u=k(5861),ne=k(4859),F=k(1877),se=k(2090),fe=k(8766);class ie{constructor(Ie){this.container=Ie}getPlatformInfoString(){return this.container.getProviders().map(nt=>{if(function _e(je){return"VERSION"===je.getComponent()?.type}(nt)){const It=nt.getImmediate();return`${It.library}/${It.version}`}return null}).filter(nt=>nt).join(" ")}}const ye="@firebase/app",G=new F.Yd("@firebase/app"),on="[DEFAULT]",Mt={[ye]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ht=new Map,At=new Map;function un(je,Ie){try{je.container.addComponent(Ie)}catch(nt){G.debug(`Component ${Ie.name} failed to register with FirebaseApp ${je.name}`,nt)}}function ei(je,Ie){je.container.addOrOverwriteComponent(Ie)}function Zn(je){const Ie=je.name;if(At.has(Ie))return G.debug(`There were multiple attempts to register component ${Ie}.`),!1;At.set(Ie,je);for(const nt of Ht.values())un(nt,je);return!0}function st(je,Ie){const nt=je.container.getProvider("heartbeat").getImmediate({optional:!0});return nt&&nt.triggerHeartbeat(),je.container.getProvider(Ie)}function sn(je,Ie,nt=on){st(je,Ie).clearInstance(nt)}function gi(){At.clear()}const _i=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Mn{constructor(Ie,nt,It){this._isDeleted=!1,this._options=Object.assign({},Ie),this._config=Object.assign({},nt),this._name=nt.name,this._automaticDataCollectionEnabled=nt.automaticDataCollectionEnabled,this._container=It,this.container.addComponent(new ne.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ie){this._isDeleted=Ie}checkDestroyed(){if(this.isDeleted)throw _i.create("app-deleted",{appName:this._name})}}const ar="9.15.0";function wi(je,Ie={}){let nt=je;"object"!=typeof Ie&&(Ie={name:Ie});const It=Object.assign({name:on,automaticDataCollectionEnabled:!1},Ie),kt=It.name;if("string"!=typeof kt||!kt)throw _i.create("bad-app-name",{appName:String(kt)});if(nt||(nt=(0,se.aH)()),!nt)throw _i.create("no-options");const Nt=Ht.get(kt);if(Nt){if((0,se.vZ)(nt,Nt.options)&&(0,se.vZ)(It,Nt.config))return Nt;throw _i.create("duplicate-app",{appName:kt})}const z=new ne.H0(kt);for(const R of At.values())z.addComponent(R);const B=new Mn(nt,It,z);return Ht.set(kt,B),B}function Xi(je=on){const Ie=Ht.get(je);if(!Ie&&je===on)return wi();if(!Ie)throw _i.create("no-app",{appName:je});return Ie}function $n(){return Array.from(Ht.values())}function lr(je){return gn.apply(this,arguments)}function gn(){return(gn=(0,u.Z)(function*(je){const Ie=je.name;Ht.has(Ie)&&(Ht.delete(Ie),yield Promise.all(je.container.getProviders().map(nt=>nt.delete())),je.isDeleted=!0)})).apply(this,arguments)}function Rn(je,Ie,nt){var It;let kt=null!==(It=Mt[je])&&void 0!==It?It:je;nt&&(kt+=`-${nt}`);const Nt=kt.match(/\s|\//),z=Ie.match(/\s|\//);if(Nt||z){const B=[`Unable to register library "${kt}" with version "${Ie}":`];return Nt&&B.push(`library name "${kt}" contains illegal characters (whitespace or "/")`),Nt&&z&&B.push("and"),z&&B.push(`version name "${Ie}" contains illegal characters (whitespace or "/")`),void G.warn(B.join(" "))}Zn(new ne.wA(`${kt}-version`,()=>({library:kt,version:Ie}),"VERSION"))}function gt(je,Ie){if(null!==je&&"function"!=typeof je)throw _i.create("invalid-log-argument");(0,F.Am)(je,Ie)}function Ai(je){(0,F.Ub)(je)}const li="firebase-heartbeat-store";let Dr=null;function Dt(){return Dr||(Dr=(0,fe.X3)("firebase-heartbeat-database",1,{upgrade:(je,Ie)=>{0===Ie&&je.createObjectStore(li)}}).catch(je=>{throw _i.create("idb-open",{originalErrorMessage:je.message})})),Dr}function Et(){return(Et=(0,u.Z)(function*(je){try{return(yield Dt()).transaction(li).objectStore(li).get(Pn(je))}catch(Ie){if(Ie instanceof se.ZR)G.warn(Ie.message);else{const nt=_i.create("idb-get",{originalErrorMessage:Ie?.message});G.warn(nt.message)}}})).apply(this,arguments)}function On(je,Ie){return nn.apply(this,arguments)}function nn(){return(nn=(0,u.Z)(function*(je,Ie){try{const It=(yield Dt()).transaction(li,"readwrite");return yield It.objectStore(li).put(Ie,Pn(je)),It.done}catch(nt){if(nt instanceof se.ZR)G.warn(nt.message);else{const It=_i.create("idb-set",{originalErrorMessage:nt?.message});G.warn(It.message)}}})).apply(this,arguments)}function Pn(je){return`${je.name}!${je.options.appId}`}class no{constructor(Ie){this.container=Ie,this._heartbeatsCache=null;const nt=this.container.getProvider("app").getImmediate();this._storage=new Yt(nt),this._heartbeatsCachePromise=this._storage.read().then(It=>(this._heartbeatsCache=It,It))}triggerHeartbeat(){var Ie=this;return(0,u.Z)(function*(){const It=Ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),kt=ln();if(null===Ie._heartbeatsCache&&(Ie._heartbeatsCache=yield Ie._heartbeatsCachePromise),Ie._heartbeatsCache.lastSentHeartbeatDate!==kt&&!Ie._heartbeatsCache.heartbeats.some(Nt=>Nt.date===kt))return Ie._heartbeatsCache.heartbeats.push({date:kt,agent:It}),Ie._heartbeatsCache.heartbeats=Ie._heartbeatsCache.heartbeats.filter(Nt=>{const z=new Date(Nt.date).valueOf();return Date.now()-z<=2592e6}),Ie._storage.overwrite(Ie._heartbeatsCache)})()}getHeartbeatsHeader(){var Ie=this;return(0,u.Z)(function*(){if(null===Ie._heartbeatsCache&&(yield Ie._heartbeatsCachePromise),null===Ie._heartbeatsCache||0===Ie._heartbeatsCache.heartbeats.length)return"";const nt=ln(),{heartbeatsToSend:It,unsentEntries:kt}=function Mi(je,Ie=1024){const nt=[];let It=je.slice();for(const kt of je){const Nt=nt.find(z=>z.agent===kt.agent);if(Nt){if(Nt.dates.push(kt.date),ti(nt)>Ie){Nt.dates.pop();break}}else if(nt.push({agent:kt.agent,dates:[kt.date]}),ti(nt)>Ie){nt.pop();break}It=It.slice(1)}return{heartbeatsToSend:nt,unsentEntries:It}}(Ie._heartbeatsCache.heartbeats),Nt=(0,se.L)(JSON.stringify({version:2,heartbeats:It}));return Ie._heartbeatsCache.lastSentHeartbeatDate=nt,kt.length>0?(Ie._heartbeatsCache.heartbeats=kt,yield Ie._storage.overwrite(Ie._heartbeatsCache)):(Ie._heartbeatsCache.heartbeats=[],Ie._storage.overwrite(Ie._heartbeatsCache)),Nt})()}}function ln(){return(new Date).toISOString().substring(0,10)}class Yt{constructor(Ie){this.app=Ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ie=this;return(0,u.Z)(function*(){return(yield Ie._canUseIndexedDBPromise)&&(yield function _t(je){return Et.apply(this,arguments)}(Ie.app))||{heartbeats:[]}})()}overwrite(Ie){var nt=this;return(0,u.Z)(function*(){var It;if(yield nt._canUseIndexedDBPromise){const Nt=yield nt.read();return On(nt.app,{lastSentHeartbeatDate:null!==(It=Ie.lastSentHeartbeatDate)&&void 0!==It?It:Nt.lastSentHeartbeatDate,heartbeats:Ie.heartbeats})}})()}add(Ie){var nt=this;return(0,u.Z)(function*(){var It;if(yield nt._canUseIndexedDBPromise){const Nt=yield nt.read();return On(nt.app,{lastSentHeartbeatDate:null!==(It=Ie.lastSentHeartbeatDate)&&void 0!==It?It:Nt.lastSentHeartbeatDate,heartbeats:[...Nt.heartbeats,...Ie.heartbeats]})}})()}}function ti(je){return(0,se.L)(JSON.stringify({version:2,heartbeats:je})).length}!function Ji(je){Zn(new ne.wA("platform-logger",Ie=>new ie(Ie),"PRIVATE")),Zn(new ne.wA("heartbeat",Ie=>new no(Ie),"PRIVATE")),Rn(ye,"0.9.0",je),Rn(ye,"0.9.0","esm2017"),Rn("fire-js","")}("")},4859:(ht,xe,k)=>{k.d(xe,{H0:()=>ye,wA:()=>F});var u=k(5861),ne=k(2090);class F{constructor(G,q,J){this.name=G,this.instanceFactory=q,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const se="[DEFAULT]";class fe{constructor(G,q){this.name=G,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const q=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(q)){const J=new ne.BH;if(this.instancesDeferred.set(q,J),this.isInitialized(q)||this.shouldAutoInitialize())try{const Re=this.getOrInitializeService({instanceIdentifier:q});Re&&J.resolve(Re)}catch{}}return this.instancesDeferred.get(q).promise}getImmediate(G){var q;const J=this.normalizeInstanceIdentifier(G?.identifier),Re=null!==(q=G?.optional)&&void 0!==q&&q;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(Re)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(be){if(Re)return null;throw be}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function _e(ue){return"EAGER"===ue.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[q,J]of this.instancesDeferred.entries()){const Re=this.normalizeInstanceIdentifier(q);try{const be=this.getOrInitializeService({instanceIdentifier:Re});J.resolve(be)}catch{}}}}clearInstance(G=se){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,u.Z)(function*(){const q=Array.from(G.instances.values());yield Promise.all([...q.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...q.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=se){return this.instances.has(G)}getOptions(G=se){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:q={}}=G,J=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Re=this.getOrInitializeService({instanceIdentifier:J,options:q});for(const[be,We]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(be)&&We.resolve(Re);return Re}onInit(G,q){var J;const Re=this.normalizeInstanceIdentifier(q),be=null!==(J=this.onInitCallbacks.get(Re))&&void 0!==J?J:new Set;be.add(G),this.onInitCallbacks.set(Re,be);const We=this.instances.get(Re);return We&&G(We,Re),()=>{be.delete(G)}}invokeOnInitCallbacks(G,q){const J=this.onInitCallbacks.get(q);if(J)for(const Re of J)try{Re(G,q)}catch{}}getOrInitializeService({instanceIdentifier:G,options:q={}}){let J=this.instances.get(G);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(ue=G,ue===se?void 0:ue),options:q}),this.instances.set(G,J),this.instancesOptions.set(G,q),this.invokeOnInitCallbacks(J,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,J)}catch{}var ue;return J||null}normalizeInstanceIdentifier(G=se){return this.component?this.component.multipleInstances?G:se:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ye{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const q=this.getProvider(G.name);if(q.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);q.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const q=new fe(G,this);return this.providers.set(G,q),q}getProviders(){return Array.from(this.providers.values())}}},2833:(ht,xe,k)=>{var u=k(5861),ne=k(9681),F=k(4859),se=k(2090),fe=k(8766);const ie="@firebase/installations",ue="w:0.6.0",G="FIS_v2",tt=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function me(Q){return Q instanceof se.ZR&&Q.code.includes("request-failed")}function Se({projectId:Q}){return`https://firebaseinstallations.googleapis.com/v1/projects/${Q}/installations`}function Pe(Q){return{token:Q.token,requestStatus:2,expiresIn:j(Q.expiresIn),creationTime:Date.now()}}function Fe(Q,ve){return ke.apply(this,arguments)}function ke(){return(ke=(0,u.Z)(function*(Q,ve){const vt=(yield ve.json()).error;return tt.create("request-failed",{requestName:Q,serverCode:vt.code,serverMessage:vt.message,serverStatus:vt.status})})).apply(this,arguments)}function Ee({apiKey:Q}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Q})}function Te(Q,{refreshToken:ve}){const Ue=Ee(Q);return Ue.append("Authorization",function we(Q){return`${G} ${Q}`}(ve)),Ue}function ze(Q){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,u.Z)(function*(Q){const ve=yield Q();return ve.status>=500&&ve.status<600?Q():ve})).apply(this,arguments)}function j(Q){return Number(Q.replace("s","000"))}function X(Q,ve){return te.apply(this,arguments)}function te(){return(te=(0,u.Z)(function*({appConfig:Q,heartbeatServiceProvider:ve},{fid:Ue}){const vt=Se(Q),Sn=Ee(Q),pt=ve.getImmediate({optional:!0});if(pt){const Dn=yield pt.getHeartbeatsHeader();Dn&&Sn.append("x-firebase-client",Dn)}const an={method:"POST",headers:Sn,body:JSON.stringify({fid:Ue,authVersion:G,appId:Q.appId,sdkVersion:ue})},Ui=yield ze(()=>fetch(vt,an));if(Ui.ok){const Dn=yield Ui.json();return{fid:Dn.fid||Ue,registrationStatus:2,refreshToken:Dn.refreshToken,authToken:Pe(Dn.authToken)}}throw yield Fe("Create Installation",Ui)})).apply(this,arguments)}function ae(Q){return new Promise(ve=>{setTimeout(ve,Q)})}const He=/^[cdef][\w-]{21}$/;function ut(){try{const Q=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(Q),Q[0]=112+Q[0]%16;const Ue=function tn(Q){return function oe(Q){return btoa(String.fromCharCode(...Q)).replace(/\+/g,"-").replace(/\//g,"_")}(Q).substr(0,22)}(Q);return He.test(Ue)?Ue:""}catch{return""}}function on(Q){return`${Q.appName}!${Q.appId}`}const Mt=new Map;function Ht(Q,ve){const Ue=on(Q);ei(Ue,ve),function Zn(Q,ve){const Ue=function sn(){return!st&&"BroadcastChannel"in self&&(st=new BroadcastChannel("[Firebase] FID Change"),st.onmessage=Q=>{ei(Q.data.key,Q.data.fid)}),st}();Ue&&Ue.postMessage({key:Q,fid:ve}),function gi(){0===Mt.size&&st&&(st.close(),st=null)}()}(Ue,ve)}function ei(Q,ve){const Ue=Mt.get(Q);if(Ue)for(const vt of Ue)vt(ve)}let st=null;const Mn="firebase-installations-store";let ar=null;function wi(){return ar||(ar=(0,fe.X3)("firebase-installations-database",1,{upgrade:(Q,ve)=>{0===ve&&Q.createObjectStore(Mn)}})),ar}function Xi(Q,ve){return $n.apply(this,arguments)}function $n(){return($n=(0,u.Z)(function*(Q,ve){const Ue=on(Q),Sn=(yield wi()).transaction(Mn,"readwrite"),pt=Sn.objectStore(Mn),pn=yield pt.get(Ue);return yield pt.put(ve,Ue),yield Sn.done,(!pn||pn.fid!==ve.fid)&&Ht(Q,ve.fid),ve})).apply(this,arguments)}function lr(Q){return gn.apply(this,arguments)}function gn(){return(gn=(0,u.Z)(function*(Q){const ve=on(Q),vt=(yield wi()).transaction(Mn,"readwrite");yield vt.objectStore(Mn).delete(ve),yield vt.done})).apply(this,arguments)}function Rn(Q,ve){return gt.apply(this,arguments)}function gt(){return(gt=(0,u.Z)(function*(Q,ve){const Ue=on(Q),Sn=(yield wi()).transaction(Mn,"readwrite"),pt=Sn.objectStore(Mn),pn=yield pt.get(Ue),an=ve(pn);return void 0===an?yield pt.delete(Ue):yield pt.put(an,Ue),yield Sn.done,an&&(!pn||pn.fid!==an.fid)&&Ht(Q,an.fid),an})).apply(this,arguments)}function Ai(Q){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,u.Z)(function*(Q){let ve;const Ue=yield Rn(Q.appConfig,vt=>{const Sn=hn(vt),pt=li(Q,Sn);return ve=pt.registrationPromise,pt.installationEntry});return""===Ue.fid?{installationEntry:yield ve}:{installationEntry:Ue,registrationPromise:ve}})).apply(this,arguments)}function hn(Q){return nn(Q||{fid:ut(),registrationStatus:0})}function li(Q,ve){if(0===ve.registrationStatus){if(!navigator.onLine)return{installationEntry:ve,registrationPromise:Promise.reject(tt.create("app-offline"))};const Ue={fid:ve.fid,registrationStatus:1,registrationTime:Date.now()},vt=function Dr(Q,ve){return Dt.apply(this,arguments)}(Q,Ue);return{installationEntry:Ue,registrationPromise:vt}}return 1===ve.registrationStatus?{installationEntry:ve,registrationPromise:_t(Q)}:{installationEntry:ve}}function Dt(){return(Dt=(0,u.Z)(function*(Q,ve){try{const Ue=yield X(Q,ve);return Xi(Q.appConfig,Ue)}catch(Ue){throw me(Ue)&&409===Ue.customData.serverCode?yield lr(Q.appConfig):yield Xi(Q.appConfig,{fid:ve.fid,registrationStatus:0}),Ue}})).apply(this,arguments)}function _t(Q){return Et.apply(this,arguments)}function Et(){return(Et=(0,u.Z)(function*(Q){let ve=yield On(Q.appConfig);for(;1===ve.registrationStatus;)yield ae(100),ve=yield On(Q.appConfig);if(0===ve.registrationStatus){const{installationEntry:Ue,registrationPromise:vt}=yield Ai(Q);return vt||Ue}return ve})).apply(this,arguments)}function On(Q){return Rn(Q,ve=>{if(!ve)throw tt.create("installation-not-found");return nn(ve)})}function nn(Q){return function Pn(Q){return 1===Q.registrationStatus&&Q.registrationTime+1e4<Date.now()}(Q)?{fid:Q.fid,registrationStatus:0}:Q}function Ei(Q,ve){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,u.Z)(function*({appConfig:Q,heartbeatServiceProvider:ve},Ue){const vt=no(Q,Ue),Sn=Te(Q,Ue),pt=ve.getImmediate({optional:!0});if(pt){const Dn=yield pt.getHeartbeatsHeader();Dn&&Sn.append("x-firebase-client",Dn)}const an={method:"POST",headers:Sn,body:JSON.stringify({installation:{sdkVersion:ue,appId:Q.appId}})},Ui=yield ze(()=>fetch(vt,an));if(Ui.ok)return Pe(yield Ui.json());throw yield Fe("Generate Auth Token",Ui)})).apply(this,arguments)}function no(Q,{fid:ve}){return`${Se(Q)}/${ve}/authTokens:generate`}function ln(Q){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,u.Z)(function*(Q,ve=!1){let Ue;const vt=yield Rn(Q.appConfig,pt=>{if(!nt(pt))throw tt.create("not-registered");const pn=pt.authToken;if(!ve&&It(pn))return pt;if(1===pn.requestStatus)return Ue=Yt(Q,ve),pt;{if(!navigator.onLine)throw tt.create("app-offline");const an=Nt(pt);return Ue=je(Q,an),an}});return Ue?yield Ue:vt.authToken})).apply(this,arguments)}function Yt(Q,ve){return ti.apply(this,arguments)}function ti(){return(ti=(0,u.Z)(function*(Q,ve){let Ue=yield Ji(Q.appConfig);for(;1===Ue.authToken.requestStatus;)yield ae(100),Ue=yield Ji(Q.appConfig);const vt=Ue.authToken;return 0===vt.requestStatus?ln(Q,ve):vt})).apply(this,arguments)}function Ji(Q){return Rn(Q,ve=>{if(!nt(ve))throw tt.create("not-registered");return function z(Q){return 1===Q.requestStatus&&Q.requestTime+1e4<Date.now()}(ve.authToken)?Object.assign(Object.assign({},ve),{authToken:{requestStatus:0}}):ve})}function je(Q,ve){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,u.Z)(function*(Q,ve){try{const Ue=yield Ei(Q,ve),vt=Object.assign(Object.assign({},ve),{authToken:Ue});return yield Xi(Q.appConfig,vt),Ue}catch(Ue){if(!me(Ue)||401!==Ue.customData.serverCode&&404!==Ue.customData.serverCode){const vt=Object.assign(Object.assign({},ve),{authToken:{requestStatus:0}});yield Xi(Q.appConfig,vt)}else yield lr(Q.appConfig);throw Ue}})).apply(this,arguments)}function nt(Q){return void 0!==Q&&2===Q.registrationStatus}function It(Q){return 2===Q.requestStatus&&!function kt(Q){const ve=Date.now();return ve<Q.creationTime||Q.creationTime+Q.expiresIn<ve+36e5}(Q)}function Nt(Q){const ve={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},Q),{authToken:ve})}function R(){return(R=(0,u.Z)(function*(Q){const ve=Q,{installationEntry:Ue,registrationPromise:vt}=yield Ai(ve);return vt?vt.catch(console.error):ln(ve).catch(console.error),Ue.fid})).apply(this,arguments)}function V(){return(V=(0,u.Z)(function*(Q,ve=!1){const Ue=Q;return yield he(Ue),(yield ln(Ue,ve)).token})).apply(this,arguments)}function he(Q){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,u.Z)(function*(Q){const{registrationPromise:ve}=yield Ai(Q);ve&&(yield ve)})).apply(this,arguments)}function Qn(Q){return tt.create("missing-app-config-values",{valueName:Q})}const Us="installations",hs=Q=>{const ve=Q.getProvider("app").getImmediate(),Ue=function Bn(Q){if(!Q||!Q.options)throw Qn("App Configuration");if(!Q.name)throw Qn("App Name");const ve=["projectId","apiKey","appId"];for(const Ue of ve)if(!Q.options[Ue])throw Qn(Ue);return{appName:Q.name,projectId:Q.options.projectId,apiKey:Q.options.apiKey,appId:Q.options.appId}}(ve);return{app:ve,appConfig:Ue,heartbeatServiceProvider:(0,ne._getProvider)(ve,"heartbeat"),_delete:()=>Promise.resolve()}},js=Q=>{const ve=Q.getProvider("app").getImmediate(),Ue=(0,ne._getProvider)(ve,Us).getImmediate();return{getId:()=>function B(Q){return R.apply(this,arguments)}(Ue),getToken:Sn=>function H(Q){return V.apply(this,arguments)}(Ue,Sn)}};(function fs(){(0,ne._registerComponent)(new F.wA(Us,hs,"PUBLIC")),(0,ne._registerComponent)(new F.wA("installations-internal",js,"PRIVATE"))})(),(0,ne.registerVersion)(ie,"0.6.0"),(0,ne.registerVersion)(ie,"0.6.0","esm2017")},1877:(ht,xe,k)=>{k.d(xe,{Am:()=>ue,Ub:()=>ye,Yd:()=>_e,in:()=>ne});const u=[];var ne=(()=>{return(G=ne||(ne={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",ne;var G})();const F={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},se=ne.INFO,fe={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},ie=(G,q,...J)=>{if(q<G.logLevel)return;const Re=(new Date).toISOString(),be=fe[q];if(!be)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[be](`[${Re}]  ${G.name}:`,...J)};class _e{constructor(q){this.name=q,this._logLevel=se,this._logHandler=ie,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in ne))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?F[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...q),this._logHandler(this,ne.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...q),this._logHandler(this,ne.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...q),this._logHandler(this,ne.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...q),this._logHandler(this,ne.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...q),this._logHandler(this,ne.ERROR,...q)}}function ye(G){u.forEach(q=>{q.setLogLevel(G)})}function ue(G,q){for(const J of u){let Re=null;q&&q.level&&(Re=F[q.level]),J.userLogHandler=null===G?null:(be,We,...tt)=>{const me=tt.map(Se=>{if(null==Se)return null;if("string"==typeof Se)return Se;if("number"==typeof Se||"boolean"==typeof Se)return Se.toString();if(Se instanceof Error)return Se.message;try{return JSON.stringify(Se)}catch{return null}}).filter(Se=>Se).join(" ");We>=(Re??be.logLevel)&&G({level:ne[We].toLowerCase(),message:me,args:tt,type:be.name})}}}},5132:(ht,xe,k)=>{k.d(xe,{Gb:()=>u.Gb});var u=k(579)},259:(ht,xe,k)=>{k.d(xe,{C6:()=>u.getApps,Mq:()=>u.getApp});var u=k(9681);(0,u.registerVersion)("firebase","9.15.0","app")},9260:(ht,xe,k)=>{k.d(xe,{Z:()=>u.Z});var u=k(3942);u.Z.registerVersion("firebase","9.15.0","app-compat")},9169:(ht,xe,k)=>{k.r(xe);var u=k(5861),ne=k(3942),F=k(2090),se=k(9681),fe=k(1877),ie=k(655),_e=k(4859);const We=function Re(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},tt=function be(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},me=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Pe=new fe.Yd("@firebase/auth");function Fe(y,...p){Pe.logLevel<=fe.in.ERROR&&Pe.error(`Auth (${se.SDK_VERSION}): ${y}`,...p)}function ke(y,...p){throw Ae(y,...p)}function Ee(y,...p){return Ae(y,...p)}function Te(y,p,g){const b=Object.assign(Object.assign({},tt()),{[p]:g});return new F.LL("auth","Firebase",b).create(p,{appName:y.name})}function ze(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&ke(y,"argument-error"),Te(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ae(y,...p){if("string"!=typeof y){const g=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(g,...b)}return me.create(y,...p)}function j(y,p,...g){if(!y)throw Ae(p,...g)}function we(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Fe(p),new Error(p)}function X(y,p){y||we(p)}const te=new Map;function ae(y){X(y instanceof Function,"Expected a class definition");let p=te.get(y);return p?(X(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,te.set(y,p),p)}function Be(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function ut(){return"http:"===tn()||"https:"===tn()}function tn(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Ht{constructor(p,g){this.shortDelay=p,this.longDelay=g,X(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return function on(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ut()||(0,F.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function At(y,p){X(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class un{static initialize(p,g,b){this.fetchImpl=p,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void we("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void we("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void we("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ei={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Zn=new Ht(3e4,6e4);function st(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function sn(y,p,g,b){return gi.apply(this,arguments)}function gi(){return(gi=(0,u.Z)(function*(y,p,g,b,x={}){return Qi(y,x,(0,u.Z)(function*(){let M={},Y={};b&&("GET"===p?Y=b:M={body:JSON.stringify(b)});const ge=(0,F.xO)(Object.assign({key:y.config.apiKey},Y)).slice(1),qe=yield y._getAdditionalHeaders();return qe["Content-Type"]="application/json",y.languageCode&&(qe["X-Firebase-Locale"]=y.languageCode),un.fetch()(wi(y,y.config.apiHost,g,ge),Object.assign({method:p,headers:qe,referrerPolicy:"no-referrer"},M))}))})).apply(this,arguments)}function Qi(y,p,g){return _i.apply(this,arguments)}function _i(){return(_i=(0,u.Z)(function*(y,p,g){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},ei),p);try{const x=new Xi(y),M=yield Promise.race([g(),x.promise]);x.clearNetworkTimeout();const Y=yield M.json();if("needConfirmation"in Y)throw $n(y,"account-exists-with-different-credential",Y);if(M.ok&&!("errorMessage"in Y))return Y;{const ge=M.ok?Y.errorMessage:Y.error.message,[qe,ot]=ge.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===qe)throw $n(y,"credential-already-in-use",Y);if("EMAIL_EXISTS"===qe)throw $n(y,"email-already-in-use",Y);if("USER_DISABLED"===qe)throw $n(y,"user-disabled",Y);const Rt=b[qe]||qe.toLowerCase().replace(/[_\s]+/g,"-");if(ot)throw Te(y,Rt,ot);ke(y,Rt)}}catch(x){if(x instanceof F.ZR)throw x;ke(y,"network-request-failed")}})).apply(this,arguments)}function Mn(y,p,g,b){return ar.apply(this,arguments)}function ar(){return(ar=(0,u.Z)(function*(y,p,g,b,x={}){const M=yield sn(y,p,g,b,x);return"mfaPendingCredential"in M&&ke(y,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function wi(y,p,g,b){const x=`${p}${g}?${b}`;return y.config.emulator?At(y.config,x):`${y.config.apiScheme}://${x}`}class Xi{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(Ee(this.auth,"network-request-failed")),Zn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $n(y,p,g){const b={appName:y.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const x=Ee(y,p,b);return x.customData._tokenResponse=g,x}function gn(){return(gn=(0,u.Z)(function*(y,p){return sn(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Rn(y,p){return gt.apply(this,arguments)}function gt(){return(gt=(0,u.Z)(function*(y,p){return sn(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ai(y,p){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,u.Z)(function*(y,p){return sn(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function hn(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Dt(){return(Dt=(0,u.Z)(function*(y,p=!1){const g=(0,F.m9)(y),b=yield g.getIdToken(p),x=Et(b);j(x&&x.exp&&x.auth_time&&x.iat,g.auth,"internal-error");const M="object"==typeof x.firebase?x.firebase:void 0,Y=M?.sign_in_provider;return{claims:x,token:b,authTime:hn(_t(x.auth_time)),issuedAtTime:hn(_t(x.iat)),expirationTime:hn(_t(x.exp)),signInProvider:Y||null,signInSecondFactor:M?.sign_in_second_factor||null}})).apply(this,arguments)}function _t(y){return 1e3*Number(y)}function Et(y){const[p,g,b]=y.split(".");if(void 0===p||void 0===g||void 0===b)return Fe("JWT malformed, contained fewer than 3 sections"),null;try{const x=(0,F.tV)(g);return x?JSON.parse(x):(Fe("Failed to decode base64 JWT payload"),null)}catch(x){return Fe("Caught error parsing JWT payload as JSON",x?.toString()),null}}function nn(y,p){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,u.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(b){throw b instanceof F.ZR&&Ei(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function Ei({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Yn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const x=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,u.Z)(function*(){yield g.iteration()}),b)}iteration(){var p=this;return(0,u.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&p.schedule(!0))}p.schedule()})()}}class no{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=hn(this.lastLoginAt),this.creationTime=hn(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ln(y){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,u.Z)(function*(y){var p;const g=y.auth,b=yield y.getIdToken(),x=yield nn(y,Ai(g,{idToken:b}));j(x?.users.length,g,"internal-error");const M=x.users[0];y._notifyReloadListener(M);const Y=null!==(p=M.providerUserInfo)&&void 0!==p&&p.length?je(M.providerUserInfo):[],ge=Ji(y.providerData,Y),Rt=!!y.isAnonymous&&!(y.email&&M.passwordHash||ge?.length),St={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:ge,metadata:new no(M.createdAt,M.lastLoginAt),isAnonymous:Rt};Object.assign(y,St)})).apply(this,arguments)}function ti(){return(ti=(0,u.Z)(function*(y){const p=(0,F.m9)(y);yield ln(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Ji(y,p){return[...y.filter(b=>!p.some(x=>x.providerId===b.providerId)),...p]}function je(y){return y.map(p=>{var{providerId:g}=p,b=(0,ie._T)(p,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function nt(){return(nt=(0,u.Z)(function*(y,p){const g=yield Qi(y,{},(0,u.Z)(function*(){const b=(0,F.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:x,apiKey:M}=y.config,Y=wi(y,x,"/v1/token",`key=${M}`),ge=yield y._getAdditionalHeaders();return ge["Content-Type"]="application/x-www-form-urlencoded",un.fetch()(Y,{method:"POST",headers:ge,body:b})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class It{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){j(p.idToken,"internal-error"),j(typeof p.idToken<"u","internal-error"),j(typeof p.refreshToken<"u","internal-error");const g="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function On(y){const p=Et(y);return j(p,"internal-error"),j(typeof p.exp<"u","internal-error"),j(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var b=this;return(0,u.Z)(function*(){return j(!b.accessToken||b.refreshToken,p,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var b=this;return(0,u.Z)(function*(){const{accessToken:x,refreshToken:M,expiresIn:Y}=yield function Ie(y,p){return nt.apply(this,arguments)}(p,g);b.updateTokensAndExpiration(x,M,Number(Y))})()}updateTokensAndExpiration(p,g,b){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,g){const{refreshToken:b,accessToken:x,expirationTime:M}=g,Y=new It;return b&&(j("string"==typeof b,"internal-error",{appName:p}),Y.refreshToken=b),x&&(j("string"==typeof x,"internal-error",{appName:p}),Y.accessToken=x),M&&(j("number"==typeof M,"internal-error",{appName:p}),Y.expirationTime=M),Y}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new It,this.toJSON())}_performRefresh(){return we("not implemented")}}function kt(y,p){j("string"==typeof y||typeof y>"u","internal-error",{appName:p})}class Nt{constructor(p){var{uid:g,auth:b,stsTokenManager:x}=p,M=(0,ie._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new no(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,u.Z)(function*(){const b=yield nn(g,g.stsTokenManager.getToken(g.auth,p));return j(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(p){return function Dr(y){return Dt.apply(this,arguments)}(this,p)}reload(){return function Yt(y){return ti.apply(this,arguments)}(this)}_assign(p){this!==p&&(j(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Nt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){j(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var b=this;return(0,u.Z)(function*(){let x=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),x=!0),g&&(yield ln(b)),yield b.auth._persistUserIfCurrent(b),x&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,u.Z)(function*(){const g=yield p.getIdToken();return yield nn(p,function lr(y,p){return gn.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var b,x,M,Y,ge,qe,ot,Rt;const St=null!==(b=g.displayName)&&void 0!==b?b:void 0,Wn=null!==(x=g.email)&&void 0!==x?x:void 0,mo=null!==(M=g.phoneNumber)&&void 0!==M?M:void 0,du=null!==(Y=g.photoURL)&&void 0!==Y?Y:void 0,hu=null!==(ge=g.tenantId)&&void 0!==ge?ge:void 0,ia=null!==(qe=g._redirectEventId)&&void 0!==qe?qe:void 0,go=null!==(ot=g.createdAt)&&void 0!==ot?ot:void 0,ra=null!==(Rt=g.lastLoginAt)&&void 0!==Rt?Rt:void 0,{uid:Kl,emailVerified:ih,isAnonymous:oa,providerData:Zl,stsTokenManager:rh}=g;j(Kl&&rh,p,"internal-error");const tb=It.fromJSON(this.name,rh);j("string"==typeof Kl,p,"internal-error"),kt(St,p.name),kt(Wn,p.name),j("boolean"==typeof ih,p,"internal-error"),j("boolean"==typeof oa,p,"internal-error"),kt(mo,p.name),kt(du,p.name),kt(hu,p.name),kt(ia,p.name),kt(go,p.name),kt(ra,p.name);const Yl=new Nt({uid:Kl,auth:p,email:Wn,emailVerified:ih,displayName:St,isAnonymous:oa,photoURL:du,phoneNumber:mo,tenantId:hu,stsTokenManager:tb,createdAt:go,lastLoginAt:ra});return Zl&&Array.isArray(Zl)&&(Yl.providerData=Zl.map(Ya=>Object.assign({},Ya))),ia&&(Yl._redirectEventId=ia),Yl}static _fromIdTokenResponse(p,g,b=!1){return(0,u.Z)(function*(){const x=new It;x.updateFromServerResponse(g);const M=new Nt({uid:g.localId,auth:p,stsTokenManager:x,isAnonymous:b});return yield ln(M),M})()}}const B=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(g,b){var x=this;return(0,u.Z)(function*(){x.storage[g]=b})()}_get(g){var b=this;return(0,u.Z)(function*(){const x=b.storage[g];return void 0===x?null:x})()}_remove(g){var b=this;return(0,u.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return y.type="NONE",y})();function R(y,p,g){return`firebase:${y}:${p}:${g}`}class H{constructor(p,g,b){this.persistence=p,this.auth=g,this.userKey=b;const{config:x,name:M}=this.auth;this.fullUserKey=R(this.userKey,x.apiKey,M),this.fullPersistenceKey=R("persistence",x.apiKey,M),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,u.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?Nt._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,u.Z)(function*(){if(g.persistence===p)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,b="authUser"){return(0,u.Z)(function*(){if(!g.length)return new H(ae(B),p,b);const x=(yield Promise.all(g.map(function(){var ot=(0,u.Z)(function*(Rt){if(yield Rt._isAvailable())return Rt});return function(Rt){return ot.apply(this,arguments)}}()))).filter(ot=>ot);let M=x[0]||ae(B);const Y=R(b,p.config.apiKey,p.name);let ge=null;for(const ot of g)try{const Rt=yield ot._get(Y);if(Rt){const St=Nt._fromJSON(p,Rt);ot!==M&&(ge=St),M=ot;break}}catch{}const qe=x.filter(ot=>ot._shouldAllowMigration);return M._shouldAllowMigration&&qe.length?(M=qe[0],ge&&(yield M._set(Y,ge.toJSON())),yield Promise.all(g.map(function(){var ot=(0,u.Z)(function*(Rt){if(Rt!==M)try{yield Rt._remove(Y)}catch{}});return function(Rt){return ot.apply(this,arguments)}}())),new H(M,p,b)):new H(M,p,b)})()}}function V(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(lt(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(he(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Ft(p))return"Blackberry";if(ft(p))return"Webos";if(Oe(p))return"Safari";if((p.includes("chrome/")||Ze(p))&&!p.includes("edge/"))return"Chrome";if(Ye(p))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function he(y=(0,F.z$)()){return/firefox\//i.test(y)}function Oe(y=(0,F.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Ze(y=(0,F.z$)()){return/crios\//i.test(y)}function lt(y=(0,F.z$)()){return/iemobile/i.test(y)}function Ye(y=(0,F.z$)()){return/android/i.test(y)}function Ft(y=(0,F.z$)()){return/blackberry/i.test(y)}function ft(y=(0,F.z$)()){return/webos/i.test(y)}function fn(y=(0,F.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Us(y=(0,F.z$)()){return fn(y)||Ye(y)||ft(y)||Ft(y)||/windows phone/i.test(y)||lt(y)}function hs(y,p=[]){let g;switch(y){case"Browser":g=V((0,F.z$)());break;case"Worker":g=`${V((0,F.z$)())}-${y}`;break;default:g=y}const b=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${se.SDK_VERSION}/${b}`}class js{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const b=M=>new Promise((Y,ge)=>{try{Y(p(M))}catch(qe){ge(qe)}});b.onAbort=g,this.queue.push(b);const x=this.queue.length-1;return()=>{this.queue[x]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,u.Z)(function*(){if(g.auth.currentUser===p)return;const b=[];try{for(const x of g.queue)yield x(p),x.onAbort&&b.push(x.onAbort)}catch(x){b.reverse();for(const M of b)try{M()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:x?.message})}})()}}class fs{constructor(p,g,b){this.app=p,this.heartbeatServiceProvider=g,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ve(this),this.idTokenSubscription=new ve(this),this.beforeStateQueue=new js(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=me,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(p,g){var b=this;return g&&(this._popupRedirectResolver=ae(g)),this._initializationPromise=this.queue((0,u.Z)(function*(){var x,M;if(!b._deleted&&(b.persistenceManager=yield H.create(b,p),!b._deleted)){if(null!==(x=b._popupRedirectResolver)&&void 0!==x&&x._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(M=b.currentUser)||void 0===M?void 0:M.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,u.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,u.Z)(function*(){var b;const x=yield g.assertedPersistence.getCurrentUser();let M=x,Y=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ge=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,qe=M?._redirectEventId,ot=yield g.tryRedirectSignIn(p);(!ge||ge===qe)&&ot?.user&&(M=ot.user,Y=!0)}if(!M)return g.directlySetCurrentUser(null);if(!M._redirectEventId){if(Y)try{yield g.beforeStateQueue.runMiddleware(M)}catch(ge){M=x,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(ge))}return M?g.reloadAndSetCurrentUserOrClear(M):g.directlySetCurrentUser(null)}return j(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===M._redirectEventId?g.directlySetCurrentUser(M):g.reloadAndSetCurrentUserOrClear(M)})()}tryRedirectSignIn(p){var g=this;return(0,u.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch{yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,u.Z)(function*(){try{yield ln(p)}catch(b){if("auth/network-request-failed"!==b?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Mt(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,u.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,u.Z)(function*(){const b=p?(0,F.m9)(p):null;return b&&j(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(p,g=!1){var b=this;return(0,u.Z)(function*(){if(!b._deleted)return p&&j(b.tenantId===p.tenantId,b,"tenant-id-mismatch"),g||(yield b.beforeStateQueue.runMiddleware(p)),b.queue((0,u.Z)(function*(){yield b.directlySetCurrentUser(p),b.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,u.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,u.Z)(function*(){yield g.assertedPersistence.setPersistence(ae(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new F.LL("auth","Firebase",p())}onAuthStateChanged(p,g,b){return this.registerStateListener(this.authStateSubscription,p,g,b)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,b){return this.registerStateListener(this.idTokenSubscription,p,g,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var b=this;return(0,u.Z)(function*(){const x=yield b.getOrInitRedirectPersistenceManager(g);return null===p?x.removeCurrentUser():x.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,u.Z)(function*(){if(!g.redirectPersistenceManager){const b=p&&ae(p)||g._popupRedirectResolver;j(b,g,"argument-error"),g.redirectPersistenceManager=yield H.create(g,[ae(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,u.Z)(function*(){var b,x;return g._isInitialized&&(yield g.queue((0,u.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===p?g._currentUser:(null===(x=g.redirectUser)||void 0===x?void 0:x._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,u.Z)(function*(){if(p===g.currentUser)return g.queue((0,u.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,b,x){if(this._deleted)return()=>{};const M="function"==typeof g?g:g.next.bind(g),Y=this._isInitialized?Promise.resolve():this._initializationPromise;return j(Y,this,"internal-error"),Y.then(()=>M(this.currentUser)),"function"==typeof g?p.addObserver(g,b,x):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,u.Z)(function*(){g.currentUser&&g.currentUser!==p&&g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh(),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return j(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=hs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,u.Z)(function*(){var g;const b={"X-Client-Version":p.clientVersion};p.app.options.appId&&(b["X-Firebase-gmpid"]=p.app.options.appId);const x=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return x&&(b["X-Firebase-Client"]=x),b})()}}function Q(y){return(0,F.m9)(y)}class ve{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,F.ne)(g=>this.observer=g)}get next(){return j(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function vt(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function pt(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class an{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return we("not implemented")}_getIdTokenResponse(p){return we("not implemented")}_linkToIdToken(p,g){return we("not implemented")}_getReauthenticationResolver(p){return we("not implemented")}}function Ui(y,p){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,u.Z)(function*(y,p){return sn(y,"POST","/v1/accounts:resetPassword",st(y,p))})).apply(this,arguments)}function cr(y,p){return rt.apply(this,arguments)}function rt(){return(rt=(0,u.Z)(function*(y,p){return sn(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function zt(y,p){return kn.apply(this,arguments)}function kn(){return(kn=(0,u.Z)(function*(y,p){return sn(y,"POST","/v1/accounts:update",st(y,p))})).apply(this,arguments)}function jr(){return(jr=(0,u.Z)(function*(y,p){return Mn(y,"POST","/v1/accounts:signInWithPassword",st(y,p))})).apply(this,arguments)}function zn(y,p){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,u.Z)(function*(y,p){return sn(y,"POST","/v1/accounts:sendOobCode",st(y,p))})).apply(this,arguments)}function Fn(y,p){return Io.apply(this,arguments)}function Io(){return(Io=(0,u.Z)(function*(y,p){return zn(y,p)})).apply(this,arguments)}function Hs(y,p){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,u.Z)(function*(y,p){return zn(y,p)})).apply(this,arguments)}function zo(y,p){return $r.apply(this,arguments)}function $r(){return($r=(0,u.Z)(function*(y,p){return zn(y,p)})).apply(this,arguments)}function wc(y,p){return io.apply(this,arguments)}function io(){return(io=(0,u.Z)(function*(y,p){return zn(y,p)})).apply(this,arguments)}function Go(){return(Go=(0,u.Z)(function*(y,p){return Mn(y,"POST","/v1/accounts:signInWithEmailLink",st(y,p))})).apply(this,arguments)}function ji(){return(ji=(0,u.Z)(function*(y,p){return Mn(y,"POST","/v1/accounts:signInWithEmailLink",st(y,p))})).apply(this,arguments)}class oo extends an{constructor(p,g,b,x=null){super("password",b),this._email=p,this._password=g,this._tenantId=x}static _fromEmailAndPassword(p,g){return new oo(p,g,"password")}static _fromEmailAndCode(p,g,b=null){return new oo(p,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,u.Z)(function*(){switch(g.signInMethod){case"password":return function er(y,p){return jr.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function yi(y,p){return Go.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:ke(p,"internal-error")}})()}_linkToIdToken(p,g){var b=this;return(0,u.Z)(function*(){switch(b.signInMethod){case"password":return cr(p,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function ro(y,p){return ji.apply(this,arguments)}(p,{idToken:g,email:b._email,oobCode:b._password});default:ke(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Xn(y,p){return In.apply(this,arguments)}function In(){return(In=(0,u.Z)(function*(y,p){return Mn(y,"POST","/v1/accounts:signInWithIdp",st(y,p))})).apply(this,arguments)}class tr extends an{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new tr(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):ke("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:x}=g,M=(0,ie._T)(g,["providerId","signInMethod"]);if(!b||!x)return null;const Y=new tr(b,x);return Y.idToken=M.idToken||void 0,Y.accessToken=M.accessToken||void 0,Y.secret=M.secret,Y.nonce=M.nonce,Y.pendingToken=M.pendingToken||null,Y}_getIdTokenResponse(p){return Xn(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,Xn(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Xn(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,F.xO)(g)}return p}}function va(y,p){return ps.apply(this,arguments)}function ps(){return(ps=(0,u.Z)(function*(y,p){return sn(y,"POST","/v1/accounts:sendVerificationCode",st(y,p))})).apply(this,arguments)}function xo(){return(xo=(0,u.Z)(function*(y,p){return Mn(y,"POST","/v1/accounts:signInWithPhoneNumber",st(y,p))})).apply(this,arguments)}function pd(){return(pd=(0,u.Z)(function*(y,p){const g=yield Mn(y,"POST","/v1/accounts:signInWithPhoneNumber",st(y,p));if(g.temporaryProof)throw $n(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Ri={USER_NOT_FOUND:"user-not-found"};function ba(){return(ba=(0,u.Z)(function*(y,p){return Mn(y,"POST","/v1/accounts:signInWithPhoneNumber",st(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Ri)})).apply(this,arguments)}class Ir extends an{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new Ir({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new Ir({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function ms(y,p){return xo.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function Hi(y,p){return pd.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function zr(y,p){return ba.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:b,verificationCode:x}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:b,code:x}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:b,phoneNumber:x,temporaryProof:M}=p;return b||g||x||M?new Ir({verificationId:g,verificationCode:b,phoneNumber:x,temporaryProof:M}):null}}class $s{constructor(p){var g,b,x,M,Y,ge;const qe=(0,F.zd)((0,F.pd)(p)),ot=null!==(g=qe.apiKey)&&void 0!==g?g:null,Rt=null!==(b=qe.oobCode)&&void 0!==b?b:null,St=function wa(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=qe.mode)&&void 0!==x?x:null);j(ot&&Rt&&St,"argument-error"),this.apiKey=ot,this.operation=St,this.code=Rt,this.continueUrl=null!==(M=qe.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(Y=qe.languageCode)&&void 0!==Y?Y:null,this.tenantId=null!==(ge=qe.tenantId)&&void 0!==ge?ge:null}static parseLink(p){const g=function xr(y){const p=(0,F.zd)((0,F.pd)(y)).link,g=p?(0,F.zd)((0,F.pd)(p)).deep_link_id:null,b=(0,F.zd)((0,F.pd)(y)).deep_link_id;return(b?(0,F.zd)((0,F.pd)(b)).link:null)||b||g||p||y}(p);try{return new $s(g)}catch{return null}}}let _l=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,b){return oo._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const x=$s.parseLink(b);return j(x,"argument-error"),oo._fromEmailAndCode(g,x.code,x.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class So{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class gs extends So{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class zs extends gs{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return j("providerId"in g&&"signInMethod"in g,"argument-error"),tr._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return j(p.idToken||p.accessToken,"argument-error"),tr._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return zs.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return zs.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:x,pendingToken:M,nonce:Y,providerId:ge}=p;if(!b&&!x&&!g&&!M||!ge)return null;try{return new zs(ge)._credential({idToken:g,accessToken:b,nonce:Y,pendingToken:M})}catch{return null}}}let md=(()=>{class y extends gs{constructor(){super("facebook.com")}static credential(g){return tr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),gd=(()=>{class y extends gs{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return tr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:x}=g;if(!b&&!x)return null;try{return y.credential(b,x)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),yl=(()=>{class y extends gs{constructor(){super("github.com")}static credential(g){return tr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class qo extends an{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return Xn(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,Xn(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Xn(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:x,pendingToken:M}=g;return b&&x&&M&&b===x?new qo(b,M):null}static _create(p,g){return new qo(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Wo extends So{constructor(p){j(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Wo.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Wo.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=qo.fromJSON(p);return j(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:b}=p;if(!g||!b)return null;try{return qo._create(b,g)}catch{return null}}}let Ca=(()=>{class y extends gs{constructor(){super("twitter.com")}static credential(g,b){return tr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:x}=g;if(!b||!x)return null;try{return y.credential(b,x)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function vl(y,p){return Da.apply(this,arguments)}function Da(){return(Da=(0,u.Z)(function*(y,p){return Mn(y,"POST","/v1/accounts:signUp",st(y,p))})).apply(this,arguments)}class ur{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,b,x=!1){return(0,u.Z)(function*(){const M=yield Nt._fromIdTokenResponse(p,b,x),Y=bl(b);return new ur({user:M,providerId:Y,_tokenResponse:b,operationType:g})})()}static _forOperation(p,g,b){return(0,u.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const x=bl(b);return new ur({user:p,providerId:x,_tokenResponse:b,operationType:g})})()}}function bl(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function yd(){return(yd=(0,u.Z)(function*(y){var p;const g=Q(y);if(yield g._initializationPromise,null!==(p=g.currentUser)&&void 0!==p&&p.isAnonymous)return new ur({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield vl(g,{returnSecureToken:!0}),x=yield ur._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(x.user),x})).apply(this,arguments)}class Cc extends F.ZR{constructor(p,g,b,x){var M;super(g.code,g.message),this.operationType=b,this.user=x,Object.setPrototypeOf(this,Cc.prototype),this.customData={appName:p.name,tenantId:null!==(M=p.tenantId)&&void 0!==M?M:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,g,b,x){return new Cc(p,g,b,x)}}function dr(y,p,g,b){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?Cc._fromErrorAndOperation(y,M,p,b):M})}function wl(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function Gs(){return(Gs=(0,u.Z)(function*(y,p){const g=(0,F.m9)(y);yield Sr(!0,g,p);const{providerUserInfo:b}=yield Rn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),x=wl(b||[]);return g.providerData=g.providerData.filter(M=>x.has(M.providerId)),x.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function so(y,p){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,u.Z)(function*(y,p,g=!1){const b=yield nn(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return ur._forOperation(y,"link",b)})).apply(this,arguments)}function Sr(y,p,g){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,u.Z)(function*(y,p,g){yield ln(p);const x=!1===y?"provider-already-linked":"no-such-provider";j(wl(p.providerData).has(g)===y,p.auth,x)})).apply(this,arguments)}function Cl(y,p){return qs.apply(this,arguments)}function qs(){return(qs=(0,u.Z)(function*(y,p,g=!1){const{auth:b}=y,x="reauthenticate";try{const M=yield nn(y,dr(b,x,p,y),g);j(M.idToken,b,"internal-error");const Y=Et(M.idToken);j(Y,b,"internal-error");const{sub:ge}=Y;return j(y.uid===ge,b,"user-mismatch"),ur._forOperation(y,x,M)}catch(M){throw"auth/user-not-found"===M?.code&&ke(b,"user-mismatch"),M}})).apply(this,arguments)}function xc(y,p){return $i.apply(this,arguments)}function $i(){return($i=(0,u.Z)(function*(y,p,g=!1){const b="signIn",x=yield dr(y,b,p),M=yield ur._fromIdTokenResponse(y,b,x);return g||(yield y._updateCurrentUser(M.user)),M})).apply(this,arguments)}function Ia(y,p){return P.apply(this,arguments)}function P(){return(P=(0,u.Z)(function*(y,p){return xc(Q(y),p)})).apply(this,arguments)}function O(y,p){return W.apply(this,arguments)}function W(){return(W=(0,u.Z)(function*(y,p){const g=(0,F.m9)(y);return yield Sr(!1,g,p.providerId),so(g,p)})).apply(this,arguments)}function le(y,p){return Me.apply(this,arguments)}function Me(){return(Me=(0,u.Z)(function*(y,p){return Cl((0,F.m9)(y),p)})).apply(this,arguments)}function Ke(y,p){return xt.apply(this,arguments)}function xt(){return(xt=(0,u.Z)(function*(y,p){return Mn(y,"POST","/v1/accounts:signInWithCustomToken",st(y,p))})).apply(this,arguments)}function cn(){return(cn=(0,u.Z)(function*(y,p){const g=Q(y),b=yield Ke(g,{token:p,returnSecureToken:!0}),x=yield ur._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(x.user),x})).apply(this,arguments)}class Tn{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?wn._fromServerResponse(p,g):ke(p,"internal-error")}}class wn extends Tn{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new wn(g)}}function Wt(y,p,g){var b;j((null===(b=g.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),j(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(j(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(j(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function Tr(){return(Tr=(0,u.Z)(function*(y,p,g){const b=(0,F.m9)(y),x={requestType:"PASSWORD_RESET",email:p};g&&Wt(b,x,g),yield Hs(b,x)})).apply(this,arguments)}function Lt(){return(Lt=(0,u.Z)(function*(y,p,g){yield Ui((0,F.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function hr(){return(hr=(0,u.Z)(function*(y,p){yield zt((0,F.m9)(y),{oobCode:p})})).apply(this,arguments)}function ao(y,p){return xa.apply(this,arguments)}function xa(){return(xa=(0,u.Z)(function*(y,p){const g=(0,F.m9)(y),b=yield Ui(g,{oobCode:p}),x=b.requestType;switch(j(x,g,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":j(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":j(b.mfaInfo,g,"internal-error");default:j(b.email,g,"internal-error")}let M=null;return b.mfaInfo&&(M=Tn._fromServerResponse(Q(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:M},operation:x}})).apply(this,arguments)}function Sc(){return(Sc=(0,u.Z)(function*(y,p){const{data:g}=yield ao((0,F.m9)(y),p);return g.email})).apply(this,arguments)}function Nf(){return(Nf=(0,u.Z)(function*(y,p,g){const b=Q(y),x=yield vl(b,{returnSecureToken:!0,email:p,password:g}),M=yield ur._fromIdTokenResponse(b,"signIn",x);return yield b._updateCurrentUser(M.user),M})).apply(this,arguments)}function vd(){return(vd=(0,u.Z)(function*(y,p,g){const b=(0,F.m9)(y),x={requestType:"EMAIL_SIGNIN",email:p};j(g.handleCodeInApp,b,"argument-error"),g&&Wt(b,x,g),yield zo(b,x)})).apply(this,arguments)}function Tc(){return(Tc=(0,u.Z)(function*(y,p,g){const b=(0,F.m9)(y),x=_l.credentialWithLink(p,g||Be());return j(x._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Ia(b,x)})).apply(this,arguments)}function Ac(y,p){return lo.apply(this,arguments)}function lo(){return(lo=(0,u.Z)(function*(y,p){return sn(y,"POST","/v1/accounts:createAuthUri",st(y,p))})).apply(this,arguments)}function Sa(){return(Sa=(0,u.Z)(function*(y,p){const b={identifier:p,continueUri:ut()?Be():"http://localhost"},{signinMethods:x}=yield Ac((0,F.m9)(y),b);return x||[]})).apply(this,arguments)}function Lf(){return(Lf=(0,u.Z)(function*(y,p){const g=(0,F.m9)(y),x={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&Wt(g.auth,x,p);const{email:M}=yield Fn(g.auth,x);M!==y.email&&(yield y.reload())})).apply(this,arguments)}function ni(){return(ni=(0,u.Z)(function*(y,p,g){const b=(0,F.m9)(y),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&Wt(b.auth,M,g);const{email:Y}=yield wc(b.auth,M);Y!==y.email&&(yield y.reload())})).apply(this,arguments)}function vs(y,p){return bd.apply(this,arguments)}function bd(){return(bd=(0,u.Z)(function*(y,p){return sn(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Gr(){return(Gr=(0,u.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const b=(0,F.m9)(y),M={idToken:yield b.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},Y=yield nn(b,vs(b.auth,M));b.displayName=Y.displayName||null,b.photoURL=Y.photoUrl||null;const ge=b.providerData.find(({providerId:qe})=>"password"===qe);ge&&(ge.displayName=b.displayName,ge.photoURL=b.photoURL),yield b._updateTokensIfNecessary(Y)})).apply(this,arguments)}function Vf(y,p,g){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,u.Z)(function*(y,p,g){const{auth:b}=y,M={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(M.email=p),g&&(M.password=g);const Y=yield nn(y,cr(b,M));yield y._updateTokensIfNecessary(Y,!0)})).apply(this,arguments)}class Ks{constructor(p,g,b={}){this.isNewUser=p,this.providerId=g,this.profile=b}}class Uf extends Ks{constructor(p,g,b,x){super(p,g,b),this.username=x}}class jf extends Ks{constructor(p,g){super(p,"facebook.com",g)}}class Hv extends Uf{constructor(p,g){super(p,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class _g extends Ks{constructor(p,g){super(p,"google.com",g)}}class Hf extends Uf{constructor(p,g,b){super(p,"twitter.com",g,b)}}function yg(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Bf(y){var p,g;if(!y)return null;const{providerId:b}=y,x=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},M=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&y?.idToken){const Y=null===(g=null===(p=Et(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(Y)return new Ks(M,"anonymous"!==Y&&"custom"!==Y?Y:null)}if(!b)return null;switch(b){case"facebook.com":return new jf(M,x);case"github.com":return new Hv(M,x);case"google.com":return new _g(M,x);case"twitter.com":return new Hf(M,x,y.screenName||null);case"custom":case"anonymous":return new Ks(M,null);default:return new Ks(M,b,x)}}(g)}class Ta{constructor(p,g,b){this.type=p,this.credential=g,this.auth=b}static _fromIdtoken(p,g){return new Ta("enroll",p,g)}static _fromMfaPendingCredential(p){return new Ta("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,b;if(p?.multiFactorSession){if(null!==(g=p.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Ta._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(b=p.multiFactorSession)&&void 0!==b&&b.idToken)return Ta._fromIdtoken(p.multiFactorSession.idToken)}return null}}class zf{constructor(p,g,b){this.session=p,this.hints=g,this.signInResolver=b}static _fromError(p,g){const b=Q(p),x=g.customData._serverResponse,M=(x.mfaInfo||[]).map(ge=>Tn._fromServerResponse(b,ge));j(x.mfaPendingCredential,b,"internal-error");const Y=Ta._fromMfaPendingCredential(x.mfaPendingCredential);return new zf(Y,M,function(){var ge=(0,u.Z)(function*(qe){const ot=yield qe._process(b,Y);delete x.mfaInfo,delete x.mfaPendingCredential;const Rt=Object.assign(Object.assign({},x),{idToken:ot.idToken,refreshToken:ot.refreshToken});switch(g.operationType){case"signIn":const St=yield ur._fromIdTokenResponse(b,g.operationType,Rt);return yield b._updateCurrentUser(St.user),St;case"reauthenticate":return j(g.user,b,"internal-error"),ur._forOperation(g.user,g.operationType,Rt);default:ke(b,"internal-error")}});return function(qe){return ge.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,u.Z)(function*(){return g.signInResolver(p)})()}}function Wv(y,p){return sn(y,"POST","/v2/accounts/mfaEnrollment:start",st(y,p))}class bs{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>Tn._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new bs(p)}getSession(){var p=this;return(0,u.Z)(function*(){return Ta._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,g){var b=this;return(0,u.Z)(function*(){const x=p,M=yield b.getSession(),Y=yield nn(b.user,x._process(b.user.auth,M,g));return yield b.user._updateTokensIfNecessary(Y),b.user.reload()})()}unenroll(p){var g=this;return(0,u.Z)(function*(){const b="string"==typeof p?p:p.uid,x=yield g.user.getIdToken(),M=yield nn(g.user,function wg(y,p){return sn(y,"POST","/v2/accounts/mfaEnrollment:withdraw",st(y,p))}(g.user.auth,{idToken:x,mfaEnrollmentId:b}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Y})=>Y!==b),yield g.user._updateTokensIfNecessary(M);try{yield g.user.reload()}catch(Y){if("auth/user-token-expired"!==Y?.code)throw Y}})()}}const To=new WeakMap,Ko="__sak";class wd{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Ko,"1"),this.storage.removeItem(Ko),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ed=(()=>{class y extends wd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Gf(){const y=(0,F.z$)();return Oe(y)||fn(y)}()&&function $o(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Us(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const x=this.storage.getItem(b),M=this.localCache[b];x!==M&&g(b,M,x)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((ge,qe,ot)=>{this.notifyListeners(ge,ot)});const x=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ge=this.storage.getItem(x);if(g.newValue!==ge)null!==g.newValue?this.storage.setItem(x,g.newValue):this.storage.removeItem(x);else if(this.localCache[x]===g.newValue&&!b)return}const M=()=>{const ge=this.storage.getItem(x);!b&&this.localCache[x]===ge||this.notifyListeners(x,ge)},Y=this.storage.getItem(x);!function Qn(){return(0,F.w1)()&&10===document.documentMode}()||Y===g.newValue||g.newValue===g.oldValue?M():setTimeout(M,10)}notifyListeners(g,b){this.localCache[g]=b;const x=this.listeners[g];if(x)for(const M of Array.from(x))M(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var x=()=>super._set,M=this;return(0,u.Z)(function*(){yield x().call(M,g,b),M.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,x=this;return(0,u.Z)(function*(){const M=yield b().call(x,g);return x.localCache[g]=JSON.stringify(M),M})()}_remove(g){var b=()=>super._remove,x=this;return(0,u.Z)(function*(){yield b().call(x,g),delete x.localCache[g]})()}}return y.type="LOCAL",y})(),Ao=(()=>{class y extends wd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return y.type="SESSION",y})();let Wf=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(M=>M.isListeningto(g));if(b)return b;const x=new y(g);return this.receivers.push(x),x}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,u.Z)(function*(){const x=g,{eventId:M,eventType:Y,data:ge}=x.data,qe=b.handlersMap[Y];if(!qe?.size)return;x.ports[0].postMessage({status:"ack",eventId:M,eventType:Y});const ot=Array.from(qe).map(function(){var St=(0,u.Z)(function*(Wn){return Wn(x.origin,ge)});return function(Wn){return St.apply(this,arguments)}}()),Rt=yield function qf(y){return Promise.all(y.map(function(){var p=(0,u.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return p.apply(this,arguments)}}()))}(ot);x.ports[0].postMessage({status:"done",eventId:M,eventType:Y,response:Rt})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function ws(y="",p=10){let g="";for(let b=0;b<p;b++)g+=Math.floor(10*Math.random());return y+g}class Eg{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,b=50){var x=this;return(0,u.Z)(function*(){const M=typeof MessageChannel<"u"?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let Y,ge;return new Promise((qe,ot)=>{const Rt=ws("",20);M.port1.start();const St=setTimeout(()=>{ot(new Error("unsupported_event"))},b);ge={messageChannel:M,onMessage(Wn){const mo=Wn;if(mo.data.eventId===Rt)switch(mo.data.status){case"ack":clearTimeout(St),Y=setTimeout(()=>{ot(new Error("timeout"))},3e3);break;case"done":clearTimeout(Y),qe(mo.data.response);break;default:clearTimeout(St),clearTimeout(Y),ot(new Error("invalid_response"))}}},x.handlers.add(ge),M.port1.addEventListener("message",ge.onMessage),x.target.postMessage({eventType:p,eventId:Rt,data:g},[M.port2])}).finally(()=>{ge&&x.removeMessageHandler(ge)})})()}}function Gn(){return window}function Sl(){return typeof Gn().WorkerGlobalScope<"u"&&"function"==typeof Gn().importScripts}function Pc(){return(Pc=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Zf="firebaseLocalStorageDb",Zs="firebaseLocalStorage",Fc="fbase_key";class Ys{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Qs(y,p){return y.transaction([Zs],p?"readwrite":"readonly").objectStore(Zs)}function Lc(){const y=indexedDB.open(Zf,1);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(Zs,{keyPath:Fc})}catch(x){g(x)}}),y.addEventListener("success",(0,u.Z)(function*(){const b=y.result;b.objectStoreNames.contains(Zs)?p(b):(b.close(),yield function Yf(){const y=indexedDB.deleteDatabase(Zf);return new Ys(y).toPromise()}(),p(yield Lc()))}))})}function qr(y,p,g){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,u.Z)(function*(y,p,g){const b=Qs(y,!0).put({[Fc]:p,value:g});return new Ys(b).toPromise()})).apply(this,arguments)}function Tl(){return(Tl=(0,u.Z)(function*(y,p){const g=Qs(y,!1).get(p),b=yield new Ys(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Bc(y,p){const g=Qs(y,!0).delete(p);return new Ys(g).toPromise()}const Zo=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,u.Z)(function*(){return g.db||(g.db=yield Lc()),g.db})()}_withRetries(g){var b=this;return(0,u.Z)(function*(){let x=0;for(;;)try{const M=yield b._openDb();return yield g(M)}catch(M){if(x++>3)throw M;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,u.Z)(function*(){return Sl()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,u.Z)(function*(){g.receiver=Wf._getInstance(function Nc(){return Sl()?self:null}()),g.receiver._subscribe("keyChanged",function(){var b=(0,u.Z)(function*(x,M){return{keyProcessed:(yield g._poll()).includes(M.key)}});return function(x,M){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,u.Z)(function*(x,M){return["keyChanged"]});return function(x,M){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,u.Z)(function*(){var b,x;if(g.activeServiceWorker=yield function Ma(){return Pc.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Eg(g.activeServiceWorker);const M=yield g.sender._send("ping",{},800);!M||(null===(b=M[0])||void 0===b?void 0:b.fulfilled)&&(null===(x=M[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,u.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Kf(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Lc();return yield qr(g,Ko,"1"),yield Bc(g,Ko),!0}catch{}return!1})()}_withPendingWrite(g){var b=this;return(0,u.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var x=this;return(0,u.Z)(function*(){return x._withPendingWrite((0,u.Z)(function*(){return yield x._withRetries(M=>qr(M,g,b)),x.localCache[g]=b,x.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,u.Z)(function*(){const x=yield b._withRetries(M=>function Vc(y,p){return Tl.apply(this,arguments)}(M,g));return b.localCache[g]=x,x})()}_remove(g){var b=this;return(0,u.Z)(function*(){return b._withPendingWrite((0,u.Z)(function*(){return yield b._withRetries(x=>Bc(x,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,u.Z)(function*(){const b=yield g._withRetries(Y=>{const ge=Qs(Y,!1).getAll();return new Ys(ge).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const x=[],M=new Set;for(const{fbase_key:Y,value:ge}of b)M.add(Y),JSON.stringify(g.localCache[Y])!==JSON.stringify(ge)&&(g.notifyListeners(Y,ge),x.push(Y));for(const Y of Object.keys(g.localCache))g.localCache[Y]&&!M.has(Y)&&(g.notifyListeners(Y,null),x.push(Y));return x})()}notifyListeners(g,b){this.localCache[g]=b;const x=this.listeners[g];if(x)for(const M of Array.from(x))M(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Cg(y,p){return sn(y,"POST","/v2/accounts/mfaSignIn:start",st(y,p))}function Qf(){return(Qf=(0,u.Z)(function*(y){return(yield sn(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Es(y){return new Promise((p,g)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=p,b.onerror=x=>{const M=Ee("internal-error");M.customData=x,g(M)},b.type="text/javascript",b.charset="UTF-8",function Uc(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(b)})}function Xf(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Mo=1e12;class ep{constructor(p){this.auth=p,this.counter=Mo,this._widgets=new Map}render(p,g){const b=this.counter;return this._widgets.set(b,new Td(p,this.auth.name,g||{})),this.counter++,b}reset(p){var g;const b=p||Mo;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(p){var g;return(null===(g=this._widgets.get(p||Mo))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,u.Z)(function*(){var b;return null===(b=g._widgets.get(p||Mo))||void 0===b||b.execute(),""})()}}class Td{constructor(p,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof p?document.getElementById(p):p;j(x,"argument-error",{appName:g}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function jc(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const tp=Xf("rcb"),np=new Ht(3e4,6e4);class Oa{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Gn().grecaptcha)||void 0===p||!p.render)}load(p,g=""){return j(function Cs(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Gn().grecaptcha):new Promise((b,x)=>{const M=Gn().setTimeout(()=>{x(Ee(p,"network-request-failed"))},np.get());Gn()[tp]=()=>{Gn().clearTimeout(M),delete Gn()[tp];const ge=Gn().grecaptcha;if(!ge)return void x(Ee(p,"internal-error"));const qe=ge.render;ge.render=(ot,Rt)=>{const St=qe(ot,Rt);return this.counter++,St},this.hostLanguage=g,b(ge)},Es(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:tp,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(M),x(Ee(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var g;return!(null===(g=Gn().grecaptcha)||void 0===g||!g.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ka{load(p){return(0,u.Z)(function*(){return new ep(p)})()}clearedOneInstance(){}}const Ad="recaptcha",rp={theme:"light",type:"image"};class Al{constructor(p,g=Object.assign({},rp),b){this.parameters=g,this.type=Ad,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Q(b),this.isInvisible="invisible"===this.parameters.size,j(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof p?document.getElementById(p):p;j(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ka:new Oa,this.validateStartingState()}verify(){var p=this;return(0,u.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(g)||new Promise(M=>{const Y=ge=>{!ge||(p.tokenChangeListeners.delete(Y),M(ge))};p.tokenChangeListeners.add(Y),p.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){j(!this.parameters.sitekey,this.auth,"argument-error"),j(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),j(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof p)p(g);else if("string"==typeof p){const b=Gn()[p];"function"==typeof b&&b(g)}}}assertNotDestroyed(){j(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,u.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,u.Z)(function*(){j(ut()&&!Sl(),p.auth,"internal-error"),yield function Ig(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function xd(y){return Qf.apply(this,arguments)}(p.auth);j(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return j(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ro{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=Ir._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function op(){return(op=(0,u.Z)(function*(y,p,g){const b=Q(y),x=yield ap(b,p,(0,F.m9)(g));return new Ro(x,M=>Ia(b,M))})).apply(this,arguments)}function Md(){return(Md=(0,u.Z)(function*(y,p,g){const b=(0,F.m9)(y);yield Sr(!1,b,"phone");const x=yield ap(b.auth,p,(0,F.m9)(g));return new Ro(x,M=>O(b,M))})).apply(this,arguments)}function xg(){return(xg=(0,u.Z)(function*(y,p,g){const b=(0,F.m9)(y),x=yield ap(b.auth,p,(0,F.m9)(g));return new Ro(x,M=>le(b,M))})).apply(this,arguments)}function ap(y,p,g){return lp.apply(this,arguments)}function lp(){return(lp=(0,u.Z)(function*(y,p,g){var b;const x=yield g.verify();try{let M;if(j("string"==typeof x,y,"argument-error"),j(g.type===Ad,y,"argument-error"),M="string"==typeof p?{phoneNumber:p}:p,"session"in M){const Y=M.session;if("phoneNumber"in M)return j("enroll"===Y.type,y,"internal-error"),(yield Wv(y,{idToken:Y.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{j("signin"===Y.type,y,"internal-error");const ge=(null===(b=M.multiFactorHint)||void 0===b?void 0:b.uid)||M.multiFactorUid;return j(ge,y,"missing-multi-factor-info"),(yield Cg(y,{mfaPendingCredential:Y.credential,mfaEnrollmentId:ge,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Y}=yield va(y,{phoneNumber:M.phoneNumber,recaptchaToken:x});return Y}}finally{g._reset()}})).apply(this,arguments)}function Sg(){return(Sg=(0,u.Z)(function*(y,p){yield so((0,F.m9)(y),p)})).apply(this,arguments)}let Rd=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=Q(g)}verifyPhoneNumber(g,b){return ap(this.auth,g,(0,F.m9)(b))}static credential(g,b){return Ir._fromVerification(g,b)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:x}=g;return b&&x?Ir._fromTokenResponse(b,x):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function jn(y,p){return p?ae(p):(j(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class $c extends an{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Xn(p,this._buildIdpRequest())}_linkToIdToken(p,g){return Xn(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return Xn(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function Ml(y){return xc(y.auth,new $c(y),y.bypassAuthState)}function Qv(y){const{auth:p,user:g}=y;return j(g,p,"internal-error"),Cl(g,new $c(y),y.bypassAuthState)}function co(y){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,u.Z)(function*(y){const{auth:p,user:g}=y;return j(g,p,"internal-error"),so(g,new $c(y),y.bypassAuthState)})).apply(this,arguments)}class cp{constructor(p,g,b,x,M=!1){this.auth=p,this.resolver=b,this.user=x,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,u.Z)(function*(b,x){p.pendingPromise={resolve:b,reject:x};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(M){p.reject(M)}});return function(b,x){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,u.Z)(function*(){const{urlResponse:b,sessionId:x,postBody:M,tenantId:Y,error:ge,type:qe}=p;if(ge)return void g.reject(ge);const ot={auth:g.auth,requestUri:b,sessionId:x,tenantId:Y||void 0,postBody:M||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(qe)(ot))}catch(Rt){g.reject(Rt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Ml;case"linkViaPopup":case"linkViaRedirect":return co;case"reauthViaPopup":case"reauthViaRedirect":return Qv;default:ke(this.auth,"internal-error")}}resolve(p){X(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){X(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Od=new Ht(2e3,1e4);function Rl(){return(Rl=(0,u.Z)(function*(y,p,g){const b=Q(y);ze(y,p,So);const x=jn(b,g);return new Oo(b,"signInViaPopup",p,x).executeNotNull()})).apply(this,arguments)}function Gc(){return(Gc=(0,u.Z)(function*(y,p,g){const b=(0,F.m9)(y);ze(b.auth,p,So);const x=jn(b.auth,g);return new Oo(b.auth,"reauthViaPopup",p,x,b).executeNotNull()})).apply(this,arguments)}function en(){return(en=(0,u.Z)(function*(y,p,g){const b=(0,F.m9)(y);ze(b.auth,p,So);const x=jn(b.auth,g);return new Oo(b.auth,"linkViaPopup",p,x,b).executeNotNull()})).apply(this,arguments)}let Oo=(()=>{class y extends cp{constructor(g,b,x,M,Y){super(g,b,M,Y),this.provider=x,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,u.Z)(function*(){const b=yield g.execute();return j(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,u.Z)(function*(){X(1===g.filter.length,"Popup operations only handle one event");const b=ws();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(x=>{g.reject(x)}),g.resolver._isIframeWebStorageSupported(g.auth,x=>{x||g.reject(Ee(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Ee(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,x;this.pollId=null!==(x=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==x&&x.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ee(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Od.get())};g()}}return y.currentPopupAction=null,y})();const dn=new Map;class Mr extends cp{constructor(p,g,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,u.Z)(function*(){let b=dn.get(g.auth._key());if(!b){try{const M=(yield function Tg(y,p){return Pa.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;b=()=>Promise.resolve(M)}catch(x){b=()=>Promise.reject(x)}dn.set(g.auth._key(),b)}return g.bypassAuthState||dn.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,b=this;return(0,u.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(b,p);if("unknown"!==p.type){if(p.eventId){const x=yield b.auth._redirectUserForId(p.eventId);if(x)return b.user=x,g().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function Pa(){return(Pa=(0,u.Z)(function*(y,p){const g=Na(p),b=qc(y);if(!(yield b._isAvailable()))return!1;const x="true"===(yield b._get(g));return yield b._remove(g),x})).apply(this,arguments)}function Oi(y,p){return kd.apply(this,arguments)}function kd(){return(kd=(0,u.Z)(function*(y,p){return qc(y)._set(Na(p),"true")})).apply(this,arguments)}function Pd(y,p){dn.set(y._key(),p)}function qc(y){return ae(y._redirectPersistence)}function Na(y){return R("pendingRedirect",y.config.apiKey,y.name)}function ct(){return(ct=(0,u.Z)(function*(y,p,g){const b=Q(y);ze(y,p,So);const x=jn(b,g);return yield Oi(x,b),x._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function Fa(){return(Fa=(0,u.Z)(function*(y,p,g){const b=(0,F.m9)(y);ze(b.auth,p,So);const x=jn(b.auth,g);yield Oi(x,b.auth);const M=yield up(b);return x._openRedirect(b.auth,p,"reauthViaRedirect",M)})).apply(this,arguments)}function Wc(){return(Wc=(0,u.Z)(function*(y,p,g){const b=(0,F.m9)(y);ze(b.auth,p,So);const x=jn(b.auth,g);yield Sr(!1,b,p.providerId),yield Oi(x,b.auth);const M=yield up(b);return x._openRedirect(b.auth,p,"linkViaRedirect",M)})).apply(this,arguments)}function Ld(){return(Ld=(0,u.Z)(function*(y,p){return yield Q(y)._initializationPromise,ko(y,p,!1)})).apply(this,arguments)}function ko(y,p){return uo.apply(this,arguments)}function uo(){return(uo=(0,u.Z)(function*(y,p,g=!1){const b=Q(y),x=jn(b,p),Y=yield new Mr(b,x,g).execute();return Y&&!g&&(delete Y.user._redirectEventId,yield b._persistUserIfCurrent(Y.user),yield b._setRedirectUser(null,p)),Y})).apply(this,arguments)}function up(y){return kl.apply(this,arguments)}function kl(){return(kl=(0,u.Z)(function*(y){const p=ws(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class Pl{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(g=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Va(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ho(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var b;if(p.error&&!ho(p)){const x=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(Ee(this.auth,x))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const b=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rg(p))}saveEventToCache(p){this.cachedEventUids.add(Rg(p)),this.lastProcessedEventTime=Date.now()}}function Rg(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function ho({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===p?.code}function Po(y){return fo.apply(this,arguments)}function fo(){return(fo=(0,u.Z)(function*(y,p={}){return sn(y,"GET","/v1/projects",p)})).apply(this,arguments)}const ui=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vd=/^https?/;function qn(){return(qn=(0,u.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield Po(y);for(const g of p)try{if(Rr(g))return}catch{}ke(y,"unauthorized-domain")})).apply(this,arguments)}function Rr(y){const p=Be(),{protocol:g,hostname:b}=new URL(p);if(y.startsWith("chrome-extension://")){const Y=new URL(y);return""===Y.hostname&&""===b?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&Y.hostname===b}if(!Vd.test(g))return!1;if(ui.test(y))return b===y;const x=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(b)}const Xs=new Ht(3e4,6e4);function ii(){const y=Gn().___jsl;if(y?.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let Xo=null;function Og(y){return Xo=Xo||function ki(y){return new Promise((p,g)=>{var b,x,M;function Y(){ii(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{ii(),g(Ee(y,"network-request-failed"))},timeout:Xs.get()})}if(null!==(x=null===(b=Gn().gapi)||void 0===b?void 0:b.iframes)&&void 0!==x&&x.Iframe)p(gapi.iframes.getContext());else{if(null===(M=Gn().gapi)||void 0===M||!M.load){const ge=Xf("iframefcb");return Gn()[ge]=()=>{gapi.load?Y():g(Ee(y,"network-request-failed"))},Es(`https://apis.google.com/js/api.js?onload=${ge}`).catch(qe=>g(qe))}Y()}}).catch(p=>{throw Xo=null,p})}(y),Xo}const Jv=new Ht(5e3,15e3),Ci={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Is=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eb(y){const p=y.config;j(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?At(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:p.apiKey,appName:y.name,v:se.SDK_VERSION},x=Is.get(y.config.apiHost);x&&(b.eid=x);const M=y._getFrameworks();return M.length&&(b.fw=M.join(",")),`${g}?${(0,F.xO)(b).slice(1)}`}function Nl(){return Nl=(0,u.Z)(function*(y){const p=yield Og(y),g=Gn().gapi;return j(g,y,"internal-error"),p.open({where:document.body,url:eb(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ci,dontclear:!0},b=>new Promise(function(){var x=(0,u.Z)(function*(M,Y){yield b.restyle({setHideOnLeave:!1});const ge=Ee(y,"network-request-failed"),qe=Gn().setTimeout(()=>{Y(ge)},Jv.get());function ot(){Gn().clearTimeout(qe),M(b)}b.ping(ot).then(ot,()=>{Y(ge)})});return function(M,Y){return x.apply(this,arguments)}}()))}),Nl.apply(this,arguments)}const Ud={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class nr{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fr(y,p,g,b,x,M){j(y.config.authDomain,y,"auth-domain-config-required"),j(y.config.apiKey,y,"invalid-api-key");const Y={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:b,v:se.SDK_VERSION,eventId:x};if(p instanceof So){p.setDefaultLanguage(y.languageCode),Y.providerId=p.providerId||"",(0,F.xb)(p.getCustomParameters())||(Y.customParameters=JSON.stringify(p.getCustomParameters()));for(const[qe,ot]of Object.entries(M||{}))Y[qe]=ot}if(p instanceof gs){const qe=p.getScopes().filter(ot=>""!==ot);qe.length>0&&(Y.scopes=qe.join(","))}y.tenantId&&(Y.tid=y.tenantId);const ge=Y;for(const qe of Object.keys(ge))void 0===ge[qe]&&delete ge[qe];return`${function fp({config:y}){return y.emulator?At(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,F.xO)(ge).slice(1)}`}const Zc="webStorageSupport",mp=class pp{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ao,this._completeRedirectFn=ko,this._overrideRedirectResult=Pd}_openPopup(p,g,b,x){var M=this;return(0,u.Z)(function*(){var Y;X(null===(Y=M.eventManagers[p._key()])||void 0===Y?void 0:Y.manager,"_initialize() not called before _openPopup()");const ge=fr(p,g,b,Be(),x);return function kg(y,p,g,b=500,x=600){const M=Math.max((window.screen.availHeight-x)/2,0).toString(),Y=Math.max((window.screen.availWidth-b)/2,0).toString();let ge="";const qe=Object.assign(Object.assign({},Ud),{width:b.toString(),height:x.toString(),top:M,left:Y}),ot=(0,F.z$)().toLowerCase();g&&(ge=Ze(ot)?"_blank":g),he(ot)&&(p=p||"http://localhost",qe.scrollbars="yes");const Rt=Object.entries(qe).reduce((Wn,[mo,du])=>`${Wn}${mo}=${du},`,"");if(function Bn(y=(0,F.z$)()){var p;return fn(y)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(ot)&&"_self"!==ge)return function Ba(y,p){const g=document.createElement("a");g.href=y,g.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(p||"",ge),new nr(null);const St=window.open(p||"",ge,Rt);j(St,y,"popup-blocked");try{St.focus()}catch{}return new nr(St)}(p,ge,ws())})()}_openRedirect(p,g,b,x){var M=this;return(0,u.Z)(function*(){return yield M._originValidation(p),function kc(y){Gn().location.href=y}(fr(p,g,b,Be(),x)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:x,promise:M}=this.eventManagers[g];return x?Promise.resolve(x):(X(M,"If manager is not set, promise should be"),M)}const b=this.initAndGetManager(p);return this.eventManagers[g]={promise:b},b.catch(()=>{delete this.eventManagers[g]}),b}initAndGetManager(p){var g=this;return(0,u.Z)(function*(){const b=yield function Kc(y){return Nl.apply(this,arguments)}(p),x=new Pl(p);return b.register("authEvent",M=>(j(M?.authEvent,p,"invalid-auth-event"),{status:x.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:x},g.iframes[p._key()]=b,x})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(Zc,{type:Zc},x=>{var M;const Y=null===(M=x?.[0])||void 0===M?void 0:M[Zc];void 0!==Y&&g(!!Y),ke(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Bd(y){return qn.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return Us()||Oe()||fn()}};class Pi{constructor(p){this.factorId=p}_process(p,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,b);case"signin":return this._finalizeSignIn(p,g.credential);default:return we("unexpected MultiFactorSessionType")}}}class No extends Pi{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new No(p)}_finalizeEnroll(p,g,b){return function Kv(y,p){return sn(y,"POST","/v2/accounts/mfaEnrollment:finalize",st(y,p))}(p,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function Dg(y,p){return sn(y,"POST","/v2/accounts/mfaSignIn:finalize",st(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ni=(()=>{class y{constructor(){}static assertion(g){return No._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var Yc="@firebase/auth";class Xc{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,u.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(b=>{p(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){j(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Gt(){return window}function Jo(){return(Jo=(0,u.Z)(function*(y,p,g){var b;const{BuildInfo:x}=Gt();X(p.sessionId,"AuthEvent did not contain a session ID");const M=yield yp(p.sessionId),Y={};return fn()?Y.ibi=x.packageName:Ye()?Y.apn=x.packageName:ke(y,"operation-not-supported-in-this-environment"),x.displayName&&(Y.appDisplayName=x.displayName),Y.sessionId=M,fr(y,g,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,Y)})).apply(this,arguments)}function es(){return(es=(0,u.Z)(function*(y){const{BuildInfo:p}=Gt(),g={};fn()?g.iosBundleId=p.packageName:Ye()?g.androidPackageName=p.packageName:ke(y,"operation-not-supported-in-this-environment"),yield Po(y,g)})).apply(this,arguments)}function Fo(){return(Fo=(0,u.Z)(function*(y,p,g){const{cordova:b}=Gt();let x=()=>{};try{yield new Promise((M,Y)=>{let ge=null;function qe(){var St;M();const Wn=null===(St=b.plugins.browsertab)||void 0===St?void 0:St.close;"function"==typeof Wn&&Wn(),"function"==typeof g?.close&&g.close()}function ot(){ge||(ge=window.setTimeout(()=>{Y(Ee(y,"redirect-cancelled-by-user"))},2e3))}function Rt(){"visible"===document?.visibilityState&&ot()}p.addPassiveListener(qe),document.addEventListener("resume",ot,!1),Ye()&&document.addEventListener("visibilitychange",Rt,!1),x=()=>{p.removePassiveListener(qe),document.removeEventListener("resume",ot,!1),document.removeEventListener("visibilitychange",Rt,!1),ge&&window.clearTimeout(ge)}})}finally{x()}})).apply(this,arguments)}function yp(y){return xs.apply(this,arguments)}function xs(){return(xs=(0,u.Z)(function*(y){const p=zd(y),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(x=>x.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function zd(y){if(X(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),g=new Uint8Array(p);for(let b=0;b<y.length;b++)g[b]=y.charCodeAt(b);return g}(0,F.Pz)("authIdTokenMaxAge"),function Ua(y){(0,se._registerComponent)(new _e.wA("auth",(p,{options:g})=>{const b=p.getProvider("app").getImmediate(),x=p.getProvider("heartbeat"),{apiKey:M,authDomain:Y}=b.options;return((ge,qe)=>{j(M&&!M.includes(":"),"invalid-api-key",{appName:ge.name}),j(!Y?.includes(":"),"argument-error",{appName:ge.name});const ot={apiKey:M,authDomain:Y,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hs(y)},Rt=new fs(ge,qe,ot);return function He(y,p){const g=p?.persistence||[],b=(Array.isArray(g)?g:[g]).map(ae);p?.errorMap&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(b,p?.popupRedirectResolver)}(Rt,g),Rt})(b,x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,b)=>{p.getProvider("auth-internal").initialize()})),(0,se._registerComponent)(new _e.wA("auth-internal",p=>{const g=Q(p.getProvider("auth").getImmediate());return new Xc(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,se.registerVersion)(Yc,"0.21.0",function qi(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,se.registerVersion)(Yc,"0.21.0","esm2017")}("Browser");class ts extends Pl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,u.Z)(function*(){yield p.initPromise})()}}function vp(y){return jl.apply(this,arguments)}function jl(){return(jl=(0,u.Z)(function*(y){const p=yield qd()._get(Wd(y));return p&&(yield qd()._remove(Wd(y))),p})).apply(this,arguments)}function tu(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const b=Math.floor(Math.random()*p.length);y.push(p.charAt(b))}return y.join("")}function qd(){return ae(Ed)}function Wd(y){return R("authEvent",y.config.apiKey,y.name)}function Hl(y){if(!y?.includes("?"))return{};const[p,...g]=y.split("?");return(0,F.zd)(g.join("?"))}const Kd=class zl{constructor(){this._redirectPersistence=Ao,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ko,this._overrideRedirectResult=Pd}_initialize(p){var g=this;return(0,u.Z)(function*(){const b=p._key();let x=g.eventManagers.get(b);return x||(x=new ts(p),g.eventManagers.set(b,x),g.attachCallbackListeners(p,x)),x})()}_openPopup(p){ke(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,b,x){var M=this;return(0,u.Z)(function*(){!function Ul(y){var p,g,b,x,M,Y,ge,qe,ot,Rt;const St=Gt();j("function"==typeof(null===(p=St?.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),j(typeof(null===(g=St?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),j("function"==typeof(null===(M=null===(x=null===(b=St?.cordova)||void 0===b?void 0:b.plugins)||void 0===x?void 0:x.browsertab)||void 0===M?void 0:M.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),j("function"==typeof(null===(qe=null===(ge=null===(Y=St?.cordova)||void 0===Y?void 0:Y.plugins)||void 0===ge?void 0:ge.browsertab)||void 0===qe?void 0:qe.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),j("function"==typeof(null===(Rt=null===(ot=St?.cordova)||void 0===ot?void 0:ot.InAppBrowser)||void 0===Rt?void 0:Rt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const Y=yield M._initialize(p);yield Y.initialized(),Y.resetRedirect(),function Ag(){dn.clear()}(),yield M._originValidation(p);const ge=function eu(y,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:tu(),postBody:null,tenantId:y.tenantId,error:Ee(y,"no-auth-event")}}(p,b,x);yield function Gd(y,p){return qd()._set(Wd(y),p)}(p,ge);const qe=yield function _p(y,p,g){return Jo.apply(this,arguments)}(p,ge,g),ot=yield function Bl(y){const{cordova:p}=Gt();return new Promise(g=>{p.plugins.browsertab.isAvailable(b=>{let x=null;b?p.plugins.browsertab.openUrl(y):x=p.InAppBrowser.open(y,function ci(y=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(x)})})}(qe);return function Fg(y,p,g){return Fo.apply(this,arguments)}(p,Y,ot)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Ng(y){return es.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:b,handleOpenURL:x,BuildInfo:M}=Gt(),Y=setTimeout((0,u.Z)(function*(){yield vp(p),g.onEvent(Ss())}),500),ge=function(){var Rt=(0,u.Z)(function*(St){clearTimeout(Y);const Wn=yield vp(p);let mo=null;Wn&&St?.url&&(mo=function Lg(y,p){var g,b;const x=function Bg(y){const p=Hl(y),g=p.link?decodeURIComponent(p.link):void 0,b=Hl(g).link,x=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Hl(x).link||x||b||g||y}(p);if(x.includes("/__/auth/callback")){const M=Hl(x),Y=M.firebaseError?function Vg(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(M.firebaseError)):null,ge=null===(b=null===(g=Y?.code)||void 0===g?void 0:g.split("auth/"))||void 0===b?void 0:b[1],qe=ge?Ee(ge):null;return qe?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:qe,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:x,postBody:null}}return null}(Wn,St.url)),g.onEvent(mo||Ss())});return function(Wn){return Rt.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,ge);const qe=x,ot=`${M.packageName.toLowerCase()}://`;Gt().handleOpenURL=function(){var Rt=(0,u.Z)(function*(St){if(St.toLowerCase().startsWith(ot)&&ge({url:St}),"function"==typeof qe)try{qe(St)}catch(Wn){console.error(Wn)}});return function(St){return Rt.apply(this,arguments)}}()}};function Ss(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ee("no-auth-event")}}function Ha(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function za(y=(0,F.z$)()){return!("file:"!==Ha()&&"ionic:"!==Ha()&&"capacitor:"!==Ha()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ts(){try{const y=self.localStorage,p=ws();if(y)return y.setItem(p,"1"),y.removeItem(p),!function Yd(y=(0,F.z$)()){return function ql(){return(0,F.w1)()&&11===document?.documentMode}()||function wp(y=(0,F.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,F.hl)()}catch{return nu()&&(0,F.hl)()}return!1}function nu(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Wl(){return(function $a(){return"http:"===Ha()||"https:"===Ha()}()||(0,F.ru)()||za())&&!function Gl(){return(0,F.b$)()||(0,F.UG)()}()&&Ts()&&!nu()}function iu(){return za()&&typeof document<"u"}function As(){return(As=(0,u.Z)(function*(){return!!iu()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const ir={LOCAL:"local",NONE:"none",SESSION:"session"},ns=j,ou="persistence";function su(y){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,u.Z)(function*(y){yield y._initializationPromise;const p=Ms(),g=R(ou,y.config.apiKey,y.name);p&&p.setItem(g,y._getPersistence())})).apply(this,arguments)}function Ms(){var y;try{return(null===(y=function Ga(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const au=j;class Lo{constructor(){this.browserResolver=ae(mp),this.cordovaResolver=ae(Kd),this.underlyingResolver=null,this._redirectPersistence=Ao,this._completeRedirectFn=ko,this._overrideRedirectResult=Pd}_initialize(p){var g=this;return(0,u.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,b,x){var M=this;return(0,u.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openPopup(p,g,b,x)})()}_openRedirect(p,g,b,x){var M=this;return(0,u.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openRedirect(p,g,b,x)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return iu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return au(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,u.Z)(function*(){if(p.underlyingResolver)return;const g=yield function ru(){return As.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function Xd(y){return y.unwrap()}function Jd(y){return Ep(y)}function Ep(y){const{_tokenResponse:p}=y instanceof F.ZR?y.customData:y;if(!p)return null;if(!(y instanceof F.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Rd.credentialFromResult(y);const g=p.providerId;if(!g||"password"===g)return null;let b;switch(g){case"google.com":b=gd;break;case"facebook.com":b=md;break;case"github.com":b=yl;break;case"twitter.com":b=Ca;break;default:const{oauthIdToken:x,oauthAccessToken:M,oauthTokenSecret:Y,pendingToken:ge,nonce:qe}=p;return M||Y||x||ge?ge?g.startsWith("saml.")?qo._create(g,ge):tr._fromParams({providerId:g,signInMethod:g,pendingToken:ge,idToken:x,accessToken:M}):new zs(g).credential({idToken:x,accessToken:M,rawNonce:qe}):null}return y instanceof F.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function pr(y,p){return p.catch(g=>{throw g instanceof F.ZR&&function ta(y,p){var g;const b=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p?.code)p.resolver=new th(y,function qv(y,p){var g;const b=(0,F.m9)(y),x=p;return j(p.customData.operationType,b,"argument-error"),j(null===(g=x.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),zf._fromError(b,x)}(y,p));else if(b){const x=Ep(p),M=p;x&&(M.credential=x,M.tenantId=b.tenantId||void 0,M.email=b.email||void 0,M.phoneNumber=b.phoneNumber||void 0)}}(y,g),g}).then(g=>{const x=g.user;return{operationType:g.operationType,credential:Jd(g),additionalUserInfo:yg(g),user:is.getOrCreate(x)}})}function Cp(y,p){return eh.apply(this,arguments)}function eh(){return(eh=(0,u.Z)(function*(y,p){const g=yield p;return{verificationId:g.verificationId,confirm:b=>pr(y,g.confirm(b))}})).apply(this,arguments)}class th{constructor(p,g){this.resolver=g,this.auth=function lu(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return pr(Xd(this.auth),this.resolver.resolveSignIn(p))}}class is{constructor(p){this._delegate=p,this.multiFactor=function Oc(y){const p=(0,F.m9)(y);return To.has(p)||To.set(p,bs._fromUser(p)),To.get(p)}(p)}static getOrCreate(p){return is.USER_MAP.has(p)||is.USER_MAP.set(p,new is(p)),is.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,u.Z)(function*(){return pr(g.auth,O(g._delegate,p))})()}linkWithPhoneNumber(p,g){var b=this;return(0,u.Z)(function*(){return Cp(b.auth,function sp(y,p,g){return Md.apply(this,arguments)}(b._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,u.Z)(function*(){return pr(g.auth,function bD(y,p,g){return en.apply(this,arguments)}(g._delegate,p,Lo))})()}linkWithRedirect(p){var g=this;return(0,u.Z)(function*(){return yield su(Q(g.auth)),function La(y,p,g){return function Ln(y,p,g){return Wc.apply(this,arguments)}(y,p,g)}(g._delegate,p,Lo)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,u.Z)(function*(){return pr(g.auth,le(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return Cp(this.auth,function vD(y,p,g){return xg.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return pr(this.auth,function Xv(y,p,g){return Gc.apply(this,arguments)}(this._delegate,p,Lo))}reauthenticateWithRedirect(p){var g=this;return(0,u.Z)(function*(){return yield su(Q(g.auth)),function Ol(y,p,g){return function Mg(y,p,g){return Fa.apply(this,arguments)}(y,p,g)}(g._delegate,p,Lo)})()}sendEmailVerification(p){return function mg(y,p){return Lf.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,u.Z)(function*(){return yield function El(y,p){return Gs.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function jv(y,p){return Vf((0,F.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function gg(y,p){return Vf((0,F.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function Hc(y,p){return Sg.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Ws(y,p){return Gr.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function Mc(y,p,g){return ni.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}is.USER_MAP=new WeakMap;const na=j;let Wa=(()=>{class y{constructor(g,b){if(this.app=g,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:x}=g.options;na(x,"invalid-api-key",{appName:g.name}),na(x,"invalid-api-key",{appName:g.name});const M=typeof window<"u"?Lo:void 0;this._delegate=b.initialize({options:{persistence:nh(x,g.name),popupRedirectResolver:M}}),this._delegate._updateErrorMap(We),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?is.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,b){!function Ue(y,p,g){const b=Q(y);j(b._canInitEmulator,b,"emulator-config-failed"),j(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const x=!!g?.disableWarnings,M=vt(p),{host:Y,port:ge}=function Sn(y){const p=vt(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(b);if(x){const M=x[1];return{host:M,port:pt(b.substr(M.length+1))}}{const[M,Y]=b.split(":");return{host:M,port:pt(Y)}}}(p);b.config.emulator={url:`${M}//${Y}${null===ge?"":`:${ge}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:Y,port:ge,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function pn(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,b)}applyActionCode(g){return function ys(y,p){return hr.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return ao(this._delegate,g)}confirmPasswordReset(g,b){return function _s(y,p,g){return Lt.apply(this,arguments)}(this._delegate,g,b)}createUserWithEmailAndPassword(g,b){var x=this;return(0,u.Z)(function*(){return pr(x._delegate,function vi(y,p,g){return Nf.apply(this,arguments)}(x._delegate,g,b))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function Ff(y,p){return Sa.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function pg(y,p){return"EMAIL_SIGNIN"===$s.parseLink(p)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,u.Z)(function*(){na(Wl(),g._delegate,"operation-not-supported-in-this-environment");const b=yield function Fd(y,p){return Ld.apply(this,arguments)}(g._delegate,Lo);return b?pr(g._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Zd(y,p){Q(y)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,b,x){const{next:M,error:Y,complete:ge}=cu(g,b,x);return this._delegate.onAuthStateChanged(M,Y,ge)}onIdTokenChanged(g,b,x){const{next:M,error:Y,complete:ge}=cu(g,b,x);return this._delegate.onIdTokenChanged(M,Y,ge)}sendSignInLinkToEmail(g,b){return function mn(y,p,g){return vd.apply(this,arguments)}(this._delegate,g,b)}sendPasswordResetEmail(g,b){return function zi(y,p,g){return Tr.apply(this,arguments)}(this._delegate,g,b||void 0)}setPersistence(g){var b=this;return(0,u.Z)(function*(){let x;switch(function qa(y,p){ns(Object.values(ir).includes(p),y,"invalid-persistence-type"),(0,F.b$)()?ns(p!==ir.SESSION,y,"unsupported-persistence-type"):(0,F.UG)()?ns(p===ir.NONE,y,"unsupported-persistence-type"):nu()?ns(p===ir.NONE||p===ir.LOCAL&&(0,F.hl)(),y,"unsupported-persistence-type"):ns(p===ir.NONE||Ts(),y,"unsupported-persistence-type")}(b._delegate,g),g){case ir.SESSION:x=Ao;break;case ir.LOCAL:x=(yield ae(Zo)._isAvailable())?Zo:Ed;break;case ir.NONE:x=B;break;default:return ke("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(x)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return pr(this._delegate,function Ec(y){return yd.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return pr(this._delegate,Ia(this._delegate,g))}signInWithCustomToken(g){return pr(this._delegate,function bn(y,p){return cn.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,b){return pr(this._delegate,function Ne(y,p,g){return Ia((0,F.m9)(y),_l.credential(p,g))}(this._delegate,g,b))}signInWithEmailLink(g,b){return pr(this._delegate,function Gi(y,p,g){return Tc.apply(this,arguments)}(this._delegate,g,b))}signInWithPhoneNumber(g,b){return Cp(this._delegate,function Nn(y,p,g){return op.apply(this,arguments)}(this._delegate,g,b))}signInWithPopup(g){var b=this;return(0,u.Z)(function*(){return na(Wl(),b._delegate,"operation-not-supported-in-this-environment"),pr(b._delegate,function zc(y,p,g){return Rl.apply(this,arguments)}(b._delegate,g,Lo))})()}signInWithRedirect(g){var b=this;return(0,u.Z)(function*(){return na(Wl(),b._delegate,"operation-not-supported-in-this-environment"),yield su(b._delegate),function Nd(y,p,g){return function Yo(y,p,g){return ct.apply(this,arguments)}(y,p,g)}(b._delegate,g,Lo)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Uv(y,p){return Sc.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=ir,y})();function cu(y,p,g){let b=y;"function"!=typeof y&&({next:b,error:p,complete:g}=y);const x=b;return{next:Y=>x(Y&&is.getOrCreate(Y)),error:p,complete:g}}function nh(y,p){const g=function Qd(y,p){const g=Ms();if(!g)return[];const b=R(ou,y,p);switch(g.getItem(b)){case ir.NONE:return[B];case ir.LOCAL:return[Zo,Ao];case ir.SESSION:return[Ao];default:return[]}}(y,p);if(typeof self<"u"&&!g.includes(Zo)&&g.push(Zo),typeof window<"u")for(const b of[Ed,Ao])g.includes(b)||g.push(b);return g.includes(B)||g.push(B),g}class Ka{constructor(){this.providerId="phone",this._delegate=new Rd(Xd(ne.Z.auth()))}static credential(p,g){return Rd.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}Ka.PHONE_SIGN_IN_METHOD=Rd.PHONE_SIGN_IN_METHOD,Ka.PROVIDER_ID=Rd.PROVIDER_ID;const uu=j;class rr{constructor(p,g,b=ne.Z.app()){var x;uu(null===(x=b.options)||void 0===x?void 0:x.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Al(p,g,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Dp(y){y.INTERNAL.registerComponent(new _e.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new Wa(g,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:_l,FacebookAuthProvider:md,GithubAuthProvider:yl,GoogleAuthProvider:gd,OAuthProvider:zs,SAMLAuthProvider:Wo,PhoneAuthProvider:Ka,PhoneMultiFactorGenerator:Ni,RecaptchaVerifier:rr,TwitterAuthProvider:Ca,Auth:Wa,AuthCredential:an,Error:F.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.3.0")}(ne.Z)},8766:(ht,xe,k)=>{k.d(xe,{Lj:()=>ke,X3:()=>Fe});var u=k(5861);let F,se;const _e=new WeakMap,ye=new WeakMap,ue=new WeakMap,G=new WeakMap,q=new WeakMap;let be={get(j,we,X){if(j instanceof IDBTransaction){if("done"===we)return ye.get(j);if("objectStoreNames"===we)return j.objectStoreNames||ue.get(j);if("store"===we)return X.objectStoreNames[1]?void 0:X.objectStore(X.objectStoreNames[0])}return Se(j[we])},set:(j,we,X)=>(j[we]=X,!0),has:(j,we)=>j instanceof IDBTransaction&&("done"===we||"store"===we)||we in j};function me(j){return"function"==typeof j?function tt(j){return j!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ie(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(j)?function(...we){return j.apply(Pe(this),we),Se(_e.get(this))}:function(...we){return Se(j.apply(Pe(this),we))}:function(we,...X){const te=j.call(Pe(this),we,...X);return ue.set(te,we.sort?we.sort():[we]),Se(te)}}(j):(j instanceof IDBTransaction&&function Re(j){if(ye.has(j))return;const we=new Promise((X,te)=>{const ae=()=>{j.removeEventListener("complete",oe),j.removeEventListener("error",He),j.removeEventListener("abort",He)},oe=()=>{X(),ae()},He=()=>{te(j.error||new DOMException("AbortError","AbortError")),ae()};j.addEventListener("complete",oe),j.addEventListener("error",He),j.addEventListener("abort",He)});ye.set(j,we)}(j),((j,we)=>we.some(X=>j instanceof X))(j,function fe(){return F||(F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(j,be):j)}function Se(j){if(j instanceof IDBRequest)return function J(j){const we=new Promise((X,te)=>{const ae=()=>{j.removeEventListener("success",oe),j.removeEventListener("error",He)},oe=()=>{X(Se(j.result)),ae()},He=()=>{te(j.error),ae()};j.addEventListener("success",oe),j.addEventListener("error",He)});return we.then(X=>{X instanceof IDBCursor&&_e.set(X,j)}).catch(()=>{}),q.set(we,j),we}(j);if(G.has(j))return G.get(j);const we=me(j);return we!==j&&(G.set(j,we),q.set(we,j)),we}const Pe=j=>q.get(j);function Fe(j,we,{blocked:X,upgrade:te,blocking:ae,terminated:oe}={}){const He=indexedDB.open(j,we),Be=Se(He);return te&&He.addEventListener("upgradeneeded",ut=>{te(Se(He.result),ut.oldVersion,ut.newVersion,Se(He.transaction))}),X&&He.addEventListener("blocked",()=>X()),Be.then(ut=>{oe&&ut.addEventListener("close",()=>oe()),ae&&ut.addEventListener("versionchange",()=>ae())}).catch(()=>{}),Be}function ke(j,{blocked:we}={}){const X=indexedDB.deleteDatabase(j);return we&&X.addEventListener("blocked",()=>we()),Se(X).then(()=>{})}const Ee=["get","getKey","getAll","getAllKeys","count"],Te=["put","add","delete","clear"],ze=new Map;function Ae(j,we){if(!(j instanceof IDBDatabase)||we in j||"string"!=typeof we)return;if(ze.get(we))return ze.get(we);const X=we.replace(/FromIndex$/,""),te=we!==X,ae=Te.includes(X);if(!(X in(te?IDBIndex:IDBObjectStore).prototype)||!ae&&!Ee.includes(X))return;const oe=function(){var He=(0,u.Z)(function*(Be,...ut){const tn=this.transaction(Be,ae?"readwrite":"readonly");let on=tn.store;return te&&(on=on.index(ut.shift())),(yield Promise.all([on[X](...ut),ae&&tn.done]))[0]});return function(ut){return He.apply(this,arguments)}}();return ze.set(we,oe),oe}!function We(j){be=j(be)}(j=>({...j,get:(we,X,te)=>Ae(we,X)||j.get(we,X,te),has:(we,X)=>!!Ae(we,X)||j.has(we,X)}))},5861:(ht,xe,k)=>{function u(F,se,fe,ie,_e,ye,ue){try{var G=F[ye](ue),q=G.value}catch(J){return void fe(J)}G.done?se(q):Promise.resolve(q).then(ie,_e)}function ne(F){return function(){var se=this,fe=arguments;return new Promise(function(ie,_e){var ye=F.apply(se,fe);function ue(q){u(ye,ie,_e,ue,G,"next",q)}function G(q){u(ye,ie,_e,ue,G,"throw",q)}ue(void 0)})}}k.d(xe,{Z:()=>ne})}},ht=>{ht(ht.s=5600)}]);